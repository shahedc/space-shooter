// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var w,ba,ca,fa,ga,ha,ia,ja,ka,la,ma,oa,pa,qa,ra,ta,ua,xa,za,Aa,Ba,Ca,Da,F,Ea,Ga,Ha,Ia,Ja,G,Ma,Na,Sa,Ta,Va,bb,cb,db,eb,hb,lb,mb,nb,ob,tb,ub,wb,xb,Db,Eb,Fb,Gb,Hb,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,mc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,g){this.set(a,b,c,g)}function c(){this.Cc=this.Bc=this.Ec=this.Dc=this.Nc=this.Mc=this.ec=this.cc=0}function b(a,b,c,g){a<b?c<g?(r=a<c?a:c,t=b>g?b:g):(r=a<g?a:g,t=b>c?b:c):c<g?(r=b<c?b:c,t=a>g?a:g):(r=b<g?b:g,t=a>c?a:c)}function d(){this.items=this.ef=null;this.xj=0;B&&(this.ef=new Set);this.Ai=[];this.Yf=!0}function f(a){D[C++]=a}function k(){this.bb=this.gm=this.y=this.C=0}function e(a){this.Lb=[];this.uk=this.wk=this.xk=this.vk=0;this.Fk=null;this.Zj(a)}function g(a,
b){this.Lm=a;this.Km=b;this.cells={}}function h(a,b){this.Lm=a;this.Km=b;this.cells={}}function m(a,b,c){var g;return E.length?(g=E.pop(),g.un=a,g.x=b,g.y=c,g):new ba(a,b,c)}function l(a,b,c){this.un=a;this.x=b;this.y=c;this.nc=new ca}function n(a,b,c){var g;return y.length?(g=y.pop(),g.un=a,g.x=b,g.y=c,g):new fa(a,b,c)}function q(a,b,c){this.un=a;this.x=b;this.y=c;this.nc=[];this.bi=!0;this.$e=new ca;this.Oi=!1}function p(a,b){return a.Ie-b.Ie}ga=function(a){window.console&&window.console.log&&window.console.log(a)};
ha=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};ka=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};oa=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;ta=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var b=a|0;return b===a?b:b+
1};xa=function(a,b,c,g,d,l,e,h){var f,n,m,k;a<c?(n=a,f=c):(n=c,f=a);d<e?(k=d,m=e):(k=e,m=d);if(f<k||n>m)return!1;b<g?(n=b,f=g):(n=g,f=b);l<h?(k=l,m=h):(k=h,m=l);if(f<k||n>m)return!1;f=d-a+e-c;n=l-b+h-g;a=c-a;b=g-b;d=e-d;l=h-l;h=oa(b*d-l*a);return oa(d*n-l*f)>h?!1:oa(a*n-b*f)<=h};a.prototype.set=function(a,b,c,g){this.left=a;this.top=b;this.right=c;this.bottom=g};a.prototype.Vi=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.Rv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.Sv=function(a,b,c){return!(a.right+
b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.nd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.aj=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};za=a;c.prototype.Yj=function(a){this.cc=a.left;this.ec=a.top;this.Mc=a.right;this.Nc=a.top;this.Dc=a.right;this.Ec=a.bottom;this.Bc=a.left;this.Cc=a.bottom};c.prototype.Kr=function(a,b){if(0===b)this.Yj(a);else{var c=
Math.sin(b),g=Math.cos(b),d=a.left*c,l=a.top*c,e=a.right*c,c=a.bottom*c,h=a.left*g,f=a.top*g,n=a.right*g,g=a.bottom*g;this.cc=h-l;this.ec=f+d;this.Mc=n-l;this.Nc=f+e;this.Dc=n-c;this.Ec=g+e;this.Bc=h-c;this.Cc=g+d}};c.prototype.offset=function(a,b){this.cc+=a;this.ec+=b;this.Mc+=a;this.Nc+=b;this.Dc+=a;this.Ec+=b;this.Bc+=a;this.Cc+=b;return this};var r=0,t=0;c.prototype.wp=function(a){b(this.cc,this.Mc,this.Dc,this.Bc);a.left=r;a.right=t;b(this.ec,this.Nc,this.Ec,this.Cc);a.top=r;a.bottom=t};c.prototype.nd=
function(a,b){var c=this.cc,g=this.ec,d=this.Mc-c,l=this.Nc-g,e=this.Dc-c,h=this.Ec-g,f=a-c,n=b-g,m=d*d+l*l,k=d*e+l*h,l=d*f+l*n,u=e*e+h*h,p=e*f+h*n,q=1/(m*u-k*k),d=(u*l-k*p)*q,m=(m*p-k*l)*q;if(0<=d&&0<m&&1>d+m)return!0;d=this.Bc-c;l=this.Cc-g;m=d*d+l*l;k=d*e+l*h;l=d*f+l*n;q=1/(m*u-k*k);d=(u*l-k*p)*q;m=(m*p-k*l)*q;return 0<=d&&0<m&&1>d+m};c.prototype.Wf=function(a,b){if(b)switch(a){case 0:return this.cc;case 1:return this.Mc;case 2:return this.Dc;case 3:return this.Bc;case 4:return this.cc;default:return this.cc}else switch(a){case 0:return this.ec;
case 1:return this.Nc;case 2:return this.Ec;case 3:return this.Cc;case 4:return this.ec;default:return this.ec}};c.prototype.tg=function(){return(this.cc+this.Mc+this.Dc+this.Bc)/4};c.prototype.ug=function(){return(this.ec+this.Nc+this.Ec+this.Cc)/4};c.prototype.hq=function(a){var b=a.tg(),c=a.ug();if(this.nd(b,c))return!0;b=this.tg();c=this.ug();if(a.nd(b,c))return!0;var g,d,l,e,h,f,n,m;for(n=0;4>n;n++)for(m=0;4>m;m++)if(b=this.Wf(n,!0),c=this.Wf(n,!1),g=this.Wf(n+1,!0),d=this.Wf(n+1,!1),l=a.Wf(m,
!0),e=a.Wf(m,!1),h=a.Wf(m+1,!0),f=a.Wf(m+1,!1),xa(b,c,g,d,l,e,h,f))return!0;return!1};Aa=c;Ba=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ca=function(a,b){var c,g;b=ta(b);if(!(0>b||b>=a.length)){c=b;for(g=a.length-1;c<g;c++)a[c]=a[c+1];Da(a,g)}};Da=function(a,b){a.length=b};F=function(a){Da(a,0)};Ea=function(a,b){F(a);var c,g;c=0;for(g=b.length;c<g;++c)a[c]=b[c]};Ga=function(a,b){a.push.apply(a,b)};Ha=function(a,b){var c,g;c=0;for(g=a.length;c<g;++c)if(a[c]===b)return c;
return-1};Ia=function(a,b){var c=Ha(a,b);-1!==c&&Ca(a,c)};Ja=function(a,b,c){return a<b?b:a>c?c:a};G=function(a){return a/(180/ra)};Ma=function(a){return 180/ra*a};Na=function(a){a%=360;0>a&&(a+=360);return a};Sa=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ta=function(a){return Na(Ma(a))};Va=function(a){return Sa(G(a))};bb=function(a,b,c,g){return Math.atan2(g-b,c-a)};cb=function(a,b){if(a===b)return 0;var c=Math.sin(a),g=Math.cos(a),d=Math.sin(b),l=Math.cos(b),c=c*d+g*l;return 1<=c?0:-1>=c?ra:Math.acos(c)};
db=function(a,b,c){var g=Math.sin(a),d=Math.cos(a),l=Math.sin(b),e=Math.cos(b);return Math.acos(g*l+d*e)>c?0<d*l-g*e?Sa(a+c):Sa(a-c):Sa(b)};eb=function(a,b){var c=Math.sin(a),g=Math.cos(a),d=Math.sin(b),l=Math.cos(b);return 0>=g*d-c*l};hb=function(a,b,c,g){a=c-a;b=g-b;return Math.sqrt(a*a+b*b)};lb=function(a,b){return!a!==!b};mb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};nb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var v=+new Date;ob=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-v};var u=!1,x=u=!1,z=!1;"undefined"!==typeof window&&(u=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),u=!u&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);
var B=!u&&!z&&!x&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.vf()?!1:B?this.ef.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(B)this.ef.has(a)||(this.ef.add(a),this.Yf=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.xj++,this.Yf=!1):(this.items={},this.items[b]=a,this.xj=1,this.Yf=!1)}};d.prototype.remove=function(a){if(!this.vf())if(B)this.ef.has(a)&&(this.ef["delete"](a),
this.Yf=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.xj--,this.Yf=!1)}};d.prototype.clear=function(){this.vf()||(B?this.ef.clear():(this.items=null,this.xj=0),F(this.Ai),this.Yf=!0)};d.prototype.vf=function(){return 0===this.count()};d.prototype.count=function(){return B?this.ef.size:this.xj};var D=null,C=0;d.prototype.Tw=function(){if(!this.Yf){if(B)F(this.Ai),D=this.Ai,C=0,this.ef.forEach(f),D=null,C=0;else{var a=this.Ai;F(a);var b,c=0,g=this.items;
if(g)for(b in g)g.hasOwnProperty(b)&&(a[c++]=g[b])}this.Yf=!0}};d.prototype.jf=function(){this.Tw();return this.Ai};ca=d;new ca;tb=function(a,b){B?ub(a,b.ef):wb(a,b.jf())};ub=function(a,b){var c,g,d,l;g=c=0;for(d=a.length;c<d;++c)l=a[c],b.has(l)||(a[g++]=l);Da(a,g)};wb=function(a,b){var c,g,d,l;g=c=0;for(d=a.length;c<d;++c)l=a[c],-1===Ha(b,l)&&(a[g++]=l);Da(a,g)};k.prototype.add=function(a){this.y=a-this.C;this.gm=this.bb+this.y;this.C=this.gm-this.bb-this.y;this.bb=this.gm};k.prototype.reset=function(){this.bb=
this.gm=this.y=this.C=0};xb=k;Db=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.Zj=function(a){this.qr=a;this.Rd=a.length/2;this.Lb.length=a.length;this.Bk=this.Ck=-1;this.zp=0};e.prototype.fh=function(){return!this.qr.length};e.prototype.Na=function(){for(var a=this.Lb,b=a[0],c=b,g=a[1],d=g,l,e,h=1,f=this.Rd;h<f;++h)e=2*h,l=a[e],e=a[e+1],l<b&&(b=l),l>c&&(c=l),e<g&&(g=e),e>d&&(d=e);this.vk=b;this.wk=c;this.xk=g;this.uk=d};e.prototype.Yj=function(a,b,c){this.Lb.length=
8;this.Rd=4;var g=this.Lb;g[0]=a.left-b;g[1]=a.top-c;g[2]=a.right-b;g[3]=a.top-c;g[4]=a.right-b;g[5]=a.bottom-c;g[6]=a.left-b;g[7]=a.bottom-c;this.Ck=a.right-a.left;this.Bk=a.bottom-a.top;this.Na()};e.prototype.ti=function(a,b,c,g,d){this.Lb.length=8;this.Rd=4;var l=this.Lb;l[0]=a.cc-b;l[1]=a.ec-c;l[2]=a.Mc-b;l[3]=a.Nc-c;l[4]=a.Dc-b;l[5]=a.Ec-c;l[6]=a.Bc-b;l[7]=a.Cc-c;this.Ck=g;this.Bk=d;this.Na()};e.prototype.Jr=function(a){this.Rd=a.Rd;Ea(this.Lb,a.Lb);this.vk=a.vk;this.xk-a.xk;this.wk=a.wk;this.uk=
a.uk};e.prototype.Pg=function(a,b,c){if(this.Ck!==a||this.Bk!==b||this.zp!==c){this.Ck=a;this.Bk=b;this.zp=c;var g,l,d,e,h,f=0,n=1,m=this.qr,k=this.Lb;0!==c&&(f=Math.sin(c),n=Math.cos(c));c=0;for(d=this.Rd;c<d;c++)g=2*c,l=g+1,e=m[g]*a,h=m[l]*b,k[g]=e*n-h*f,k[l]=h*n+e*f;this.Na()}};e.prototype.nd=function(a,b){var c=this.Lb;if(a===c[0]&&b===c[1])return!0;var g,l,d,e=this.Rd,h=this.vk-110,f=this.xk-101,n=this.wk+131,m=this.uk+120,k,u,p=0,q=0;for(g=0;g<e;g++)l=2*g,d=(g+1)%e*2,k=c[l],l=c[l+1],u=c[d],
d=c[d+1],xa(h,f,a,b,k,l,u,d)&&p++,xa(n,m,a,b,k,l,u,d)&&q++;return 1===p%2||1===q%2};e.prototype.qj=function(a,b,c){var g=a.Lb,l=this.Lb;if(this.nd(g[0]+b,g[1]+c)||a.nd(l[0]-b,l[1]-c))return!0;var d,e,h,f,n,m,k,u,p,q,x,r;d=0;for(f=this.Rd;d<f;d++)for(e=2*d,h=(d+1)%f*2,u=l[e],e=l[e+1],p=l[h],q=l[h+1],h=0,k=a.Rd;h<k;h++)if(n=2*h,m=(h+1)%k*2,x=g[n]+b,n=g[n+1]+c,r=g[m]+b,m=g[m+1]+c,xa(u,e,p,q,x,n,r,m))return!0;return!1};Eb=e;g.prototype.hg=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=
m(this,a,b),this.cells[a][b]=g):null:c?(g=m(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};g.prototype.Uc=function(a){return ta(a/this.Lm)};g.prototype.Vc=function(a){return ta(a/this.Km)};g.prototype.update=function(a,b,c){var g,l,d,e,h;if(b)for(g=b.left,l=b.right;g<=l;++g)for(d=b.top,e=b.bottom;d<=e;++d)if(!c||!c.nd(g,d))if(h=this.hg(g,d,!1))h.remove(a),h.vf()&&(h.nc.clear(),1E3>E.length&&E.push(h),this.cells[g][d]=null);if(c)for(g=c.left,l=c.right;g<=l;++g)for(d=c.top,e=c.bottom;d<=e;++d)b&&
b.nd(g,d)||this.hg(g,d,!0).Bn(a)};g.prototype.Ql=function(a,b){var c,g,d,l,e,h;c=this.Uc(a.left);d=this.Vc(a.top);g=this.Uc(a.right);for(e=this.Vc(a.bottom);c<=g;++c)for(l=d;l<=e;++l)(h=this.hg(c,l,!1))&&h.dump(b)};Fb=g;h.prototype.hg=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=n(this,a,b),this.cells[a][b]=g):null:c?(g=n(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};h.prototype.Uc=function(a){return ta(a/this.Lm)};h.prototype.Vc=function(a){return ta(a/this.Km)};h.prototype.update=
function(a,b,c){var g,d,l,e,h;if(b)for(g=b.left,d=b.right;g<=d;++g)for(l=b.top,e=b.bottom;l<=e;++l)if(!c||!c.nd(g,l))if(h=this.hg(g,l,!1))h.remove(a),h.vf()&&(h.reset(),1E3>y.length&&y.push(h),this.cells[g][l]=null);if(c)for(g=c.left,d=c.right;g<=d;++g)for(l=c.top,e=c.bottom;l<=e;++l)b&&b.nd(g,l)||this.hg(g,l,!0).Bn(a)};h.prototype.Ql=function(a,b,c,g,l){var d,e;a=this.Uc(a);b=this.Vc(b);c=this.Uc(c);for(d=this.Vc(g);a<=c;++a)for(g=b;g<=d;++g)(e=this.hg(a,g,!1))&&e.dump(l)};h.prototype.ew=function(a){var b,
c,g,l,d;b=a.left;g=a.top;c=a.right;for(l=a.bottom;b<=c;++b)for(a=g;a<=l;++a)if(d=this.hg(b,a,!1))d.bi=!1};Gb=h;var E=[];l.prototype.vf=function(){return this.nc.vf()};l.prototype.Bn=function(a){this.nc.add(a)};l.prototype.remove=function(a){this.nc.remove(a)};l.prototype.dump=function(a){Ga(a,this.nc.jf())};ba=l;var y=[];q.prototype.vf=function(){if(!this.nc.length)return!0;if(this.nc.length>this.$e.count())return!1;this.dn();return!0};q.prototype.Bn=function(a){this.$e.contains(a)?(this.$e.remove(a),
this.$e.vf()&&(this.Oi=!1)):this.nc.length?(this.nc[this.nc.length-1].We()>a.We()&&(this.bi=!1),this.nc.push(a)):(this.nc.push(a),this.bi=!0)};q.prototype.remove=function(a){this.$e.add(a);this.Oi=!0;30<=this.$e.count()&&this.dn()};q.prototype.dn=function(){this.Oi&&(this.$e.count()===this.nc.length?this.reset():(tb(this.nc,this.$e),this.$e.clear(),this.Oi=!1))};q.prototype.zu=function(){this.bi||(this.nc.sort(p),this.bi=!0)};q.prototype.reset=function(){F(this.nc);this.bi=!0;this.$e.clear();this.Oi=
!1};q.prototype.dump=function(a){this.dn();this.zu();this.nc.length&&a.push(this.nc)};fa=q;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Hb=function(a){return 0>=a||11<=a?"source-over":A[a-1]};Jb=function(a,b,c){if(c)switch(a.Kc=c.ONE,a.Fc=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Kc=c.ONE;a.Fc=c.ONE;break;case 3:a.Kc=c.ONE;a.Fc=c.ZERO;break;case 4:a.Kc=c.ONE_MINUS_DST_ALPHA;a.Fc=c.ONE;break;case 5:a.Kc=c.DST_ALPHA;a.Fc=
c.ZERO;break;case 6:a.Kc=c.ZERO;a.Fc=c.SRC_ALPHA;break;case 7:a.Kc=c.ONE_MINUS_DST_ALPHA;a.Fc=c.ZERO;break;case 8:a.Kc=c.ZERO;a.Fc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Kc=c.DST_ALPHA;a.Fc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Kc=c.ONE_MINUS_DST_ALPHA,a.Fc=c.SRC_ALPHA}};Kb=function(a){return Math.round(1E6*a)/1E6};Lb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Mb=function(a){a=a.target;return!a||a===document||a===
window||document&&document.body&&a===document.body||Lb(a.tagName,"canvas")?!0:!1}})();var Mc="undefined"!==typeof Float32Array?Float32Array:Array;function Xc(a){var c=new Mc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}function Yc(a){var c=new Mc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}
function Zc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}function $c(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function ad(a,c,b,d){d||(d=Yc());var f,k,e,g,h,m,l,n,q=a[0],p=a[1];a=a[2];k=b[0];e=b[1];f=b[2];b=c[1];m=c[2];q===c[0]&&p===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],m=p-c[1],l=a-c[2],n=1/Math.sqrt(b*b+m*m+l*l),b*=n,m*=n,l*=n,c=e*l-f*m,f=f*b-k*l,k=k*m-e*b,(n=Math.sqrt(c*c+f*f+k*k))?(n=1/n,c*=n,f*=n,k*=n):k=f=c=0,e=m*k-l*f,g=l*c-b*k,h=b*f-m*c,(n=Math.sqrt(e*e+g*g+h*h))?(n=1/n,e*=n,g*=n,h*=n):h=g=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=f,d[5]=g,d[6]=m,d[7]=0,d[8]=k,d[9]=h,d[10]=l,d[11]=0,d[12]=-(c*q+f*p+k*a),d[13]=-(e*q+g*p+h*a),d[14]=-(b*q+m*p+l*a),d[15]=1)}
(function(){function a(a,b,c){this.wf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.kb=!!c;this.cl=this.rj=!1;this.Um=0;this.vm=1;this.dp=1E3;this.Zw=(this.dp-this.vm)/32768;this.Im=Xc([0,0,100]);this.Cq=Xc([0,0,0]);this.gs=Xc([0,1,0]);this.lk=Xc([1,1,1]);this.Jp=!0;this.Dl=Yc();this.Pd=Yc();this.Rn=Yc();this.Tm=Yc();this.ea=a;this.cq()}function c(a,b,c){this.ea=a;this.$j=b;this.name=c;this.de=a.getAttribLocation(b,"aPos");this.rg=a.getAttribLocation(b,
"aTex");this.Aq=a.getUniformLocation(b,"matP");this.zl=a.getUniformLocation(b,"matMV");this.ji=a.getUniformLocation(b,"opacity");this.ao=a.getUniformLocation(b,"colorFill");this.Bq=a.getUniformLocation(b,"samplerFront");this.Gj=a.getUniformLocation(b,"samplerBack");this.mh=a.getUniformLocation(b,"destStart");this.lh=a.getUniformLocation(b,"destEnd");this.Ij=a.getUniformLocation(b,"seconds");this.co=a.getUniformLocation(b,"pixelWidth");this.bo=a.getUniformLocation(b,"pixelHeight");this.Fj=a.getUniformLocation(b,
"layerScale");this.Ej=a.getUniformLocation(b,"layerAngle");this.Jj=a.getUniformLocation(b,"viewOrigin");this.Hj=a.getUniformLocation(b,"scrollPos");this.Nv=!!(this.co||this.bo||this.Ij||this.Gj||this.mh||this.lh||this.Fj||this.Ej||this.Jj||this.Hj);this.Kq=this.Lq=-999;this.Cl=1;this.Gq=this.Fq=0;this.Iq=this.Eq=this.Dq=1;this.Oq=this.Nq=this.Mq=this.Qq=this.Pq=this.Hq=0;this.Pn=[];this.Jq=Yc();this.ji&&a.uniform1f(this.ji,1);this.ao&&a.uniform4f(this.ao,1,1,1,1);this.Bq&&a.uniform1i(this.Bq,0);this.Gj&&
a.uniform1i(this.Gj,1);this.mh&&a.uniform2f(this.mh,0,0);this.lh&&a.uniform2f(this.lh,1,1);this.Fj&&a.uniform1f(this.Fj,1);this.Ej&&a.uniform1f(this.Ej,0);this.Jj&&a.uniform2f(this.Jj,0,0);this.Hj&&a.uniform2f(this.Hj,0,0);this.Ij&&a.uniform1f(this.Ij,0);this.Zg=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.aa=b;this.ea=b.ea;this.Xe=this.Tc=this.cr=0;this.Ba=this.me=null;this.Lr=[]}var f=Yc();a.prototype.cq=function(){var a=this.ea,b;this.vq=1;this.ih=this.ng=null;this.Ik=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.kb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.wq=a.ONE;this.uq=a.ONE_MINUS_SRC_ALPHA;
this.rm=new Float32Array(8E3*(this.kb?3:2));this.hm=new Float32Array(16E3);this.jr=new Float32Array(32E3);this.ro=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ro);a.bufferData(a.ARRAY_BUFFER,this.jr.byteLength,a.DYNAMIC_DRAW);this.jk=Array(4);this.dk=Array(4);for(b=0;4>b;b++)this.jk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.jk[b]),a.bufferData(a.ARRAY_BUFFER,this.rm.byteLength,a.DYNAMIC_DRAW),this.dk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.dk[b]),a.bufferData(a.ARRAY_BUFFER,
this.hm.byteLength,a.DYNAMIC_DRAW);this.pf=0;this.Pv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Pv);for(var c=new Uint16Array(12E3),l=b=0;12E3>b;)c[b++]=l,c[b++]=l+1,c[b++]=l+2,c[b++]=l,c[b++]=l+2,c[b++]=l+3,l+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.so=this.xi=this.Nf=0;this.Fb=[];b=this.kb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Wi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Fb.push(c);c=this.Wi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Fb.push(c);c=this.Wi({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Fb.push(c);c=this.Wi({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Fb.push(c);for(var d in bd)bd.hasOwnProperty(d)&&this.Fb.push(this.Wi(bd[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Xf=[];this.nf=0;this.Hc=!1;this.Gp=this.zj=-1;this.Sh=null;this.cn=a.createFramebuffer();this.Kk=this.Rl=null;this.tp=!1;this.kb&&(this.Kk=a.createRenderbuffer());this.Dg=Xc([0,0,0]);this.Sq=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Sq&&(this.Sq=2048);this.fd(0)};c.prototype.Zo=function(a){b(this.Jq,a)||(Zc(a,this.Jq),this.ea.uniformMatrix4fv(this.zl,
!1,a))};a.prototype.Wi=function(a,b,d){var l=this.ea,e=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(e,a.src);l.compileShader(e);if(!l.getShaderParameter(e,l.COMPILE_STATUS))return l.deleteShader(e),null;var f=l.createShader(l.VERTEX_SHADER);l.shaderSource(f,b);l.compileShader(f);if(!l.getShaderParameter(f,l.COMPILE_STATUS))return l.deleteShader(e),l.deleteShader(f),null;b=l.createProgram();l.attachShader(b,e);l.attachShader(b,f);l.linkProgram(b);if(!l.getProgramParameter(b,l.LINK_STATUS))return l.deleteShader(e),
l.deleteShader(f),l.deleteProgram(b),null;l.useProgram(b);l.deleteShader(e);l.deleteShader(f);d=new c(l,b,d);d.an=a.an||0;d.bn=a.bn||0;d.Ep=!!a.Ep;d.Ce=!!a.Ce;d.rp=!!a.rp;d.Da=a.Da||[];a=0;for(e=d.Da.length;a<e;a++)d.Da[a][1]=l.getUniformLocation(b,d.Da[a][0]),d.Pn.push(0),l.uniform1f(d.Da[a][1],0);return d};a.prototype.sn=function(a){var b,c;b=0;for(c=this.Fb.length;b<c;b++)if(this.Fb[b].name===a)return b;return-1};a.prototype.or=function(a,b,c){var d=this.Pd,e=this.Dl,f=[0,0,0,0,0,0,0,0];f[0]=d[0]*
a+d[4]*b+d[12];f[1]=d[1]*a+d[5]*b+d[13];f[2]=d[2]*a+d[6]*b+d[14];f[3]=d[3]*a+d[7]*b+d[15];f[4]=e[0]*f[0]+e[4]*f[1]+e[8]*f[2]+e[12]*f[3];f[5]=e[1]*f[0]+e[5]*f[1]+e[9]*f[2]+e[13]*f[3];f[6]=e[2]*f[0]+e[6]*f[1]+e[10]*f[2]+e[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],c[0]=(.5*f[4]+.5)*this.width,c[1]=(.5*f[5]+.5)*this.height)};a.prototype.Bh=function(a,b,c){if(this.width!==a||this.height!==b||c){this.eg();c=this.ea;this.width=a;this.height=b;c.viewport(0,0,a,b);ad(this.Im,
this.Cq,this.gs,this.Pd);if(this.kb){var d=-a/2;a=a/2;var e=b/2;b=-b/2;var f=this.vm,k=this.dp,r=this.Dl;r||(r=Yc());var t=a-d,v=b-e,u=k-f;r[0]=2/t;r[1]=0;r[2]=0;r[3]=0;r[4]=0;r[5]=2/v;r[6]=0;r[7]=0;r[8]=0;r[9]=0;r[10]=-2/u;r[11]=0;r[12]=-(d+a)/t;r[13]=-(b+e)/v;r[14]=-(k+f)/u;r[15]=1;this.lk[0]=1;this.lk[1]=1}else b=a/b,d=this.vm,a=this.dp,r=this.Dl,k=d*Math.tan(45*Math.PI/360),b*=k,e=-b,f=-k,r||(r=Yc()),t=b-e,v=k-f,u=a-d,r[0]=2*d/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*d/v,r[6]=0,r[7]=0,r[8]=(b+e)/
t,r[9]=(k+f)/v,r[10]=-(a+d)/u,r[11]=-1,r[12]=0,r[13]=0,r[14]=-(a*d*2)/u,r[15]=0,d=[0,0],a=[0,0],this.or(0,0,d),this.or(1,1,a),this.lk[0]=1/(a[0]-d[0]),this.lk[1]=-1/(a[1]-d[1]);d=0;for(a=this.Fb.length;d<a;d++)e=this.Fb[d],e.Zg=!1,e.Aq&&(c.useProgram(e.$j),c.uniformMatrix4fv(e.Aq,!1,this.Dl));c.useProgram(this.Fb[this.zj].$j);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.ih=this.ng=null;this.Kk&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.cn),c.bindRenderbuffer(c.RENDERBUFFER,this.Kk),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.tp||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Kk),this.tp=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Rl=null)}};a.prototype.ie=function(){ad(this.Im,this.Cq,this.gs,this.Pd);$c(this.Pd,this.lk)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Dg[0]=a;this.Dg[1]=b;this.Dg[2]=
0;var c=this.Pd,d=this.Dg,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Dg[0]=a,this.Dg[1]=b,this.Dg[2]=1,$c(this.Pd,this.Dg)};a.prototype.Ul=function(a){if(0!==a){var b=this.Pd,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],f=b[1],k=b[2],r=b[3],t=b[4],v=b[5],u=b[6],x=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+t*d;c[1]=f*a+v*d;c[2]=k*a+u*d;c[3]=r*a+x*d;c[4]=e*-d+t*a;c[5]=f*-d+v*a;c[6]=k*-d+u*a;c[7]=r*-d+x*a}};a.prototype.Td=function(){if(!b(this.Rn,this.Pd)){var a=this.yd();a.type=5;a.Ba?Zc(this.Pd,a.Ba):a.Ba=Yc(this.Pd);Zc(this.Pd,this.Rn);this.Hc=!1}};a.prototype.Xl=function(a){this.kb&&(32760<a&&(a=32760),this.Um=this.Im[2]-this.vm-a*this.Zw)};d.prototype.ju=function(){var a=this.ea,b=this.aa;0!==this.Tc?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.cn),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.cl=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.cl=!1)};d.prototype.nu=function(){this.ea.bindTexture(this.ea.TEXTURE_2D,this.me)};d.prototype.ou=function(){var a=this.ea;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.me);a.activeTexture(a.TEXTURE0)};d.prototype.ku=function(){var a=
this.cr,b=this.aa;b.Ik=a;b=b.Sh;b.ji&&b.Cl!==a&&(b.Cl=a,this.ea.uniform1f(b.ji,a))};d.prototype.eu=function(){this.ea.drawElements(this.ea.TRIANGLES,this.Xe,this.ea.UNSIGNED_SHORT,this.Tc)};d.prototype.gu=function(){this.ea.blendFunc(this.Tc,this.Xe)};d.prototype.pu=function(){var a,b,c,d=this.aa.Fb,e=this.aa.Gp;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.zl?(c.Zo(this.Ba),c.Zg=!0):c.Zg=!1;Zc(this.Ba,this.aa.Tm)};d.prototype.fu=function(){var a=this.ea,b=this.aa;this.me?(b.ih===this.me&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.ih=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.cn),b.cl||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.me,0)):(b.kb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.$t=function(){var a=this.ea,b=this.Tc;0===b?(a.clearColor(this.Ba[0],this.Ba[1],this.Ba[2],this.Ba[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Ba[0],
this.Ba[1],this.Ba[2],this.Ba[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.iu=function(){var a=this.ea;0!==this.Tc?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.du=function(){var a=this.ea,b=this.aa;b.kb&&a.disable(a.DEPTH_TEST);var c=b.Fb[1];a.useProgram(c.$j);!c.Zg&&c.zl&&(c.Zo(b.Tm),c.Zg=!0);a.enableVertexAttribArray(c.de);a.bindBuffer(a.ARRAY_BUFFER,b.ro);a.vertexAttribPointer(c.de,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.Tc/4,this.Xe);c=b.Sh;a.useProgram(c.$j);0<=c.de&&(a.enableVertexAttribArray(c.de),a.bindBuffer(a.ARRAY_BUFFER,b.jk[b.pf]),a.vertexAttribPointer(c.de,b.kb?3:2,a.FLOAT,!1,0,0));0<=c.rg&&(a.enableVertexAttribArray(c.rg),a.bindBuffer(a.ARRAY_BUFFER,b.dk[b.pf]),a.vertexAttribPointer(c.rg,2,a.FLOAT,!1,0,0));b.kb&&a.enable(a.DEPTH_TEST)};d.prototype.lu=function(){var a=this.ea,b=this.aa,c=b.Fb[this.Tc];b.Gp=this.Tc;b.Sh=c;a.useProgram(c.$j);!c.Zg&&c.zl&&(c.Zo(b.Tm),c.Zg=!0);c.ji&&c.Cl!==b.Ik&&(c.Cl=
b.Ik,a.uniform1f(c.ji,b.Ik));0<=c.de&&(a.enableVertexAttribArray(c.de),a.bindBuffer(a.ARRAY_BUFFER,b.jk[b.pf]),a.vertexAttribPointer(c.de,b.kb?3:2,a.FLOAT,!1,0,0));0<=c.rg&&(a.enableVertexAttribArray(c.rg),a.bindBuffer(a.ARRAY_BUFFER,b.dk[b.pf]),a.vertexAttribPointer(c.rg,2,a.FLOAT,!1,0,0))};d.prototype.hu=function(){var a=this.Ba;this.ea.uniform4f(this.aa.Sh.ao,a[0],a[1],a[2],a[3])};d.prototype.mu=function(){var a,b,c=this.aa.Sh,d=this.ea;a=this.Ba;c.Gj&&this.aa.ih!==this.me&&(d.activeTexture(d.TEXTURE1),
d.bindTexture(d.TEXTURE_2D,this.me),this.aa.ih=this.me,d.activeTexture(d.TEXTURE0));var e=a[0];c.co&&e!==c.Lq&&(c.Lq=e,d.uniform1f(c.co,e));e=a[1];c.bo&&e!==c.Kq&&(c.Kq=e,d.uniform1f(c.bo,e));e=a[2];b=a[3];!c.mh||e===c.Fq&&b===c.Gq||(c.Fq=e,c.Gq=b,d.uniform2f(c.mh,e,b));e=a[4];b=a[5];!c.lh||e===c.Dq&&b===c.Eq||(c.Dq=e,c.Eq=e,d.uniform2f(c.lh,e,b));e=a[6];c.Fj&&e!==c.Iq&&(c.Iq=e,d.uniform1f(c.Fj,e));e=a[7];c.Ej&&e!==c.Hq&&(c.Hq=e,d.uniform1f(c.Ej,e));e=a[8];b=a[9];!c.Jj||e===c.Pq&&b===c.Qq||(c.Pq=
e,c.Qq=b,d.uniform2f(c.Jj,e,b));e=a[10];b=a[11];!c.Hj||e===c.Mq&&b===c.Nq||(c.Mq=e,c.Nq=b,d.uniform2f(c.Hj,e,b));e=a[12];c.Ij&&e!==c.Oq&&(c.Oq=e,d.uniform1f(c.Ij,e));if(c.Da.length)for(a=0,b=c.Da.length;a<b;a++)e=this.Lr[a],e!==c.Pn[a]&&(c.Pn[a]=e,d.uniform1f(c.Da[a][1],e))};a.prototype.yd=function(){this.nf===this.Xf.length&&this.Xf.push(new d(0,this));return this.Xf[this.nf++]};a.prototype.eg=function(){if(0!==this.nf&&!this.ea.isContextLost()){var a=this.ea;0<this.so&&(a.bindBuffer(a.ARRAY_BUFFER,
this.ro),a.bufferSubData(a.ARRAY_BUFFER,0,this.jr.subarray(0,this.so)),b&&0<=b.de&&"<point>"===b.name&&a.vertexAttribPointer(b.de,4,a.FLOAT,!1,0,0));if(0<this.Nf){var b=this.Sh;a.bindBuffer(a.ARRAY_BUFFER,this.jk[this.pf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.rm.subarray(0,this.Nf));b&&0<=b.de&&"<point>"!==b.name&&a.vertexAttribPointer(b.de,this.kb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.dk[this.pf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.hm.subarray(0,this.xi));b&&0<=b.rg&&"<point>"!==
b.name&&a.vertexAttribPointer(b.rg,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.nf;a<b;a++)switch(c=this.Xf[a],c.type){case 1:c.eu();break;case 2:c.nu();break;case 3:c.ku();break;case 4:c.gu();break;case 5:c.pu();break;case 6:c.fu();break;case 7:c.$t();break;case 8:c.du();break;case 9:c.lu();break;case 10:c.mu();break;case 11:c.ou();break;case 12:c.hu();break;case 13:c.iu();break;case 14:c.ju()}this.so=this.xi=this.Nf=this.nf=0;this.cl=this.Hc=!1;this.pf++;4<=this.pf&&(this.pf=0)}};a.prototype.Ah=function(a){if(a!==
this.vq&&!this.rj){var b=this.yd();b.type=3;this.vq=b.cr=a;this.Hc=!1}};a.prototype.zd=function(a){if(a!==this.ng){var b=this.yd();b.type=2;this.ng=b.me=a;this.Hc=!1}};a.prototype.yg=function(a,b){if((a!==this.wq||b!==this.uq)&&!this.rj){var c=this.yd();c.type=4;c.Tc=a;c.Xe=b;this.wq=a;this.uq=b;this.Hc=!1}};a.prototype.Dr=function(){this.yg(this.ea.ONE,this.ea.ONE_MINUS_SRC_ALPHA)};a.prototype.Tj=function(a,b,c,d,e,f,k,r){15992<=this.Nf&&this.eg();var t=this.Nf,v=this.xi,u=this.rm,x=this.hm,z=this.Um;
if(this.Hc)this.Xf[this.nf-1].Xe+=6;else{var B=this.yd();B.type=1;B.Tc=this.kb?t:t/2*3;B.Xe=6;this.Hc=!0}this.kb?(u[t++]=a,u[t++]=b,u[t++]=z,u[t++]=c,u[t++]=d,u[t++]=z,u[t++]=e,u[t++]=f,u[t++]=z,u[t++]=k,u[t++]=r,u[t++]=z):(u[t++]=a,u[t++]=b,u[t++]=c,u[t++]=d,u[t++]=e,u[t++]=f,u[t++]=k,u[t++]=r);x[v++]=0;x[v++]=0;x[v++]=1;x[v++]=0;x[v++]=1;x[v++]=1;x[v++]=0;x[v++]=1;this.Nf=t;this.xi=v};a.prototype.cf=function(a,b,c,d,e,f,k,r,t){15992<=this.Nf&&this.eg();var v=this.Nf,u=this.xi,x=this.rm,z=this.hm,
B=this.Um;if(this.Hc)this.Xf[this.nf-1].Xe+=6;else{var D=this.yd();D.type=1;D.Tc=this.kb?v:v/2*3;D.Xe=6;this.Hc=!0}var D=t.left,C=t.top,E=t.right;t=t.bottom;this.kb?(x[v++]=a,x[v++]=b,x[v++]=B,x[v++]=c,x[v++]=d,x[v++]=B,x[v++]=e,x[v++]=f,x[v++]=B,x[v++]=k,x[v++]=r,x[v++]=B):(x[v++]=a,x[v++]=b,x[v++]=c,x[v++]=d,x[v++]=e,x[v++]=f,x[v++]=k,x[v++]=r);z[u++]=D;z[u++]=C;z[u++]=E;z[u++]=C;z[u++]=E;z[u++]=t;z[u++]=D;z[u++]=t;this.Nf=v;this.xi=u};a.prototype.fd=function(a){if(this.zj!==a){if(!this.Fb[a]){if(0===
this.zj)return;a=0}var b=this.yd();b.type=9;this.zj=b.Tc=a;this.Hc=!1}};a.prototype.Qj=function(a){a=this.Fb[a];return!(!a.mh&&!a.lh)};a.prototype.wo=function(a){a=this.Fb[a];return!!(a.mh||a.lh||a.Ep)};a.prototype.vo=function(a){return this.Fb[a].Ce};a.prototype.sw=function(a){a=this.Fb[a];return 0!==a.an||0!==a.bn};a.prototype.uv=function(a){return this.Fb[a].an};a.prototype.vv=function(a){return this.Fb[a].bn};a.prototype.wv=function(a,b){return this.Fb[a].Da[b][2]};a.prototype.Nl=function(a){return this.Fb[a].rp};
a.prototype.si=function(a,b,c,d,e,f,k,r,t,v,u,x,z,B,D){var C=this.Fb[this.zj],E,y;if(C.Nv||D.length){E=this.yd();E.type=10;E.Ba?Zc(this.Pd,E.Ba):E.Ba=Yc();y=E.Ba;y[0]=b;y[1]=c;y[2]=d;y[3]=e;y[4]=f;y[5]=k;y[6]=r;y[7]=t;y[8]=v;y[9]=u;y[10]=x;y[11]=z;y[12]=B;C.Gj?E.me=a:E.me=null;if(D.length)for(c=E.Lr,c.length=D.length,a=0,b=D.length;a<b;a++)c[a]=D[a];this.Hc=!1}};a.prototype.clear=function(a,b,c,d){var e=this.yd();e.type=7;e.Tc=0;e.Ba||(e.Ba=Yc());e.Ba[0]=a;e.Ba[1]=b;e.Ba[2]=c;e.Ba[3]=d;this.Hc=!1};
a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.yd();e.type=7;e.Tc=1;e.Ba||(e.Ba=Yc());e.Ba[0]=a;e.Ba[1]=b;e.Ba[2]=c;e.Ba[3]=d;this.Hc=!1}};a.prototype.Gr=function(a){if(this.kb&&(a=!!a,this.rj!==a)){var b=this.yd();b.type=14;b.Tc=a?1:0;this.Hc=!1;this.rj=a;this.Rl=null;this.rj?this.fd(2):this.fd(0)}};a.prototype.Fr=function(a){if(this.kb){var b=this.yd();b.type=13;b.Tc=a?1:0;this.Hc=!1}};a.prototype.Pp=function(){Zc(this.Rn,f);this.ie();this.Td();var a=this.width/2,b=this.height/
2;this.Tj(-a,b,a,b,a,-b,-a,-b);Zc(f,this.Pd);this.Td()};a.prototype.Er=function(a,b,c){this.fd(3);var d=this.yd();d.type=12;d.Ba||(d.Ba=Yc());d.Ba[0]=a;d.Ba[1]=b;d.Ba[2]=c;d.Ba[3]=1;this.Hc=!1};a.prototype.Iw=function(){this.fd(0)};a.prototype.xw=function(){this.fd(2)};a.prototype.rw=function(){this.eg();this.ea.flush()};var k=[],e={};a.prototype.Nt=function(){F(k);e={}};a.prototype.xl=function(a,b,c,d){b=!!b;c=!!c;var f=a.src+","+b+","+c+(b?",undefined":""),q=null;if("undefined"!==typeof a.src&&
e.hasOwnProperty(f))return q=e[f],q.Ak++,q;this.eg();var p=this.ea,r=la(a.width)&&la(a.height),q=p.createTexture();p.bindTexture(p.TEXTURE_2D,q);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=p.RGBA,v=p.RGBA,u=p.UNSIGNED_BYTE;if(d&&!this.wf)switch(d){case 1:v=t=p.RGB;break;case 2:u=p.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=t=p.RGB,u=p.UNSIGNED_SHORT_5_6_5}if(!r&&b){d=document.createElement("canvas");d.width=ma(a.width);d.height=ma(a.height);var x=d.getContext("2d");
x.webkitImageSmoothingEnabled=c;x.mozImageSmoothingEnabled=c;x.msImageSmoothingEnabled=c;x.imageSmoothingEnabled=c;x.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);p.texImage2D(p.TEXTURE_2D,0,t,v,u,d)}else p.texImage2D(p.TEXTURE_2D,0,t,v,u,a);b?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));c?(p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MAG_FILTER,p.LINEAR),r&&this.Jp?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.ng=null;q.Og=a.width;q.Ng=a.height;q.Ak=1;q.yp=f;k.push(q);return e[f]=q};a.prototype.Hd=function(a,b,c,d){this.eg();var e=this.ea;
this.wf&&(d=!1);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.ng=null;f.Og=a;f.Ng=b;k.push(f);
return f};a.prototype.Xw=function(a,b,c){this.eg();var d=this.ea;this.wf&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.ng=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ak&&1<a.Ak?a.Ak--:(this.eg(),a===this.ng&&(this.ea.bindTexture(this.ea.TEXTURE_2D,
null),this.ng=null),a===this.ih&&(this.ea.activeTexture(this.ea.TEXTURE1),this.ea.bindTexture(this.ea.TEXTURE_2D,null),this.ea.activeTexture(this.ea.TEXTURE0),this.ih=null),Ia(k,a),"undefined"!==typeof a.yp&&delete e[a.yp],this.ea.deleteTexture(a)))};a.prototype.je=function(a){if(a!==this.Rl){var b=this.yd();b.type=6;this.Rl=b.me=a;this.Hc=!1}};Nb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.jg=(this.el=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.dh=!!a.dc;this.Tv="undefined"!==typeof window.AppMobi||this.dh;this.xe=!!window.c2cocoonjs;this.ye=!!window.c2ejecta;this.xe&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.ye&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ic=this.dh||this.xe||this.ye;this.sj=/edge\//i.test(navigator.userAgent);this.wf=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.sj;this.mq=/tizen/i.test(navigator.userAgent);this.jq=/android/i.test(navigator.userAgent)&&!this.mq&&!this.wf&&!this.sj;this.Ln=(/iphone/i.test(navigator.userAgent)||
/ipod/i.test(navigator.userAgent))&&!this.wf&&!this.sj;this.sq=/ipad/i.test(navigator.userAgent);this.Kn=this.Ln||this.sq||this.ye;this.Yv=this.Ln&&/os\s6/i.test(navigator.userAgent);this.dl=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.wf&&!this.sj;this.iq=/amazonwebappplatform/i.test(navigator.userAgent);this.Vv=/firefox/i.test(navigator.userAgent);this.Xv=/safari/i.test(navigator.userAgent)&&!this.dl&&!this.wf&&!this.sj;this.kg="undefined"!==typeof window.c2nodewebkit||
"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.pq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.qq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.$h=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.In=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.oq=!!window.cr_windows10;this.nq=this.pq||this.qq||this.In||
this.oq;this.Uv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.kq=this.jq&&!this.dl&&!this.el&&!this.Vv&&!this.iq&&!this.Ic;this.devicePixelRatio=1;this.eh=this.jg||this.el||this.Tv||this.xe||this.jq||this.Kn||this.$h||this.In||this.Uv||this.mq||this.ye;this.eh||(this.eh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.kg||"?nw"!==window.location.search&&
!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.kg=!0);this.canvas=a;this.Ap=document.getElementById("c2canvasdiv");this.aa=this.ea=null;this.tn="(unavailable)";this.kb=!1;this.Sg=0;this.Ya=null;this.hn="";this.Qk=!1;this.$q=this.br=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.dh&&(window.c2runtime=this);this.kg&&(window.ondragover=
function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.kq&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.pa=this.width;this.oa=this.height;this.Gk=this.width;this.Yi=this.height;this.Bj=window.innerWidth;this.Aj=window.innerHeight;this.gv=!1;this.Ia=!0;this.uj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ca=[];this.Mb=[];this.Wn={};this.ze=[];this.$m={};this.sf=[];this.Ci=[];this.mm=[];this.Bt=[];this.Ct=[];this.tq=this.Rr=null;this.Qg={};this.Fn=this.ig=!1;this.Md=0;this.En=this.Hn=!1;this.ve=[];this.gl=!1;this.zf=this.Jc=this.tl=this.Ho="";this.ck=this.Or=!1;this.dg=this.ya=0;this.Tq=30;this.Qm=this.Kj=0;this.Fh=1;this.Nd=new xb;this.tm=new xb;this.Hl=this.Vk=this.Vg=this.Sd=this.kh=this.gn=this.ml=0;this.Ti=null;this.Mk=[];this.Zm=[];this.Nk=-1;this.eo=[[]];this.Uo=this.Al=0;this.Pl(null);
this.fj=this.Wq=this.Nj=0;this.fm=[];this.Ro=this.zo=-1;this.wj=!0;this.yl=0;this.tj=!1;this.Lw=0;this.Ri=null;this.fl=!1;this.Yq=new ca;this.io=new ca;this.Zq=new ca;this.Uj=[];this.Fe=new Eb([]);this.Lo=new Eb([]);this.Oh=[];this.mj={};this.Rh={};this.Nh={};this.Bi={};this.vp={};this.zq=this.sl=this.Qb=this.Yb=this.yq=this.rl=this.ab=null;this.yi=this.Jn=!1;this.jn=[null,null];this.Wg=0;this.Df={};this.bk=this.pg=null;this.Pr="";this.Gl=[];this.ww()}}function d(a,b){return 128>=b?a[3]:256>=b?a[2]:
512>=b?a[1]:a[0]}function f(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function k(a,b,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=f;e.onerror=d;e.onsuccess=function(e){e=e.target.result;e.onerror=d;e.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}function e(a,b,c){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=f;d.onerror=c;d.onsuccess=function(d){d=d.target.result;d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);
e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}function g(){ga("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function h(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].Se||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.ww=function(){var a=this,b;this.$h?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.pq||this.$h||this.In||this.oq)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Ic&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.$h?b.onreadystatechange=function(){4===b.readyState&&a.wl(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.wl(b.response);else if(a.ye){var c=b.responseText,c=c.substr(c.indexOf("{"));a.wl(JSON.parse(c))}else a.wl(JSON.parse(b.responseText))},b.onerror=function(a){ha("Error requesting "+c+":");ha(a)});b.send()};b.prototype.Qv=function(){var b=this,d,e,f,l,g,h,k,n,u;this.lg=(!this.Ic||this.ye||this.jg)&&this.Vw&&!this.kq;
0===this.pd&&this.Kn&&(this.lg=!1);this.devicePixelRatio=this.lg?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.zc();e=!(!this.gv&&(!this.Dm||this.kg||this.nq||this.$h||this.el||this.jg||this.iq));0<this.pd&&this.setSize(a(),c(),!0);try{this.xu&&(this.xe||this.ye||!this.Ic)&&(d={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ea=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",
d))}catch(p){}if(this.ea){if(d=this.ea.getExtension("WEBGL_debug_renderer_info"))this.tn=this.ea.getParameter(d.UNMASKED_RENDERER_WEBGL)+" ["+this.ea.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.kb&&(this.tn+=" [front-to-back enabled]");this.Ic||(this.tc=document.createElement("canvas"),jQuery(this.tc).appendTo(this.canvas.parentNode),this.tc.oncontextmenu=function(){return!1},this.tc.onselectstart=function(){return!1},this.tc.width=Math.round(this.Gk*this.devicePixelRatio),this.tc.height=Math.round(this.Yi*
this.devicePixelRatio),jQuery(this.tc).css({width:this.Gk+"px",height:this.Yi+"px"}),this.kr(),this.qo=this.tc.getContext("2d"));this.aa=new Nb(this.ea,this.eh,this.kb);this.aa.Bh(this.canvas.width,this.canvas.height);this.aa.Jp=0!==this.qu;this.Ya=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.iw();ga("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.aa.cq();b.aa.Bh(b.aa.width,
b.aa.height,!0);b.Yb=null;b.Qb=null;b.jn[0]=null;b.jn[1]=null;b.jw();b.Ia=!0;ga("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(e=this.ca.length;d<e;d++)for(g=this.ca[d],f=0,l=g.ua.length;f<l;f++)k=g.ua[f],k.Tb=this.aa.sn(k.id),k.Ce=this.aa.vo(k.Tb),this.yi=this.yi||this.aa.Qj(k.Tb);d=0;for(e=this.ze.length;d<e;d++){n=this.ze[d];f=0;for(l=n.ua.length;f<l;f++)k=n.ua[f],k.Tb=this.aa.sn(k.id),k.Ce=this.aa.vo(k.Tb);n.He();f=0;for(l=n.xa.length;f<l;f++){u=n.xa[f];g=0;for(h=
u.ua.length;g<h;g++)k=u.ua[g],k.Tb=this.aa.sn(k.id),k.Ce=this.aa.vo(k.Tb),this.yi=this.yi||this.aa.Qj(k.Tb);u.He()}}}else{if(0<this.pd&&this.dh){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ya=AppMobi.canvas.getContext("2d");try{this.Ya.samplingMode=this.Ha?"smooth":"sharp",this.Ya.globalScale=1,this.Ya.HTML5CompatibilityMode=!0,this.Ya.imageSmoothingEnabled=this.Ha}catch(m){}0!==this.width&&0!==this.height&&(this.Ya.width=this.width,
this.Ya.height=this.height)}this.Ya||(this.xe?(d={antialias:!!this.Ha,alpha:e},this.Ya=this.canvas.getContext("2d",d)):(d={alpha:e},this.Ya=this.canvas.getContext("2d",d)),this.Ya.webkitImageSmoothingEnabled=this.Ha,this.Ya.mozImageSmoothingEnabled=this.Ha,this.Ya.msImageSmoothingEnabled=this.Ha,this.Ya.imageSmoothingEnabled=this.Ha);this.qo=this.tc=null}this.Zr=function(a){b.gd(!1,a)};window==window.top||this.Ic||this.nq||this.$h||(document.addEventListener("mousedown",function(){window.focus()},
!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.xe&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ga("Reloading for continuous preview"),this.tl="__c2_continuouspreview",this.ck=!0),this.mw&&!this.eh&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));window.addEventListener("blur",function(){b.vh()});
this.Ic||(d=function(a){if(Mb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.pd&&this.lg&&1<this.devicePixelRatio&&this.setSize(this.$b,
this.Zb,!0);this.cs();this.Kv();this.go();this.Z={}};b.prototype.setSize=function(a,b,c){var d=0,e=0,f=0,l=0,l=0,g=this.Yv&&this.Xv&&!navigator.standalone&&!this.Ic&&!this.jg;g&&(b+=60);if(this.Bj!==a||this.Aj!==b||c){this.Bj=a;this.Aj=b;var k=this.pd,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.tj)&&!this.jg;if(h||0!==this.pd||c)h&&0<this.Wg&&(k=this.Wg),c=this.devicePixelRatio,4<=k?(f=this.$b/this.Zb,a/b>f?(f*=b,5===k?(l=f*c/this.$b,
1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),f=this.$b*l/c,l=this.Zb*l/c,d=(a-f)/2,e=(b-l)/2,a=f,b=l):(d=(a-f)/2,a=f)):(l=a/f,5===k?(l=l*c/this.Zb,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),f=this.$b*l/c,l=this.Zb*l/c,d=(a-f)/2,e=(b-l)/2,a=f):e=(b-l)/2,b=l),h&&!this.kg&&(e=d=0)):this.kg&&this.tj&&0===this.Qp&&(d=Math.floor((a-this.$b)/2),e=Math.floor((b-this.Zb)/2),a=this.$b,b=this.Zb),2>k&&(this.Qi=c),this.lg&&this.sq&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.Gk=Math.round(a),this.Yi=
Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ia=!0,this.us?(this.pa=this.width,this.oa=this.height,this.Jd=!0):this.width<this.$b&&this.height<this.Zb||1===k?(this.pa=this.width,this.oa=this.height,this.Jd=!0):(this.pa=this.$b,this.oa=this.Zb,this.Jd=!1,2===k?(f=this.$b/this.Zb,k=this.Bj/this.Aj,k<f?this.pa=this.oa*k:k>f&&(this.oa=this.pa/k)):3===k&&(f=this.$b/this.Zb,k=this.Bj/this.Aj,k>f?this.pa=this.oa*k:k<f&&(this.oa=this.pa/k))),this.Ap&&!this.Ic&&(jQuery(this.Ap).css({width:Math.round(a)+
"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.ye?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.lg&&!this.Ic&&(this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.tc&&(this.tc.width=Math.round(a*c),this.tc.height=Math.round(b*c),this.tc.style.width=this.Gk+"px",this.tc.style.height=this.Yi+"px"),this.aa&&this.aa.Bh(Math.round(a*c),Math.round(b*c)),this.dh&&this.Ya&&(this.Ya.width=Math.round(a),this.Ya.height=Math.round(b)),this.Ya&&(this.Ya.webkitImageSmoothingEnabled=this.Ha,this.Ya.mozImageSmoothingEnabled=this.Ha,this.Ya.msImageSmoothingEnabled=this.Ha,this.Ya.imageSmoothingEnabled=this.Ha),
this.cs(),this.Ic||!g&&!this.Ln||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.cs=function(){if(this.Et&&0!==this.po){var a="portrait";2===this.po&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&
console.warn("Failed to lock orientation: ",b)}}};b.prototype.iw=function(){this.aa.Nt();this.Jn=!0;var a,b,c;a=0;for(b=this.ca.length;a<b;a++)c=this.ca[a],c.Jl&&c.Jl()};b.prototype.jw=function(){this.Jn=!1;var a,b,c;a=0;for(b=this.ca.length;a<b;a++)c=this.ca[a],c.oo&&c.oo()};b.prototype.kr=function(){if(!this.Ic){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.tj)&&!this.jg?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.tc).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.uj)for(ga("[Construct 2] Suspending"),this.uj=!0,-1!==this.zo&&l&&l(this.zo),-1!==this.Ro&&clearTimeout(this.Ro),a=0,b=this.fm.length;a<b;a++)this.fm[a](!0);else if(!a&&this.uj){ga("[Construct 2] Resuming");this.uj=!1;this.ml=ob();this.kh=
ob();a=this.Kj=this.Vk=0;for(b=this.fm.length;a<b;a++)this.fm[a](!1);this.gd(!1)}};b.prototype.Tf=function(a){return this.Gl[a]};b.prototype.wl=function(a){a&&a.project||ha("Project model unavailable");a=a.project;this.name=a[0];this.Op=a[1];this.pd=a[12];this.Qp=a[12];this.$b=a[10];this.Zb=a[11];this.dr=this.$b/2;this.er=this.Zb/2;this.Ic&&!this.ye&&(4<=a[12]||0===a[12])&&(ga("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Qp=
this.pd=3);this.bp=a[18];this.qg=a[19];if(0===this.qg){var b=new Image;b.crossOrigin="anonymous";b.src="loading-logo.png";this.pg={Bl:b}}else if(4===this.qg){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var e=new Image;e.src="";var f=new Image;f.src="";var l=new Image;l.src="";var g=new Image;g.src="";var k=new Image;k.src="";var h=new Image;h.src="";var n=new Image;n.src="";var u=new Image;u.src="";var p=new Image;p.src="";this.pg={Bl:[b,c,d,e],ow:[f,l,g,k],Yw:[h,n,u,p]}}this.Nj=
a[21];this.Gl=cd();this.gf=new U(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],d=this.Tf(g[0]),Ob(g,d.prototype),k=new d(this),k.dm=g[1],k.mg=g[2],k.Uq=g[9],k.Ca&&k.Ca(),this.plugins.push(k);this.Gl=cd();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];f=this.Tf(g[1]);k=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){k=this.plugins[d];break}h=new k.fb(k);h.name=g[0];h.qa=g[2];h.Cn=g[3].slice(0);h.Ww=g[3].length;h.Ft=g[4];h.hv=g[5];h.Ka=g[11];h.qa?(h.ni=[],h.tf=this.fj++,h.tb=null):
(h.ni=null,h.tf=-1,h.tb=[]);h.Pk=null;h.Wh=null;h.Kp=null;h.Pc=!1;h.md=null;g[6]?(h.Mo=g[6][0],h.No=g[6][1],h.Oo=g[6][2]):(h.Mo=null,h.No=0,h.Oo=0);g[7]?h.Xc=g[7]:h.Xc=null;h.index=b;h.D=[];h.Jk=[];h.Ag=[new Pb(h)];h.qf=0;h.$d=null;h.Ut=0;h.wi=!0;h.nm=Qb;h.lv=Rb;h.tv=Sb;h.Ra=Tb;h.Sj=Ub;h.Ol=Vb;h.wh=Wb;h.Wk=Xb;h.ln=Yb;h.pn=Zb;h.Re=$b;h.qn=ac;h.Dk=new Fb(this.$b,this.Zb);h.sk=!0;h.tk=!1;h.Z={};h.toString=bc;h.Mb=[];d=0;for(e=g[8].length;d<e;d++){n=g[8][d];u=this.Tf(n[1]);p=null;f=0;for(l=this.Mb.length;f<
l;f++)if(this.Mb[f]instanceof u){p=this.Mb[f];break}p||(p=new u(this),p.Fl=[],p.ho=new ca,p.Ca&&p.Ca(),this.Mb.push(p),Lc.Kw&&p instanceof Lc.Kw&&(this.Rr=p),Lc.$v&&p instanceof Lc.$v&&(this.tq=p));-1===p.Fl.indexOf(h)&&p.Fl.push(h);f=new p.fb(p,h);f.name=n[0];f.Ka=n[2];f.Ca();h.Mb.push(f)}h.global=g[9];h.Gn=g[10];h.ua=[];d=0;for(e=g[12].length;d<e;d++)h.ua.push({id:g[12][d][0],name:g[12][d][1],Tb:-1,Ce:!1,Wc:!0,index:d});h.Ay=g[13];this.bp&&!h.qa&&!h.Gn&&k.mg||h.Ca();h.name&&(this.types[h.name]=
h);this.ca.push(h);k.dm&&(d=new k.Xa(h),d.uid=this.Nj++,d.rr=this.Wq++,d.$g=0,d.kj=cc,d.toString=dc,d.ka=g[14],d.Ca(),h.D.push(d),this.Df[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(f=a[4][b],l=this.ca[f[0]],d=1,e=f.length;d<e;d++)g=this.ca[f[d]],g.tb.push(l),l.ni.push(g);b=0;for(c=a[28].length;b<c;b++){f=a[28][b];l=[];d=0;for(e=f.length;d<e;d++)l.push(this.ca[f[d]]);d=0;for(e=l.length;d<e;d++)l[d].Pc=!0,l[d].md=l}if(0<this.fj)for(b=0,c=this.ca.length;b<c;b++)if(g=this.ca[b],!g.qa&&g.tb.length){g.Pk=
Array(this.fj);g.Wh=Array(this.fj);g.Kp=Array(this.fj);h=[];d=p=u=n=0;for(e=g.tb.length;d<e;d++)for(k=g.tb[d],g.Pk[k.tf]=n,n+=k.Ww,g.Wh[k.tf]=u,u+=k.Ft,g.Kp[k.tf]=p,p+=k.hv,f=0,l=k.ua.length;f<l;f++)h.push(Ba({},k.ua[f]));g.ua=h.concat(g.ua);d=0;for(e=g.ua.length;d<e;d++)g.ua[d].index=d}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new ec(this,g),this.Wn[d.name]=d,this.ze.push(d);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new fc(this,g),this.$m[d.name]=d,this.sf.push(d);b=0;for(c=this.sf.length;b<c;b++)this.sf[b].Kb();
b=0;for(c=this.sf.length;b<c;b++)this.sf[b].Yo();b=0;for(c=this.mm.length;b<c;b++)this.mm[b].Kb();F(this.mm);this.Dt=a[7];this.Be=a[9];this.Qi=1;this.xu=a[13];this.Ha=a[14];this.Dm=a[15];this.Vw=a[17];this.po=a[20];this.Et=0<this.po;this.mw=a[22];this.Jd=this.us=a[23];this.qu=a[24];this.pw=a[25];this.kb=a[27]&&!this.wf;this.em=Date.now();F(this.Gl);this.Qv()};var n=!1;b.prototype.ts=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){n=a.xp=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.ye?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){n=a.xp=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",a.src=b));this.Ci.push(a)};b.prototype.dv=function(a){var b,c;b=0;for(c=this.Ci.length;b<c;b++)if(this.Ci[b].Pt===a)return this.Ci[b];return null};var q=0,p=!1;b.prototype.Kv=function(){this.Ri&&(q=this.Ri.xy(this.Dt))};b.prototype.sp=function(){var a=
q,b=0,c=0,d=!0,e,f,c=0;for(e=this.Ci.length;c<e;c++){f=this.Ci[c];var l=f.Dp;if(!l||0>=l)l=5E4;a+=l;f.src&&(f.complete||f.loaded)&&!f.xp?b+=l:d=!1}d&&this.pw&&this.Ri&&(p||(this.Ri.yy(),p=!0),c=this.Ri.ry(),b+=c,c<q&&(d=!1));this.De=0==a?1:b/a;return d};var r=!1;b.prototype.go=function(){if(this.Ya||this.aa){var a=this.Ya||this.qo;this.tc&&this.kr();this.De=0;this.xq=-1;var b=this;if(this.sp()&&(4!==this.qg||r))this.Lv();else{var c=Date.now()-this.em;if(a){var d=this.width,e=this.height,f=this.devicePixelRatio;
if(3>this.qg&&(this.xe||500<=c&&this.xq!=this.De)){a.clearRect(0,0,d,e);var c=d/2,e=e/2,d=0===this.qg&&this.pg.Bl.complete,l=40*f,g=0,h=80*f,k;if(d){var u=this.pg.Bl,h=u.width*f;k=u.height*f;l=h/2;g=k/2;a.drawImage(u,ta(c-l),ta(e-g),h,k)}1>=this.qg?(c=ta(c-l)+.5,e=ta(e+(g+(d?12*f:0)))+.5,a.fillStyle=n?"red":"DodgerBlue",a.fillRect(c,e,Math.floor(h*this.De),6*f),a.strokeStyle="black",a.strokeRect(c,e,h,6*f),a.strokeStyle="white",a.strokeRect(c-1*f,e-1*f,h+2*f,8*f)):2===this.qg&&(a.font=this.ye?"12pt ArialMT":
"12pt Arial",a.fillStyle=n?"#f00":"#999",a.zy="middle",f=Math.round(100*this.De)+"%",d=a.measureText?a.measureText(f):null,a.fillText(f,c-(d?d.width:0)/2,e));this.xq=this.De}else if(4===this.qg){this.vu(a);m?m(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.xe?10:100)}}};var t=-1,v="undefined"===typeof cr_is_preview?200:0,u=!0,x=!1,z=0,B=0,D="undefined"===typeof cr_is_preview?3E3:0,C=null,E=null,y=0;b.prototype.vu=function(a){if(!r){for(var b=Math.ceil(this.width),
c=Math.ceil(this.height),e=this.pg.Bl,f=this.pg.ow,l=this.pg.Yw,g=0;4>g;++g)if(!e[g].complete||!f[g].complete||!l[g].complete)return;0===y&&(t=Date.now());var g=Date.now(),h=!1,k=a,p,m;u||x?(a.clearRect(0,0,b,c),C&&C.width===b&&C.height===c||(C=document.createElement("canvas"),C.width=b,C.height=c,E=C.getContext("2d")),k=E,h=!0,u&&1===y&&(t=Date.now())):a.globalAlpha=1;k.fillStyle="#333333";k.fillRect(0,0,b,c);256<this.Yi?(p=Ja(.22*c,105,.6*b),m=.25*p,k.drawImage(d(f,p),.5*b-p/2,.2*c-m/2,p,m),m=p=
Math.min(.395*c,.95*b),k.drawImage(d(e,p),.5*b-p/2,.485*c-m/2,p,m),p=Ja(.22*c,105,.6*b),m=.25*p,k.drawImage(d(l,p),.5*b-p/2,.868*c-m/2,p,m),k.fillStyle="#3C3C3C",p=b,m=Math.max(.005*c,2),k.fillRect(0,.8*c-m/2,p,m),k.fillStyle=n?"red":"#E0FF65",p=b*this.De,k.fillRect(.5*b-p/2,.8*c-m/2,p,m)):(m=p=.55*c,k.drawImage(d(e,p),.5*b-p/2,.45*c-m/2,p,m),k.fillStyle="#3C3C3C",p=b,m=Math.max(.005*c,2),k.fillRect(0,.85*c-m/2,p,m),k.fillStyle=n?"red":"#E0FF65",p=b*this.De,k.fillRect(.5*b-p/2,.85*c-m/2,p,m));h&&
(u?a.globalAlpha=0===y?0:Math.min((g-t)/300,1):x&&(a.globalAlpha=Math.max(1-(g-B)/300,0)),a.drawImage(C,0,0,b,c));u&&300<=g-t&&2<=y&&(u=!1,z=g);!u&&g-z>=D&&!x&&1<=this.De&&(x=!0,B=g);if(x&&g-B>=300+v||"undefined"!==typeof cr_is_preview&&1<=this.De&&500>Date.now()-t)r=!0,x=u=!1,this.pg=E=C=null;++y}};b.prototype.Lv=function(){this.tc&&(this.canvas.parentNode.removeChild(this.tc),this.tc=this.qo=null);this.em=Date.now();this.kh=ob();var a,b,c;if(this.bp)for(a=0,b=this.ca.length;a<b;a++)c=this.ca[a],
c.qa||c.Gn||!c.lb.mg||c.Ca();else this.wj=!1;a=0;for(b=this.ze.length;a<b;a++)this.ze[a].Qt();2<=this.pd&&(a=this.$b/this.Zb,b=this.width/this.height,this.Qi=2!==this.pd&&b>a||2===this.pd&&b<a?this.height/this.Zb:this.width/this.$b);this.Op?this.Wn[this.Op].Ko():this.ze[0].Ko();this.bp||(this.yl=1,this.trigger(U.prototype.V.kp,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ca.length;a<b;a++)c=this.ca[a],c.hw&&c.hw();document.hidden||document.webkitHidden||
document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.gd(!1);this.dh&&AppMobi.webview.execute("onGameReady();")};b.prototype.gd=function(b,d,e){if(this.ab){var f=ob();if(e||!this.uj||b){b||(m?this.zo=m(this.Zr):this.Ro=setTimeout(this.Zr,this.eh?1:16));d=d||f;var l=this.pd;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.jg)||this.tj)&&0<this.Wg&&(l=this.Wg);0<l&&(!this.Kn||window.self!==window.top)&&(l=window.innerHeight,
this.Bj===window.innerWidth&&this.Aj===l||this.setSize(a(),c()));this.Ic||(e?(this.Qk||(this.hn=jQuery(this.canvas).css("margin")||"0",this.Qk=!0),this.dl||this.kg||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Qk?(this.dl||this.kg||jQuery(this.canvas).css("margin",this.hn),this.hn="",this.Qk=!1,0===this.pd&&this.setSize(Math.round(this.br/this.devicePixelRatio),
Math.round(this.$q/this.devicePixelRatio),!0)):(this.br=this.width,this.$q=this.height));this.wj&&(e=this.sp(),this.yl=this.De,e&&(this.wj=!1,this.De=1,this.trigger(U.prototype.V.kp,null)));this.cw(d);!this.Ia&&!this.xe||this.Jn||this.ck||b||(this.Ia=!1,this.aa?this.od():this.Ue(),this.bk&&(this.canvas&&this.canvas.toDataURL&&(this.Pr=this.canvas.toDataURL(this.bk[0],this.bk[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Pr),this.trigger(U.prototype.V.Ss,null)),this.bk=null));this.ty||(this.Sd++,
this.Vg++,this.Vk++);this.Kj+=ob()-f}}};b.prototype.cw=function(a){var b,c,d,e,f,l,g,h;1E3<=a-this.kh&&(this.kh+=1E3,1E3<=a-this.kh&&(this.kh=a),this.gn=this.Vk,this.Vk=0,this.Qm=this.Kj,this.Kj=0);0!==this.ml&&(b=a-this.ml,0>b&&(b=0),this.dg=b/1E3,.5<this.dg?this.dg=0:this.dg>1/this.Tq&&(this.dg=1/this.Tq));this.ml=a;this.ya=this.dg*this.Fh;this.Nd.add(this.ya);this.tm.add(this.dg);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.tj)&&
!this.jg;2<=this.pd||a&&0<this.Wg?(b=this.$b/this.Zb,c=this.width/this.height,d=this.pd,a&&0<this.Wg&&(d=this.Wg),this.Qi=2!==d&&c>b||2===d&&c<b?this.height/this.Zb:this.width/this.$b,this.ab&&(this.ab.Br(this.ab.scrollX),this.ab.Cr(this.ab.scrollY))):this.Qi=this.lg?this.devicePixelRatio:1;this.zc();this.Md++;this.gf.Aw();this.Md--;this.zc();this.Md++;c=this.Yq.jf();a=0;for(b=c.length;a<b;a++)c[a].uy();a=0;for(b=this.ca.length;a<b;a++)if(l=this.ca[a],!l.qa&&(l.Mb.length||l.tb.length))for(c=0,d=l.D.length;c<
d;c++)for(g=l.D[c],e=0,f=g.ta.length;e<f;e++)g.ta[e].gd();a=0;for(b=this.ca.length;a<b;a++)if(l=this.ca[a],!l.qa&&(l.Mb.length||l.tb.length))for(c=0,d=l.D.length;c<d;c++)for(g=l.D[c],e=0,f=g.ta.length;e<f;e++)h=g.ta[e],h.mr&&h.mr();c=this.io.jf();a=0;for(b=c.length;a<b;a++)c[a].gd();this.Md--;this.Mv();for(a=0;this.Ti&&10>a++;)this.Ip(this.Ti);a=0;for(b=this.sf.length;a<b;a++)this.sf[a].vn=!1;this.ab.Tg&&this.ab.Tg.Sb();F(this.Uj);this.Md++;a=0;for(b=this.ca.length;a<b;a++)if(l=this.ca[a],!l.qa&&
(l.Mb.length||l.tb.length))for(c=0,d=l.D.length;c<d;c++)for(g=l.D[c],e=0,f=g.ta.length;e<f;e++)h=g.ta[e],h.Po&&h.Po();c=this.Zq.jf();a=0;for(b=c.length;a<b;a++)c[a].Po();this.Md--};b.prototype.vh=function(){var a,b,c,d,e,f,l,g,h;a=0;for(b=this.ca.length;a<b;a++)if(l=this.ca[a],!l.qa)for(c=0,d=l.D.length;c<d;c++)if(g=l.D[c],g.vh&&g.vh(),g.ta)for(e=0,f=g.ta.length;e<f;e++)h=g.ta[e],h.vh&&h.vh()};b.prototype.Ip=function(a){var b=this.ab;this.ab.Nw();var c,d,e,f,l,g,h;if(this.aa)for(c=0,d=this.ca.length;c<
d;c++)l=this.ca[c],l.qa||!l.Xo||l.global&&0!==l.D.length||-1!==a.pj.indexOf(l)||l.Xo();b==a&&F(this.gf.Dd);F(this.Uj);a.Ko();c=0;for(d=this.ca.length;c<d;c++)if(l=this.ca[c],l.global||l.lb.dm)for(a=0,b=l.D.length;a<b;a++)if(g=l.D[a],g.no&&g.no(),g.ta)for(e=0,f=g.ta.length;e<f;e++)h=g.ta[e],h.no&&h.no();this.Ia=!0;this.zc()};b.prototype.Qo=function(a){this.io.add(a)};b.prototype.Xg=function(a){return a&&-1!==a.Mj?this.dg*a.Mj:this.ya};b.prototype.Ue=function(){this.ab.Ue(this.Ya);this.dh&&this.Ya.present()};
b.prototype.od=function(){this.kb&&(this.Sg=1,this.ab.Rg(this.aa));this.ab.od(this.aa);this.aa.rw()};b.prototype.Cm=function(a){a&&this.Mk.push(a)};b.prototype.xr=function(a){Ia(this.Mk,a)};b.prototype.Yg=function(a){a=a.toString();return this.Df.hasOwnProperty(a)?this.Df[a]:null};var A=[];b.prototype.Rf=function(a){var b,c;b=a.type.name;var d=null;if(this.Qg.hasOwnProperty(b)){if(d=this.Qg[b],d.contains(a))return}else d=A.length?A.pop():new ca,this.Qg[b]=d;d.add(a);this.ig=!0;if(a.Pc)for(b=0,c=a.siblings.length;b<
c;b++)this.Rf(a.siblings[b]);this.Fn&&d.Ai.push(a);this.En||(this.Md++,this.trigger(Object.getPrototypeOf(a.type.lb).V.Us,a),this.Md--)};b.prototype.zc=function(){if(this.ig){var a,b,c,d,e,f;this.Fn=!0;c=0;for(e=this.ve.length;c<e;++c)for(a=this.ve[c],b=a.type,b.D.push(a),d=0,f=b.tb.length;d<f;++d)b.tb[d].D.push(a),b.tb[d].wi=!0;F(this.ve);this.Ms();nb(this.Qg);this.ig=this.Fn=!1}};b.prototype.Ms=function(){for(var a in this.Qg)this.Qg.hasOwnProperty(a)&&this.As(this.Qg[a])};b.prototype.As=function(a){var b=
a.jf(),c=b[0].type,d,e,f,l,g,h;tb(c.D,a);c.wi=!0;0===c.D.length&&(c.tk=!1);d=0;for(e=c.tb.length;d<e;++d)h=c.tb[d],tb(h.D,a),h.wi=!0;d=0;for(e=this.gf.Dd.length;d<e;++d)if(g=this.gf.Dd[d],g.Bd.hasOwnProperty(c.index)&&tb(g.Bd[c.index].bh,a),!c.qa)for(f=0,l=c.tb.length;f<l;++f)h=c.tb[f],g.Bd.hasOwnProperty(h.index)&&tb(g.Bd[h.index].bh,a);if(g=b[0].Q){if(g.Ud)for(f=g.D,d=0,e=f.length;d<e;++d)l=f[d],a.contains(l)&&(l.Na(),g.vc.update(l,l.ed,null),l.ed.set(0,0,-1,-1));tb(g.D,a);g.Xj(0)}for(d=0;d<b.length;++d)this.zs(b[d],
c);a.clear();A.push(a);this.Ia=!0};b.prototype.zs=function(a,b){var c,d,e;c=0;for(d=this.Mk.length;c<d;++c)this.Mk[c](a);a.$f&&b.Dk.update(a,a.$f,null);(c=a.Q)&&c.qi(a,!0);if(a.ta)for(c=0,d=a.ta.length;c<d;++c)e=a.ta[c],e.uh&&e.uh(),e.behavior.ho.remove(a);this.Yq.remove(a);this.io.remove(a);this.Zq.remove(a);a.uh&&a.uh();this.Df.hasOwnProperty(a.uid.toString())&&delete this.Df[a.uid.toString()];this.Hl--;100>b.Jk.length&&b.Jk.push(a)};b.prototype.Sm=function(a,b,c,d){if(a.qa){var e=ta(Math.random()*
a.ni.length);return this.Sm(a.ni[e],b,c,d)}return a.$d?this.ag(a.$d,b,!1,c,d,!1):null};var H=[];b.prototype.ag=function(a,b,c,d,e,f){var l,g,h,k;if(!a)return null;var n=this.ca[a[1]],u=n.lb.mg;if(this.wj&&u&&!n.Gn||u&&!this.aa&&11===a[0][11])return null;var p=b;u||(b=null);var m;n.Jk.length?(m=n.Jk.pop(),m.dd=!0,n.lb.Xa.call(m,n)):(m=new n.lb.Xa(n),m.dd=!1);!c||f||this.Df.hasOwnProperty(a[2].toString())?m.uid=this.Nj++:m.uid=a[2];this.Df[m.uid.toString()]=m;m.rr=this.Wq++;m.$g=n.D.length;l=0;for(g=
this.ve.length;l<g;++l)this.ve[l].type===n&&m.$g++;m.kj=cc;m.toString=dc;h=a[3];if(m.dd)nb(m.Z);else{m.Z={};if("undefined"!==typeof cr_is_preview)for(m.gq=[],m.gq.length=h.length,l=0,g=h.length;l<g;l++)m.gq[l]=h[l][1];m.Xb=[];m.Xb.length=h.length}l=0;for(g=h.length;l<g;l++)m.Xb[l]=h[l][0];if(u){var q=a[0];m.x=ia(d)?q[0]:d;m.y=ia(e)?q[1]:e;m.z=q[2];m.width=q[3];m.height=q[4];m.depth=q[5];m.P=q[6];m.opacity=q[7];m.$c=q[8];m.bd=q[9];m.Ac=q[10];l=q[11];!this.aa&&n.ua.length&&(m.Ac=l);m.Ui=Hb(m.Ac);this.ea&&
Jb(m,m.Ac,this.ea);if(m.dd){l=0;for(g=q[12].length;l<g;l++)for(h=0,k=q[12][l].length;h<k;h++)m.zb[l][h]=q[12][l][h];m.ib.set(0,0,0,0);m.$f.set(0,0,-1,-1);m.ed.set(0,0,-1,-1);m.cb.Yj(m.ib);F(m.Hm)}else{m.zb=q[12].slice(0);l=0;for(g=m.zb.length;l<g;l++)m.zb[l]=q[12][l].slice(0);m.Ta=[];m.Vf=[];m.Vf.length=n.ua.length;m.ib=new za(0,0,0,0);m.$f=new za(0,0,-1,-1);m.ed=new za(0,0,-1,-1);m.cb=new Aa;m.Hm=[];m.ba=gc;m.my=hc;m.nd=ic;m.Na=jc;m.Uw=mc;m.os=uc;m.We=vc}m.Kf=!1;m.Rw=0;m.Qw=0;m.Pw=null;14===q.length&&
(m.Kf=!0,m.Rw=q[13][0],m.Qw=q[13][1],m.Pw=q[13][2]);l=0;for(g=n.ua.length;l<g;l++)m.Vf[l]=!0;m.If=!0;m.He=wc;m.He();m.qs=!!m.Ta.length;m.Gm=!0;m.Jm=!0;n.sk=!0;m.visible=!0;m.Mj=-1;m.Q=b;m.Ie=b.D.length;m.Sg=0;"undefined"===typeof m.Ga&&(m.Ga=null);this.Ia=m.of=!0}var x;F(H);l=0;for(g=n.tb.length;l<g;l++)H.push.apply(H,n.tb[l].Mb);H.push.apply(H,n.Mb);if(m.dd)for(l=0,g=H.length;l<g;l++){var r=H[l];x=m.ta[l];x.dd=!0;r.behavior.Xa.call(x,r,m);q=a[4][l];h=0;for(k=q.length;h<k;h++)x.ka[h]=q[h];x.Ca();
r.behavior.ho.add(m)}else for(m.ta=[],l=0,g=H.length;l<g;l++)r=H[l],x=new r.behavior.Xa(r,m),x.dd=!1,x.ka=a[4][l].slice(0),x.Ca(),m.ta.push(x),r.behavior.ho.add(m);q=a[5];if(m.dd)for(l=0,g=q.length;l<g;l++)m.ka[l]=q[l];else m.ka=q.slice(0);this.ve.push(m);this.ig=!0;b&&(b.Pi(m,!0),1!==b.Ef||1!==b.Ff)&&(n.tk=!0);this.Hl++;if(n.Pc){if(m.Pc=!0,m.dd?F(m.siblings):m.siblings=[],!c&&!f){l=0;for(g=n.md.length;l<g;l++)if(n.md[l]!==n){if(!n.md[l].$d)return null;m.siblings.push(this.ag(n.md[l].$d,p,!1,u?m.x:
d,u?m.y:e,!0))}l=0;for(g=m.siblings.length;l<g;l++)for(m.siblings[l].siblings.push(m),h=0;h<g;h++)l!==h&&m.siblings[l].siblings.push(m.siblings[h])}}else m.Pc=!1,m.siblings=null;m.Ca();l=0;for(g=m.ta.length;l<g;l++)m.ta[l].lr&&m.ta[l].lr();return m};b.prototype.qv=function(a){var b,c;b=0;for(c=this.ab.xa.length;b<c;b++){var d=this.ab.xa[b];if(Lb(d.name,a))return d}return null};b.prototype.rv=function(a){a=ta(a);0>a&&(a=0);a>=this.ab.xa.length&&(a=this.ab.xa.length-1);return this.ab.xa[a]};b.prototype.Om=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ra().eb=!0};b.prototype.Sj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Sj()};b.prototype.Ol=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ol()};b.prototype.wh=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].wh()};b.prototype.ks=function(a){if(a.sk){var b,c,d=a.D;b=0;for(c=d.length;b<c;++b)d[b].os();d=this.ve;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].os();a.sk=!1}};b.prototype.Sp=function(a,b,c,d){var e,l,f=a?1!==a.Ef||1!==
a.Ff:!1;if(b.qa)for(a=0,e=b.ni.length;a<e;++a)l=b.ni[a],f||l.tk?Ga(d,l.D):(this.ks(l),l.Dk.Ql(c,d));else f||b.tk?Ga(d,b.D):(this.ks(b),b.Dk.Ql(c,d))};b.prototype.Xp=function(a,b,c,d){var e,l;e=0;for(l=b.length;e<l;++e)this.Sp(a,b[e],c,d)};b.prototype.xv=function(a,b,c){var d=this.Rr;d&&this.Xp(a,d.Fl,b,c)};b.prototype.pv=function(a,b,c){var d=this.tq;d&&this.Xp(a,d.Fl,b,c)};b.prototype.Cd=function(a,b){if(!(a&&b&&a!==b&&a.of&&b.of))return!1;a.Na();b.Na();var c=a.Q,d=b.Q,e,l,f,g,h,k,n,m;if(c===d||
c.Ef===d.Ef&&d.Ff===d.Ff&&c.scale===d.scale&&c.P===d.P&&c.mk===d.mk){if(!a.ib.Rv(b.ib)||!a.cb.hq(b.cb)||a.Kf&&b.Kf)return!1;if(a.Kf)return this.Wr(a,b);if(b.Kf)return this.Wr(b,a);n=a.Ga&&!a.Ga.fh();e=b.Ga&&!b.Ga.fh();if(!n&&!e)return!0;n?(a.Ga.Pg(a.width,a.height,a.P),n=a.Ga):(this.Fe.ti(a.cb,a.x,a.y,a.width,a.height),n=this.Fe);e?(b.Ga.Pg(b.width,b.height,b.P),m=b.Ga):(this.Fe.ti(b.cb,b.x,b.y,b.width,b.height),m=this.Fe);return n.qj(m,b.x-a.x,b.y-a.y)}n=a.Ga&&!a.Ga.fh();e=b.Ga&&!b.Ga.fh();n?(a.Ga.Pg(a.width,
a.height,a.P),this.Fe.Jr(a.Ga)):this.Fe.ti(a.cb,a.x,a.y,a.width,a.height);n=this.Fe;e?(b.Ga.Pg(b.width,b.height,b.P),this.Lo.Jr(b.Ga)):this.Lo.ti(b.cb,b.x,b.y,b.width,b.height);m=this.Lo;e=0;for(l=n.Rd;e<l;e++)f=2*e,g=f+1,h=n.Lb[f],k=n.Lb[g],n.Lb[f]=c.ub(h+a.x,k+a.y,!0),n.Lb[g]=c.ub(h+a.x,k+a.y,!1);n.Na();e=0;for(l=m.Rd;e<l;e++)f=2*e,g=f+1,h=m.Lb[f],k=m.Lb[g],m.Lb[f]=d.ub(h+b.x,k+b.y,!0),m.Lb[g]=d.ub(h+b.x,k+b.y,!1);m.Na();return n.qj(m,0,0)};var aa=new Aa;new za(0,0,0,0);var M=[];b.prototype.Wr=
function(a,b){var c,d,e,l,f=b.ib,g=a.x,h=a.y;a.oy(f,M);var k=b.Ga&&!b.Ga.fh();c=0;for(d=M.length;c<d;++c)if(e=M[c],l=e.vw,f.Sv(l,g,h)&&(aa.Yj(l),aa.offset(g,h),aa.hq(b.cb)))if(k)if(b.Ga.Pg(b.width,b.height,b.P),e.bf){if(e.bf.qj(b.Ga,b.x-(g+l.left),b.y-(h+l.top)))return F(M),!0}else{if(this.Fe.ti(aa,0,0,l.right-l.left,l.bottom-l.top),this.Fe.qj(b.Ga,b.x,b.y))return F(M),!0}else if(e.bf){if(this.Fe.ti(b.cb,0,0,b.width,b.height),e.bf.qj(this.Fe,-(g+l.left),-(h+l.top)))return F(M),!0}else return F(M),
!0;F(M);return!1};b.prototype.ds=function(a,b){if(!b)return!1;var c,d,e,l,f;c=0;for(d=a.Mb.length;c<d;c++)if(a.Mb[c].behavior instanceof b)return!0;if(!a.qa)for(c=0,d=a.tb.length;c<d;c++)for(f=a.tb[c],e=0,l=f.Mb.length;e<l;e++)if(f.Mb[e].behavior instanceof b)return!0;return!1};b.prototype.Vo=function(a){return this.ds(a,Lc.Hx)};b.prototype.Wo=function(a){return this.ds(a,Lc.Ix)};var I=[];b.prototype.xc=function(a){var b,c,d;a.Na();this.xv(a.Q,a.ib,I);b=0;for(c=I.length;b<c;++b)if(d=I[b],d.Z.solidEnabled&&
this.Cd(a,d))return F(I),d;F(I);return null};var K=[];b.prototype.Bg=function(a,b){var c=null;b&&(c=K,F(c));a.Na();this.pv(a.Q,a.ib,I);var d,e,l;d=0;for(e=I.length;d<e;++d)if(l=I[d],l.Z.jumpthruEnabled&&this.Cd(a,l))if(b)c.push(l);else return F(I),l;F(I);return c};b.prototype.he=function(a,b,c,d,e,l){d=d||50;var f=a.x,g=a.y,h,k=null,n=null;for(h=0;h<d;h++)if(a.x=f+b*h,a.y=g+c*h,a.ba(),!this.Cd(a,k)&&((k=this.xc(a))&&(n=k),!k&&(e&&(l?k=this.Cd(a,l)?l:null:k=this.Bg(a),k&&(n=k)),!k)))return n&&this.xo(a,
b,c,n),!0;a.x=f;a.y=g;a.ba();return!1};b.prototype.xo=function(a,b,c,d){var e=2,l,f=!1;l=!1;for(var g=a.x,h=a.y;16>=e;)l=1/e,e*=2,a.x+=b*l*(f?1:-1),a.y+=c*l*(f?1:-1),a.ba(),this.Cd(a,d)?l=f=!0:(l=f=!1,g=a.x,h=a.y);l&&(a.x=g,a.y=h,a.ba())};b.prototype.sr=function(a,b){var c=ia(b)?100:b,d=0,e=a.x,l=a.y,f=0,g=0,h=0,k=this.xc(a);if(!k)return!0;for(;d<=c;){switch(f){case 0:g=0;h=-1;d++;break;case 1:g=1;h=-1;break;case 2:g=1;h=0;break;case 3:h=g=1;break;case 4:g=0;h=1;break;case 5:g=-1;h=1;break;case 6:g=
-1;h=0;break;case 7:h=g=-1}f=(f+1)%8;a.x=ta(e+g*d);a.y=ta(l+h*d);a.ba();if(!this.Cd(a,k)&&(k=this.xc(a),!k))return!0}a.x=e;a.y=l;a.ba();return!1};b.prototype.xh=function(a,b){a.of&&b.of&&this.Uj.push([a,b])};b.prototype.Lt=function(a,b){var c,d,e;c=0;for(d=this.Uj.length;c<d;c++)if(e=this.Uj[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return!0;return!1};b.prototype.Jt=function(a,b,c){var d=a.x,e=a.y,l=pa(10,hb(b,c,d,e)),f=bb(b,c,d,e),g=this.xc(a);if(!g)return Sa(f+ra);var h=g,k,n,m,u,p=G(5);for(k=1;36>
k;k++)if(n=f-k*p,a.x=b+Math.cos(n)*l,a.y=c+Math.sin(n)*l,a.ba(),!this.Cd(a,h)&&(h=this.xc(a),!h)){m=n;break}36===k&&(m=Sa(f+ra));h=g;for(k=1;36>k;k++)if(n=f+k*p,a.x=b+Math.cos(n)*l,a.y=c+Math.sin(n)*l,a.ba(),!this.Cd(a,h)&&(h=this.xc(a),!h)){u=n;break}36===k&&(u=Sa(f+ra));a.x=d;a.y=e;a.ba();if(u===m)return u;a=cb(u,m)/2;a=eb(u,m)?Sa(m+a+ra):Sa(u+a);m=Math.cos(f);f=Math.sin(f);u=Math.cos(a);a=Math.sin(a);b=m*u+f*a;return bb(0,0,m-2*b*u,f-2*b*a)};var T=-1;b.prototype.trigger=function(a,b,c){if(!this.ab)return!1;
var d=this.ab.Tg;if(!d)return!1;var e=!1,l,f,g;T++;var h=d.Wm;f=0;for(g=h.length;f<g;++f)l=this.as(a,b,h[f],c),e=e||l;l=this.as(a,b,d,c);T--;return e||l};b.prototype.as=function(a,b,c,d){var e=!1,l,f,g,h;if(b)for(g=this.To(a,b,b.type.name,c,d),e=e||g,h=b.type.tb,l=0,f=h.length;l<f;++l)g=this.To(a,b,h[l].name,c,d),e=e||g;else g=this.To(a,b,"system",c,d),e=e||g;return e};b.prototype.To=function(a,b,c,d,e){var l,f=!1,g=!1,g="undefined"!==typeof e,h=(g?d.Mp:d.bs)[c];if(!h)return f;var k=null;d=0;for(l=
h.length;d<l;++d)if(h[d].method==a){k=h[d].cj;break}if(!k)return f;var n;g?n=k[e]:n=k;if(!n)return null;d=0;for(l=n.length;d<l;d++)a=n[d][0],e=n[d][1],g=this.cv(b,c,a,e),f=f||g;return f};b.prototype.cv=function(a,b,c,d){var e,l,f=!1;this.Uo++;var g=this.Gc().Id;g&&this.Sj(g.zg);var h=1<this.Uo;this.Sj(c.zg);h&&this.uw();var k=this.Pl(c);k.Id=c;a&&(e=this.types[b].Ra(),e.eb=!1,F(e.D),e.D[0]=a,this.types[b].Re());a=!0;if(c.parent){b=k.Vr;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(l=
b.length;e<l;e++)if(!b[e].Cw()){a=!1;break}}a&&(this.Vg++,c.Ae?c.Bw(d):c.Sb(),f=f||k.jh);this.Ml();h&&this.nw();this.wh(c.zg);g&&this.wh(g.zg);this.ig&&0===this.Md&&0===T&&!this.Hn&&this.zc();this.Uo--;return f};b.prototype.mn=function(){var a=this.Gc();return a.Id.ic[a.hc]};b.prototype.kv=function(){var a=this.Gc();return a.Id.Xd[a.Fd]};b.prototype.uw=function(){this.Al++;this.Al>=this.eo.length&&this.eo.push([])};b.prototype.nw=function(){this.Al--};b.prototype.Tp=function(){return this.eo[this.Al]};
b.prototype.Pl=function(a){this.Nk++;this.Nk>=this.Zm.length&&this.Zm.push(new xc);var b=this.Gc();b.reset(a);return b};b.prototype.Ml=function(){this.Nk--};b.prototype.Gc=function(){return this.Zm[this.Nk]};b.prototype.Up=function(a,b){for(var c,d,e,l,f,g;b;){c=0;for(d=b.le.length;c<d;c++)if(g=b.le[c],g instanceof yc&&Lb(a,g.name))return g;b=b.parent}c=0;for(d=this.sf.length;c<d;c++)for(f=this.sf[c],e=0,l=f.fg.length;e<l;e++)if(g=f.fg[e],g instanceof yc&&Lb(a,g.name))return g;return null};b.prototype.Vp=
function(a){var b,c;b=0;for(c=this.ze.length;b<c;b++)if(this.ze[b].Ka===a)return this.ze[b];return null};b.prototype.$k=function(a){var b,c;b=0;for(c=this.ca.length;b<c;b++)if(this.ca[b].Ka===a)return this.ca[b];return null};b.prototype.mv=function(a){var b,c;b=0;for(c=this.Oh.length;b<c;b++)if(this.Oh[b].Ka===a)return this.Oh[b];return null};b.prototype.Xt=function(a,b){this.bk=[a,b];this.Ia=!0};b.prototype.Mv=function(){var a=this,b=this.Ho,c=this.zf,d=this.tl,l=!1;this.Or&&(l=!0,b="__c2_continuouspreview",
this.Or=!1);if(b.length){this.zc();c=this.Gw();if(window.indexedDB&&!this.xe)k(b,c,function(){ga("Saved state to IndexedDB storage ("+c.length+" bytes)");a.zf=c;a.trigger(U.prototype.V.zm,null);a.zf="";l&&g()},function(d){try{localStorage.setItem("__c2save_"+b,c),ga("Saved state to WebStorage ("+c.length+" bytes)"),a.zf=c,a.trigger(U.prototype.V.zm,null),a.zf="",l&&g()}catch(e){ga("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,c),ga("Saved state to WebStorage ("+
c.length+" bytes)"),a.zf=c,this.trigger(U.prototype.V.zm,null),a.zf="",l&&g()}catch(f){ga("Error saving to WebStorage: "+f)}this.Jc=this.tl=this.Ho=""}if(d.length){if(window.indexedDB&&!this.xe)e(d,function(b){b?(a.Jc=b,ga("Loaded state from IndexedDB storage ("+a.Jc.length+" bytes)")):(a.Jc=localStorage.getItem("__c2save_"+d)||"",ga("Loaded state from WebStorage ("+a.Jc.length+" bytes)"));a.ck=!1;a.Jc.length||a.trigger(U.prototype.V.ym,null)},function(){a.Jc=localStorage.getItem("__c2save_"+d)||
"";ga("Loaded state from WebStorage ("+a.Jc.length+" bytes)");a.ck=!1;a.Jc.length||a.trigger(U.prototype.V.ym,null)});else{try{this.Jc=localStorage.getItem("__c2save_"+d)||"",ga("Loaded state from WebStorage ("+this.Jc.length+" bytes)")}catch(h){this.Jc=""}this.ck=!1;a.Jc.length||a.trigger(U.prototype.V.ym,null)}this.Ho=this.tl=""}this.Jc.length&&(this.zc(),this.bw(this.Jc),this.zf=this.Jc,this.trigger(U.prototype.V.gt,null),this.Jc=this.zf="")};b.prototype.Gw=function(){var a,b,c,d,e,l,f,g={c2save:!0,
version:1,rt:{time:this.Nd.bb,walltime:this.tm.bb,timescale:this.Fh,tickcount:this.Sd,execcount:this.Vg,next_uid:this.Nj,running_layout:this.ab.Ka,start_time_offset:Date.now()-this.em},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ca.length;a<b;a++)if(e=this.ca[a],!e.qa&&!this.Vo(e)){l={instances:[]};mb(e.Z)&&(l.ex=h(e.Z));c=0;for(d=e.D.length;c<d;c++)l.instances.push(this.Go(e.D[c]));g.types[e.Ka.toString()]=l}a=0;for(b=this.ze.length;a<b;a++)c=this.ze[a],g.layouts[c.Ka.toString()]=
c.wc();d=g.events.groups;a=0;for(b=this.Oh.length;a<b;a++)c=this.Oh[a],d[c.Ka.toString()]=this.mj[c.lj].Zh;b=g.events.cnds;for(f in this.Rh)this.Rh.hasOwnProperty(f)&&(a=this.Rh[f],mb(a.Z)&&(b[f]={ex:h(a.Z)}));b=g.events.acts;for(f in this.Nh)this.Nh.hasOwnProperty(f)&&(a=this.Nh[f],mb(a.Z)&&(b[f]={ex:a.Z}));b=g.events.vars;for(f in this.Bi)this.Bi.hasOwnProperty(f)&&(a=this.Bi[f],a.hl||a.parent&&!a.vj||(b[f]=a.data));g.system=this.gf.wc();return JSON.stringify(g)};b.prototype.ur=function(){var a,
b,c,d,e,l;this.Df={};a=0;for(b=this.ca.length;a<b;a++)if(c=this.ca[a],!c.qa)for(d=0,e=c.D.length;d<e;d++)l=c.D[d],this.Df[l.uid.toString()]=l};b.prototype.bw=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.gl=!0;var b=a.rt;this.Nd.reset();this.Nd.bb=b.time;this.tm.reset();this.tm.bb=b.walltime||0;this.Fh=b.timescale;this.Sd=b.tickcount;this.Vg=b.execcount;this.em=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.ab.Ka)if(c=this.Vp(c))this.Ip(c);else return;var d,e,l,
f,g,h,k;h=a.types;for(e in h)if(h.hasOwnProperty(e)&&(f=this.$k(parseInt(e,10)))&&!f.qa&&!this.Vo(f)){h[e].ex?f.Z=h[e].ex:nb(f.Z);g=f.D;l=h[e].instances;c=0;for(d=qa(g.length,l.length);c<d;c++)this.ul(g[c],l[c]);c=l.length;for(d=g.length;c<d;c++)this.Rf(g[c]);c=g.length;for(d=l.length;c<d;c++){g=null;if(f.lb.mg&&(g=this.ab.Zk(l[c].w.l),!g))continue;g=this.ag(f.$d,g,!1,0,0,!0);this.ul(g,l[c])}f.wi=!0}this.zc();this.ur();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.Vp(parseInt(e,10)))&&c.Qc(d[e]);
d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.mv(parseInt(e,10)))&&this.mj[c.lj]&&this.mj[c.lj].Hw(d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.Rh.hasOwnProperty(e)&&(this.Rh[e].Z=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&this.Nh.hasOwnProperty(e)&&(this.Nh[e].Z=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Bi.hasOwnProperty(e)&&(this.Bi[e].data=c[e]);this.Nj=b.next_uid;this.gl=!1;this.gf.Qc(a.system);c=0;for(d=this.ca.length;c<d;c++)if(f=this.ca[c],
!f.qa&&!this.Vo(f))for(e=0,a=f.D.length;e<a;e++){g=f.D[e];if(f.Pc)for(h=g.kj(),F(g.siblings),b=0,l=f.md.length;b<l;b++)k=f.md[b],f!==k&&g.siblings.push(k.D[h]);g.Pe&&g.Pe();if(g.ta)for(b=0,l=g.ta.length;b<l;b++)h=g.ta[b],h.Pe&&h.Pe()}this.Ia=!0}};b.prototype.Go=function(a,b){var c,d,e,l,f;l=a.type;e=l.lb;var g={};b?g.c2=!0:g.uid=a.uid;mb(a.Z)&&(g.ex=h(a.Z));if(a.Xb&&a.Xb.length)for(g.ivs={},c=0,d=a.Xb.length;c<d;c++)g.ivs[a.type.Cn[c].toString()]=a.Xb[c];if(e.mg){e={x:a.x,y:a.y,w:a.width,h:a.height,
l:a.Q.Ka,zi:a.We()};0!==a.P&&(e.a=a.P);1!==a.opacity&&(e.o=a.opacity);.5!==a.$c&&(e.hX=a.$c);.5!==a.bd&&(e.hY=a.bd);0!==a.Ac&&(e.bm=a.Ac);a.visible||(e.v=a.visible);a.of||(e.ce=a.of);-1!==a.Mj&&(e.mts=a.Mj);if(l.ua.length)for(e.fx=[],c=0,d=l.ua.length;c<d;c++)f=l.ua[c],e.fx.push({name:f.name,active:a.Vf[f.index],params:a.zb[f.index]});g.w=e}if(a.ta&&a.ta.length)for(g.behs={},c=0,d=a.ta.length;c<d;c++)l=a.ta[c],l.wc&&(g.behs[l.type.Ka.toString()]=l.wc());a.wc&&(g.data=a.wc());return g};b.prototype.ov=
function(a,b){var c,d;c=0;for(d=a.Cn.length;c<d;c++)if(a.Cn[c]===b)return c;return-1};b.prototype.jv=function(a,b){var c,d;c=0;for(d=a.ta.length;c<d;c++)if(a.ta[c].type.Ka===b)return c;return-1};b.prototype.ul=function(a,b,c){var d,e,l,f,g;g=a.type;f=g.lb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.Z=b.ex:nb(a.Z);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(l=this.ov(g,parseInt(d,10)),0>l||l>=a.Xb.length||(a.Xb[l]=e[d]));if(f.mg){l=b.w;a.Q.Ka!==l.l&&(e=a.Q,a.Q=this.ab.Zk(l.l),a.Q?(e.qi(a,!0),a.Q.Pi(a,
!0),a.ba(),a.Q.Xj(0)):(a.Q=e,c||this.Rf(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.Ie=l.zi;a.P=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.$c=l.hasOwnProperty("hX")?l.hX:.5;a.bd=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.of=l.hasOwnProperty("ce")?l.ce:!0;a.Mj=l.hasOwnProperty("mts")?l.mts:-1;a.Ac=l.hasOwnProperty("bm")?l.bm:0;a.Ui=Hb(a.Ac);this.ea&&Jb(a,a.Ac,this.ea);a.ba();if(l.hasOwnProperty("fx"))for(c=0,e=l.fx.length;c<e;c++)f=g.pn(l.fx[c].name),
0>f||(a.Vf[f]=l.fx[c].active,a.zb[f]=l.fx[c].params);a.He()}if(g=b.behs)for(d in g)g.hasOwnProperty(d)&&(c=this.jv(a,parseInt(d,10)),0>c||a.ta[c].Qc(g[d]));b.data&&a.Qc(b.data)};zc=function(a){return new b(document.getElementById(a))};Ac=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=zc;window.cr_createDCRuntime=Ac;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.i=!0;document.body.appendChild(a);
a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.Xt(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.Tg=null;this.scrollX=this.j.$b/2;this.scrollY=this.j.Zb/2;this.scale=1;this.P=0;this.Xh=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.es=b[3];this.Mr=b[4];this.Ka=b[5];var c=b[6],d,e;this.xa=[];this.pj=[];d=0;for(e=c.length;d<e;d++){var f=new Bc(this,c[d]);f.Xq=d;this.xa.push(f)}c=b[7];this.ah=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.j.ca[f[1]];g.$d||(g.$d=f);this.ah.push(f);-1===this.pj.indexOf(g)&&this.pj.push(g)}this.ua=[];this.Ta=[];
this.If=!0;this.zb=[];d=0;for(e=b[8].length;d<e;d++)this.ua.push({id:b[8][d][0],name:b[8][d][1],Tb:-1,Ce:!1,Wc:!0,index:d}),this.zb.push(b[8][d][2].slice(0));this.He();this.wg=new za(0,0,1,1);this.Ao=new za(0,0,1,1);this.vg={}}function c(a,b){return a.Ie-b.Ie}function b(a,b){this.Pb=a;this.j=a.j;this.D=[];this.scale=1;this.P=0;this.rf=!1;this.Lf=new za(0,0,0,0);this.$r=new Aa;this.xb=this.nb=this.yb=this.mb=0;this.Hh=!1;this.Pf=-1;this.Pm=0;this.name=b[0];this.index=b[1];this.Ka=b[2];this.visible=
b[3];this.te=b[4];this.Ge=b[5];this.Ef=b[6];this.Ff=b[7];this.opacity=b[8];this.Uk=b[9];this.Ud=b[10];this.mk=b[11];this.Ac=b[12];this.wu=b[13];this.Ui="source-over";this.Fc=this.Kc=0;this.vc=null;this.Af=d();this.Ee=!0;this.gi=new za(0,0,-1,-1);this.rc=new za(0,0,-1,-1);this.Ud&&(this.vc=new Gb(this.j.$b,this.j.Zb));this.df=!1;var c=b[14],e,f;this.Sr=[];this.Ld=[];this.Xi=[];e=0;for(f=c.length;e<f;e++){var g=c[e],h=this.j.ca[g[1]];h.$d||(h.$d=g,h.Ut=this.index);this.Ld.push(g);-1===this.Pb.pj.indexOf(h)&&
this.Pb.pj.push(h)}Ea(this.Sr,this.Ld);this.ua=[];this.Ta=[];this.If=!0;this.zb=[];e=0;for(f=b[15].length;e<f;e++)this.ua.push({id:b[15][e][0],name:b[15][e][1],Tb:-1,Ce:!1,Wc:!0,index:e}),this.zb.push(b[15][e][2].slice(0));this.He();this.wg=new za(0,0,1,1);this.Ao=new za(0,0,1,1)}function d(){return g.length?g.pop():[]}function f(a){F(a);g.push(a)}a.prototype.Fw=function(a){var b=a.type.Ka.toString();this.vg.hasOwnProperty(b)||(this.vg[b]=[]);this.vg[b].push(this.j.Go(a))};a.prototype.Zp=function(){var a=
this.xa[0];return!a.Ge&&1===a.opacity&&!a.Uk&&a.visible};a.prototype.He=function(){F(this.Ta);this.If=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Wc&&(this.Ta.push(c),c.Ce||(this.If=!1))};a.prototype.nn=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};var k=[],e=!0;a.prototype.Ko=function(){this.Mr&&(this.Tg=this.j.$m[this.Mr],this.Tg.Yo());this.j.ab=this;this.scrollX=this.j.$b/2;this.scrollY=this.j.Zb/2;var a,b,d,f,g,h,m;a=0;
for(d=this.j.ca.length;a<d;a++)if(b=this.j.ca[a],!b.qa)for(g=b.D,b=0,f=g.length;b<f;b++)if(h=g[b],h.Q){var u=h.Q.Xq;u>=this.xa.length&&(u=this.xa.length-1);h.Q=this.xa[u];-1===h.Q.D.indexOf(h)&&h.Q.D.push(h);h.Q.Hh=!0}if(!e)for(a=0,d=this.xa.length;a<d;++a)this.xa[a].D.sort(c);F(k);this.Ht();a=0;for(d=this.xa.length;a<d;a++)h=this.xa[a],h.Rt(),h.pm();g=!1;if(!this.Xh){for(m in this.vg)if(this.vg.hasOwnProperty(m)&&(b=this.j.$k(parseInt(m,10)))&&!b.qa&&this.j.Wo(b)){f=this.vg[m];a=0;for(d=f.length;a<
d;a++){h=null;if(b.lb.mg&&(h=this.Zk(f[a].w.l),!h))continue;h=this.j.ag(b.$d,h,!1,0,0,!0);this.j.ul(h,f[a]);g=!0;k.push(h)}F(f)}a=0;for(d=this.xa.length;a<d;a++)this.xa[a].D.sort(c),this.xa[a].Hh=!0}g&&(this.j.zc(),this.j.ur());for(a=0;a<k.length;a++)if(h=k[a],h.type.Pc)for(d=h.kj(),b=0,f=h.type.md.length;b<f;b++)m=h.type.md[b],h.type!==m&&(m.D.length>d?h.siblings.push(m.D[d]):m.$d&&(g=this.j.ag(m.$d,h.Q,!0,h.x,h.y,!0),this.j.zc(),m.nm(),h.siblings.push(g),k.push(g)));a=0;for(d=this.ah.length;a<d;a++)this.j.ag(this.ah[a],
null,!0);this.j.Ti=null;this.j.zc();if(this.j.Ya&&!this.j.Ic)for(a=0,d=this.j.ca.length;a<d;a++)m=this.j.ca[a],!m.qa&&m.D.length&&m.to&&m.to(this.j.Ya);a=0;for(d=k.length;a<d;a++)h=k[a],this.j.trigger(Object.getPrototypeOf(h.type.lb).V.Ki,h);F(k);this.j.gl||this.j.trigger(U.prototype.V.jp,null);this.Xh=!1};a.prototype.Qt=function(){var a,b,c,d,e;b=a=0;for(c=this.ah.length;a<c;a++)d=this.ah[a],e=this.j.ca[d[1]],e.global?e.Pc||this.j.ag(d,null,!0):(this.ah[b]=d,b++);Da(this.ah,b)};a.prototype.Nw=function(){this.j.gl||
this.j.trigger(U.prototype.V.et,null);this.j.En=!0;F(this.j.gf.Dd);var a,b,c,d,f,g;if(!this.Xh)for(a=0,b=this.xa.length;a<b;a++)for(this.xa[a].$o(),f=this.xa[a].D,c=0,d=f.length;c<d;c++)g=f[c],g.type.global||this.j.Wo(g.type)&&this.Fw(g);a=0;for(b=this.xa.length;a<b;a++){f=this.xa[a].D;c=0;for(d=f.length;c<d;c++)g=f[c],g.type.global||this.j.Rf(g);this.j.zc();F(f);this.xa[a].Hh=!0}a=0;for(b=this.j.ca.length;a<b;a++)if(f=this.j.ca[a],!(f.global||f.lb.mg||f.lb.dm||f.qa)){c=0;for(d=f.D.length;c<d;c++)this.j.Rf(f.D[c]);
this.j.zc()}e=!1;this.j.En=!1};new za(0,0,0,0);a.prototype.Ue=function(a){var b,c=a,d=!1,e=!this.j.Jd;e&&(this.j.sl||(this.j.sl=document.createElement("canvas"),b=this.j.sl,b.width=this.j.pa,b.height=this.j.oa,this.j.zq=b.getContext("2d"),d=!0),b=this.j.sl,c=this.j.zq,b.width!==this.j.pa&&(b.width=this.j.pa,d=!0),b.height!==this.j.oa&&(b.height=this.j.oa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Ha,c.mozImageSmoothingEnabled=this.j.Ha,c.msImageSmoothingEnabled=this.j.Ha,c.imageSmoothingEnabled=
this.j.Ha));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.j.Dm&&!this.Zp()&&c.clearRect(0,0,this.j.pa,this.j.oa);var f,g,d=0;for(f=this.xa.length;d<f;d++)g=this.xa[d],g.visible&&0<g.opacity&&11!==g.Ac&&(g.D.length||!g.Ge)?g.Ue(c):g.pm();e&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.Rg=function(a){a.Gr(!0);this.j.Qb||(this.j.Qb=a.Hd(this.j.pa,this.j.oa,this.j.Ha));if(this.j.Qb.Og!==this.j.pa||this.j.Qb.Ng!==this.j.oa)a.deleteTexture(this.j.Qb),this.j.Qb=a.Hd(this.j.pa,
this.j.oa,this.j.Ha);a.je(this.j.Qb);this.j.Jd||a.Bh(this.j.pa,this.j.oa);var b,c;for(b=this.xa.length-1;0<=b;--b)c=this.xa[b],c.visible&&1===c.opacity&&c.If&&0===c.Ac&&(c.D.length||!c.Ge)?c.Rg(a):c.pm();a.Gr(!1)};a.prototype.od=function(a){var b=0<this.Ta.length||this.j.yi||!this.j.Jd||this.j.kb;if(b){this.j.Qb||(this.j.Qb=a.Hd(this.j.pa,this.j.oa,this.j.Ha));if(this.j.Qb.Og!==this.j.pa||this.j.Qb.Ng!==this.j.oa)a.deleteTexture(this.j.Qb),this.j.Qb=a.Hd(this.j.pa,this.j.oa,this.j.Ha);a.je(this.j.Qb);
this.j.Jd||a.Bh(this.j.pa,this.j.oa)}else this.j.Qb&&(a.je(null),a.deleteTexture(this.j.Qb),this.j.Qb=null);this.j.Dm&&!this.Zp()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.xa.length;c<d;c++)e=this.xa[c],e.visible&&0<e.opacity&&(e.D.length||!e.Ge)?e.od(a):e.pm();b&&(0===this.Ta.length||1===this.Ta.length&&this.j.Jd?(1===this.Ta.length?(b=this.Ta[0].index,a.fd(this.Ta[0].Tb),a.si(null,1/this.j.pa,1/this.j.oa,0,0,1,1,this.scale,this.P,0,0,this.j.pa/2,this.j.oa/2,this.j.Nd.bb,this.zb[b]),a.Nl(this.Ta[0].Tb)&&
(this.j.Ia=!0)):a.fd(0),this.j.Jd||a.Bh(this.j.width,this.j.height),a.je(null),a.Fr(!1),a.Ah(1),a.zd(this.j.Qb),a.Dr(),a.ie(),a.Td(),b=this.j.width/2,c=this.j.height/2,a.Tj(-b,c,b,c,b,-c,-b,-c),a.zd(null),a.Fr(!0)):this.Co(a,null,null,null))};a.prototype.jj=function(){return 0<this.Ta.length||this.j.yi||!this.j.Jd||this.j.kb?this.j.Qb:null};a.prototype.Wp=function(){var a=this.xa[0].sd(),b,c,d;b=1;for(c=this.xa.length;b<c;b++)d=this.xa[b],(0!==d.Ef||0!==d.Ff)&&d.sd()<a&&(a=d.sd());return a};a.prototype.Br=
function(a){if(!this.es){var b=1/this.Wp()*this.j.pa/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.Ia=!0)};a.prototype.Cr=function(a){if(!this.es){var b=1/this.Wp()*this.j.oa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.Ia=!0)};a.prototype.Ht=function(){this.Br(this.scrollX);this.Cr(this.scrollY)};a.prototype.Co=function(a,b,c,d){var e=c?c.Ta:b?b.Ta:this.Ta,f=1,g=0,h=0,k=0,m=this.j.pa,B=this.j.oa;c?(f=c.Q.sd(),g=
c.Q.rd(),h=c.Q.mb,k=c.Q.nb,m=c.Q.yb,B=c.Q.xb):b&&(f=b.sd(),g=b.rd(),h=b.mb,k=b.nb,m=b.yb,B=b.xb);var D=this.j.jn,C,E,y,A,H=0,aa=1,M,I=this.j.pa,K=this.j.oa,T=I/2,va=K/2,V=b?b.wg:this.wg,R=b?b.Ao:this.Ao,Q=0,Y=0,L=0,J=0,S=I,fb=I,W=K,gb=K,Fa=y=0;A=c?c.Q.rd():0;if(c){C=0;for(E=e.length;C<E;C++)y+=a.uv(e[C].Tb),Fa+=a.vv(e[C].Tb);J=c.ib;Q=b.ub(J.left,J.top,!0,!0);L=b.ub(J.left,J.top,!1,!0);S=b.ub(J.right,J.bottom,!0,!0);W=b.ub(J.right,J.bottom,!1,!0);0!==A&&(C=b.ub(J.right,J.top,!0,!0),E=b.ub(J.right,
J.top,!1,!0),Y=b.ub(J.left,J.bottom,!0,!0),J=b.ub(J.left,J.bottom,!1,!0),A=Math.min(Q,S,C,Y),S=Math.max(Q,S,C,Y),Q=A,A=Math.min(L,W,E,J),W=Math.max(L,W,E,J),L=A);Q-=y;L-=Fa;S+=y;W+=Fa;R.left=Q/I;R.top=1-L/K;R.right=S/I;R.bottom=1-W/K;Y=Q=ta(Q);J=L=ta(L);fb=S=ua(S);gb=W=ua(W);Y-=y;J-=Fa;fb+=y;gb+=Fa;0>Q&&(Q=0);0>L&&(L=0);S>I&&(S=I);W>K&&(W=K);0>Y&&(Y=0);0>J&&(J=0);fb>I&&(fb=I);gb>K&&(gb=K);V.left=Q/I;V.top=1-L/K;V.right=S/I;V.bottom=1-W/K}else V.left=R.left=0,V.top=R.top=0,V.right=R.right=1,V.bottom=
R.bottom=1;Fa=c&&(a.Qj(e[0].Tb)||0!==y||0!==Fa||1!==c.opacity||c.type.lb.Uq)||b&&!c&&1!==b.opacity;a.Dr();if(Fa){D[H]||(D[H]=a.Hd(I,K,this.j.Ha));if(D[H].Og!==I||D[H].Ng!==K)a.deleteTexture(D[H]),D[H]=a.Hd(I,K,this.j.Ha);a.fd(0);a.je(D[H]);M=gb-J;a.clearRect(Y,K-J-M,fb-Y,M);c?c.od(a):(a.zd(this.j.Yb),a.Ah(b.opacity),a.ie(),a.translate(-T,-va),a.Td(),a.cf(Q,W,S,W,S,L,Q,L,V));R.left=R.top=0;R.right=R.bottom=1;c&&(A=V.top,V.top=V.bottom,V.bottom=A);H=1;aa=0}a.Ah(1);y=e.length-1;var Ib=a.wo(e[y].Tb)||
!b&&!c&&!this.j.Jd,kb=0;C=0;for(E=e.length;C<E;C++){D[H]||(D[H]=a.Hd(I,K,this.j.Ha));if(D[H].Og!==I||D[H].Ng!==K)a.deleteTexture(D[H]),D[H]=a.Hd(I,K,this.j.Ha);a.fd(e[C].Tb);kb=e[C].index;a.Nl(e[C].Tb)&&(this.j.Ia=!0);0!=C||Fa?(a.si(d,1/I,1/K,R.left,R.top,R.right,R.bottom,f,g,h,k,(h+m)/2,(k+B)/2,this.j.Nd.bb,c?c.zb[kb]:b?b.zb[kb]:this.zb[kb]),a.zd(null),C!==y||Ib?(a.je(D[H]),M=gb-J,A=K-J-M,a.clearRect(Y,A,fb-Y,M)):(c?a.yg(c.Kc,c.Fc):b&&a.yg(b.Kc,b.Fc),a.je(d)),a.zd(D[aa]),a.ie(),a.translate(-T,-va),
a.Td(),a.cf(Q,W,S,W,S,L,Q,L,V),C!==y||Ib||a.zd(null)):(a.je(D[H]),M=gb-J,A=K-J-M,a.clearRect(Y,A,fb-Y,M),c?(a.si(d,1/c.width,1/c.height,R.left,R.top,R.right,R.bottom,f,g,h,k,(h+m)/2,(k+B)/2,this.j.Nd.bb,c.zb[kb]),c.od(a)):(a.si(d,1/I,1/K,0,0,1,1,f,g,h,k,(h+m)/2,(k+B)/2,this.j.Nd.bb,b?b.zb[kb]:this.zb[kb]),a.zd(b?this.j.Yb:this.j.Qb),a.ie(),a.translate(-T,-va),a.Td(),a.cf(Q,W,S,W,S,L,Q,L,V)),R.left=R.top=0,R.right=R.bottom=1,c&&!Ib&&(A=W,W=L,L=A));H=0===H?1:0;aa=0===H?1:0}Ib&&(a.fd(0),c?a.yg(c.Kc,
c.Fc):b?a.yg(b.Kc,b.Fc):this.j.Jd||(a.Bh(this.j.width,this.j.height),T=this.j.width/2,va=this.j.height/2,L=Q=0,S=this.j.width,W=this.j.height),a.je(d),a.zd(D[aa]),a.ie(),a.translate(-T,-va),a.Td(),c&&1===e.length&&!Fa?a.cf(Q,L,S,L,S,W,Q,W,V):a.cf(Q,W,S,W,S,L,Q,L,V),a.zd(null))};a.prototype.Zk=function(a){var b,c;b=0;for(c=this.xa.length;b<c;b++)if(this.xa[b].Ka===a)return this.xa[b];return null};a.prototype.wc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.P,w:this.width,
h:this.height,fv:this.Xh,persist:this.vg,fx:[],layers:{}};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Wc,params:this.zb[c.index]});a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],d.layers[c.Ka.toString()]=c.wc();return d};a.prototype.Qc=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.P=a.a;this.width=a.w;this.height=a.h;this.vg=a.persist;"undefined"!==typeof a.fv&&(this.Xh=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.nn(f[b].name))d.Wc=
f[b].active,this.zb[d.index]=f[b].params;this.He();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.Zk(parseInt(e,10)))&&a.Qc(b[e])};ec=a;b.prototype.He=function(){F(this.Ta);this.If=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Wc&&(this.Ta.push(c),c.Ce||(this.If=!1))};b.prototype.nn=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};b.prototype.Rt=function(){var a,b,c,d,e,f;b=a=0;for(c=this.Ld.length;a<c;a++){d=this.Ld[a];e=this.j.ca[d[1]];
f=this.j.Wo(e);e=!0;if(!f||this.Pb.Xh)d=this.j.ag(d,this,!0),k.push(d),d.type.global&&(e=!1,this.Xi.push(d.uid));e&&(this.Ld[b]=this.Ld[a],b++)}this.Ld.length=b;this.j.zc();!this.j.aa&&this.ua.length&&(this.Ac=this.wu);this.Ui=Hb(this.Ac);this.j.ea&&Jb(this,this.Ac,this.j.ea);this.Ee=!0};b.prototype.qi=function(a,b){var c=Ha(this.D,a);0>c||(b&&this.Ud&&a.ed&&a.ed.right>=a.ed.left&&(a.Na(),this.vc.update(a,a.ed,null),a.ed.set(0,0,-1,-1)),c===this.D.length-1?this.D.pop():(Ca(this.D,c),this.Xj(c)),this.Ee=
!0)};b.prototype.Pi=function(a,b){a.Ie=this.D.length;this.D.push(a);b&&this.Ud&&a.ed&&a.ba();this.Ee=!0};b.prototype.qw=function(a){this.D.unshift(a);this.Xj(0)};b.prototype.gw=function(a,b,c){var d=a.We();b=b.We();Ca(this.D,d);d<b&&b--;c&&b++;b===this.D.length?this.D.push(a):this.D.splice(b,0,a);this.Xj(d<b?d:b)};b.prototype.Xj=function(a){-1===this.Pf?this.Pf=a:a<this.Pf&&(this.Pf=a);this.Ee=this.Hh=!0};b.prototype.$o=function(){if(this.Hh){-1===this.Pf&&(this.Pf=0);var a,b,c;if(this.Ud)for(a=this.Pf,
b=this.D.length;a<b;++a)c=this.D[a],c.Ie=a,this.vc.ew(c.ed);else for(a=this.Pf,b=this.D.length;a<b;++a)this.D[a].Ie=a;this.Hh=!1;this.Pf=-1}};b.prototype.sd=function(a){return this.sv()*(this.j.Jd||a?this.j.Qi:1)};b.prototype.sv=function(){return(this.scale*this.Pb.scale-1)*this.mk+1};b.prototype.rd=function(){return this.rf?0:Sa(this.Pb.P+this.P)};var g=[],h=[],m=[];b.prototype.rn=function(){this.$o();this.vc.Ql(this.mb,this.nb,this.yb,this.xb,m);if(!m.length)return d();if(1===m.length){var a=d();
Ea(a,m[0]);F(m);return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,e=void 0,g=void 0,k=void 0,v=void 0,c=0,e=a.length;c<e-1;c+=2){var g=a[c],k=a[c+1],v=d(),u=g,x=k,z=v,B=0,D=0,C=0,E=u.length,y=x.length,A=void 0,H=void 0;for(z.length=E+y;B<E&&D<y;++C)A=u[B],H=x[D],A.Ie<H.Ie?(z[C]=A,++B):(z[C]=H,++D);for(;B<E;++B,++C)z[C]=u[B];for(;D<y;++D,++C)z[C]=x[D];b||(f(g),f(k));h.push(v)}1===e%2&&(b?(g=d(),Ea(g,a[e-1]),h.push(g)):h.push(a[e-1]));Ea(a,h);F(h);b=!1}a=m[0];F(m);return a};b.prototype.Ue=function(a){this.df=
this.Uk||1!==this.opacity||0!==this.Ac;var b=this.j.canvas,c=a,d=!1;this.df&&(this.j.rl||(this.j.rl=document.createElement("canvas"),b=this.j.rl,b.width=this.j.pa,b.height=this.j.oa,this.j.yq=b.getContext("2d"),d=!0),b=this.j.rl,c=this.j.yq,b.width!==this.j.pa&&(b.width=this.j.pa,d=!0),b.height!==this.j.oa&&(b.height=this.j.oa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Ha,c.mozImageSmoothingEnabled=this.j.Ha,c.msImageSmoothingEnabled=this.j.Ha,c.imageSmoothingEnabled=this.j.Ha),this.Ge&&c.clearRect(0,
0,this.j.pa,this.j.oa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Ge||(c.fillStyle="rgb("+this.te[0]+","+this.te[1]+","+this.te[2]+")",c.fillRect(0,0,this.j.pa,this.j.oa));c.save();this.rf=!0;var d=this.Zf(!0),e=this.Zf(!1);this.rf=!1;this.j.Be&&(d=Math.round(d),e=Math.round(e));this.Tl(d,e,c);var g=this.sd();c.scale(g,g);c.translate(-d,-e);this.Ud?(this.rc.left=this.vc.Uc(this.mb),this.rc.top=this.vc.Vc(this.nb),this.rc.right=this.vc.Uc(this.yb),this.rc.bottom=this.vc.Vc(this.xb),
this.Ee||!this.rc.aj(this.gi)?(f(this.Af),d=this.rn(),this.Ee=!1,this.gi.Vi(this.rc)):d=this.Af):d=this.D;for(var h,k=null,e=0,g=d.length;e<g;++e)h=d[e],h!==k&&(this.ru(h,c),k=h);this.Ud&&(this.Af=d);c.restore();this.df&&(a.globalCompositeOperation=this.Ui,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.ru=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Na();var c=a.ib;c.right<this.mb||c.bottom<this.nb||c.left>this.yb||c.top>this.xb||(b.globalCompositeOperation=a.Ui,a.Ue(b))}};
b.prototype.pm=function(){this.rf=!0;var a=this.Zf(!0),b=this.Zf(!1);this.rf=!1;this.j.Be&&(a=Math.round(a),b=Math.round(b));this.Tl(a,b,null)};b.prototype.Tl=function(a,b,c){var d=this.sd();this.mb=a;this.nb=b;this.yb=a+1/d*this.j.pa;this.xb=b+1/d*this.j.oa;a=this.rd();0!==a&&(c&&(c.translate(this.j.pa/2,this.j.oa/2),c.rotate(-a),c.translate(this.j.pa/-2,this.j.oa/-2)),this.Lf.set(this.mb,this.nb,this.yb,this.xb),this.Lf.offset((this.mb+this.yb)/-2,(this.nb+this.xb)/-2),this.$r.Kr(this.Lf,a),this.$r.wp(this.Lf),
this.Lf.offset((this.mb+this.yb)/2,(this.nb+this.xb)/2),this.mb=this.Lf.left,this.nb=this.Lf.top,this.yb=this.Lf.right,this.xb=this.Lf.bottom)};b.prototype.Rg=function(a){if(this.df=this.Uk){this.j.Yb||(this.j.Yb=a.Hd(this.j.pa,this.j.oa,this.j.Ha));if(this.j.Yb.Og!==this.j.pa||this.j.Yb.Ng!==this.j.oa)a.deleteTexture(this.j.Yb),this.j.Yb=a.Hd(this.j.pa,this.j.oa,this.j.Ha);a.je(this.j.Yb)}this.rf=!0;var b=this.Zf(!0),c=this.Zf(!1);this.rf=!1;this.j.Be&&(b=Math.round(b),c=Math.round(c));this.Tl(b,
c,null);b=this.sd();a.ie();a.scale(b,b);a.Ul(-this.rd());a.translate((this.mb+this.yb)/-2,(this.nb+this.xb)/-2);a.Td();this.Ud?(this.rc.left=this.vc.Uc(this.mb),this.rc.top=this.vc.Vc(this.nb),this.rc.right=this.vc.Uc(this.yb),this.rc.bottom=this.vc.Vc(this.xb),this.Ee||!this.rc.aj(this.gi)?(f(this.Af),b=this.rn(),this.Ee=!1,this.gi.Vi(this.rc)):b=this.Af):b=this.D;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.tu(b[c],a),e=d);this.Ud&&(this.Af=b);this.Ge||(this.Pm=this.j.Sg++,a.Xl(this.Pm),
a.Er(1,1,1),a.Pp(),a.xw())};b.prototype.od=function(a){var b=0,c=0;if(this.df=this.Uk||1!==this.opacity||0<this.Ta.length||0!==this.Ac){this.j.Yb||(this.j.Yb=a.Hd(this.j.pa,this.j.oa,this.j.Ha));if(this.j.Yb.Og!==this.j.pa||this.j.Yb.Ng!==this.j.oa)a.deleteTexture(this.j.Yb),this.j.Yb=a.Hd(this.j.pa,this.j.oa,this.j.Ha);a.je(this.j.Yb);this.Ge&&a.clear(0,0,0,0)}this.Ge||(this.j.kb?(a.Xl(this.Pm),a.Er(this.te[0]/255,this.te[1]/255,this.te[2]/255),a.Pp(),a.Iw()):a.clear(this.te[0]/255,this.te[1]/255,
this.te[2]/255,1));this.rf=!0;var d=this.Zf(!0),b=this.Zf(!1);this.rf=!1;this.j.Be&&(d=Math.round(d),b=Math.round(b));this.Tl(d,b,null);d=this.sd();a.ie();a.scale(d,d);a.Ul(-this.rd());a.translate((this.mb+this.yb)/-2,(this.nb+this.xb)/-2);a.Td();this.Ud?(this.rc.left=this.vc.Uc(this.mb),this.rc.top=this.vc.Vc(this.nb),this.rc.right=this.vc.Uc(this.yb),this.rc.bottom=this.vc.Vc(this.xb),this.Ee||!this.rc.aj(this.gi)?(f(this.Af),b=this.rn(),this.Ee=!1,this.gi.Vi(this.rc)):b=this.Af):b=this.D;var e,
g,h=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==h&&(this.su(b[c],a),h=g);this.Ud&&(this.Af=b);this.df&&(b=this.Ta.length?this.Ta[0].Tb:0,c=this.Ta.length?this.Ta[0].index:0,0===this.Ta.length||1===this.Ta.length&&!a.wo(b)&&1===this.opacity?(1===this.Ta.length?(a.fd(b),a.si(this.Pb.jj(),1/this.j.pa,1/this.j.oa,0,0,1,1,d,this.rd(),this.mb,this.nb,(this.mb+this.yb)/2,(this.nb+this.xb)/2,this.j.Nd.bb,this.zb[c]),a.Nl(b)&&(this.j.Ia=!0)):a.fd(0),a.je(this.Pb.jj()),a.Ah(this.opacity),a.zd(this.j.Yb),a.yg(this.Kc,
this.Fc),a.ie(),a.Td(),d=this.j.pa/2,b=this.j.oa/2,a.Tj(-d,b,d,b,d,-b,-d,-b),a.zd(null)):this.Pb.Co(a,this,null,this.Pb.jj()))};b.prototype.su=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Na();var c=a.ib;c.right<this.mb||c.bottom<this.nb||c.left>this.yb||c.top>this.xb||(b.Xl(a.Sg),a.qs?this.uu(a,b):(b.fd(0),b.yg(a.Kc,a.Fc),a.od(b)))}};b.prototype.tu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Na();var c=a.ib;c.right<this.mb||c.bottom<this.nb||c.left>this.yb||c.top>this.xb||
(a.Sg=this.j.Sg++,0===a.Ac&&1===a.opacity&&a.If&&a.Rg&&(b.Xl(a.Sg),a.Rg(b)))}};b.prototype.uu=function(a,b){var c=a.Ta[0].Tb,d=a.Ta[0].index,e=this.sd();if(1!==a.Ta.length||b.wo(c)||b.sw(c)||(a.P||a.Q.rd())&&b.Qj(c)||1!==a.opacity||a.type.lb.Uq)this.Pb.Co(b,this,a,this.df?this.j.Yb:this.Pb.jj()),b.ie(),b.scale(e,e),b.Ul(-this.rd()),b.translate((this.mb+this.yb)/-2,(this.nb+this.xb)/-2),b.Td();else{b.fd(c);b.yg(a.Kc,a.Fc);b.Nl(c)&&(this.j.Ia=!0);var f=0,g=0,h=0,k=0;b.Qj(c)&&(c=a.ib,f=this.ub(c.left,
c.top,!0,!0),g=this.ub(c.left,c.top,!1,!0),h=this.ub(c.right,c.bottom,!0,!0),c=this.ub(c.right,c.bottom,!1,!0),f=f/windowWidth,g=1-g/windowHeight,h=h/windowWidth,k=1-c/windowHeight);b.si(this.df?this.j.Yb:this.Pb.jj(),1/a.width,1/a.height,f,g,h,k,e,this.rd(),this.mb,this.nb,(this.mb+this.yb)/2,(this.nb+this.xb)/2,this.j.Nd.bb,a.zb[d]);a.od(b)}};b.prototype.Zf=function(a){var b=0,c=0,d=this.j.devicePixelRatio;this.j.lg&&(b*=d,c*=d);var d=this.j.dr,e=this.j.er,d=(this.Pb.scrollX-d)*this.Ef+d,e=(this.Pb.scrollY-
e)*this.Ff+e,f,g,h=1/this.sd(!1);f=d-this.j.pa*h/2;g=e-this.j.oa*h/2;f+=b*h;g+=c*h;c=this.rd();0!==c&&(f-=d,g-=e,b=Math.cos(c),c=Math.sin(c),h=f*b-g*c,g=g*b+f*c,f=h+d,g+=e);return a?f:g};b.prototype.ub=function(a,b,c,d){var e=this.j.dr,f=this.j.er,g=(this.Pb.scrollX-e)*this.Ef+e,h=(this.Pb.scrollY-f)*this.Ff+f,f=g,e=h,k=this.rd();if(0!==k){a-=g;b-=h;var m=Math.cos(-k),k=Math.sin(-k),B=a*m-b*k;b=b*m+a*k;a=B+g;b+=h}g=1/this.sd(!d);d?(f-=this.j.pa*g/2,e-=this.j.oa*g/2):(f-=this.j.width*g/2,e-=this.j.height*
g/2);f=(a-f)/g;e=(b-e)/g;a=this.j.devicePixelRatio;this.j.lg&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.wc=function(){var a,b,c,d={s:this.scale,a:this.P,vl:this.mb,vt:this.nb,vr:this.yb,vb:this.xb,v:this.visible,bc:this.te,t:this.Ge,px:this.Ef,py:this.Ff,o:this.opacity,zr:this.mk,fx:[],cg:this.Xi,instances:[]};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Wc,params:this.zb[c.index]});return d};b.prototype.Qc=function(a){var b,d,e;this.scale=a.s;this.P=a.a;this.mb=a.vl;
this.nb=a.vt;this.yb=a.vr;this.xb=a.vb;this.visible=a.v;this.te=a.bc;this.Ge=a.t;this.Ef=a.px;this.Ff=a.py;this.opacity=a.o;this.mk=a.zr;this.Xi=a.cg||[];Ea(this.Ld,this.Sr);var f=new ca;b=0;for(e=this.Xi.length;b<e;++b)f.add(this.Xi[b]);d=b=0;for(e=this.Ld.length;b<e;++b)f.contains(this.Ld[b][2])||(this.Ld[d]=this.Ld[b],++d);Da(this.Ld,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.nn(d[b].name))a.Wc=d[b].active,this.zb[a.index]=d[b].params;this.He();this.D.sort(c);this.Hh=!0};Bc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,g;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=r.length&&(r.length=b.length+1);r[b.length]||(r[b.length]=[]);g=r[b.length];d=0;for(e=g.length;d<e;d++)if(f=g[d],a(b,f))return f;g.push(b);return b}
function d(a,b){this.j=a;this.bs={};this.Mp={};this.vn=!1;this.bq=new ca;this.Wm=[];this.Em=[];this.name=b[0];var c=b[1];this.fg=[];var d,e;d=0;for(e=c.length;d<e;d++)this.dq(c[d],null,this.fg)}function f(a){this.type=a;this.D=[];this.Ua=[];this.eb=!0}function k(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.wb=[];this.zg=[];this.$p=this.km=this.So=this.An=this.group=this.Qr=!1;this.ic=[];this.Xd=[];this.le=[];this.lj="";this.Zh=this.An=this.group=!1;this.Ek=null;c[1]&&(this.lj=c[1][1].toLowerCase(),
this.group=!0,this.An=!!c[1][0],this.Ek=[],this.Zh=this.An,this.j.Oh.push(this),this.j.mj[this.lj]=this);this.Ae=c[2];this.Ka=c[4];this.group||(this.j.vp[this.Ka.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Cc(this,d[a]);e.index=a;this.ic.push(e);this.pp(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Dc(this,d[a]),e.index=a,this.Xd.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.dq(c[a],this,this.le);this.il=!1;this.ic.length&&(this.il=null==this.ic[0].type&&
this.ic[0].sc==U.prototype.V.Ds)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Pc))for(c=0,d=a.md.length;c<d;c++)e=a.md[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.Gd=a;this.sheet=a.sheet;this.j=a.j;this.Da=[];this.Eb=[];this.Z={};this.index=-1;this.Ni=!1;this.sc=this.j.Tf(b[1]);this.trigger=0<b[3];this.Lp=2===b[3];this.Dn=b[5];this.Zv=b[6];this.Ka=b[7];this.j.Rh[this.Ka.toString()]=this;-1===b[0]?(this.type=null,this.Sb=this.Fo,this.Mg=null,this.ue=-1):(this.type=
this.j.ca[b[0]],this.Sb=this.Zv?this.Dw:this.Eo,b[2]?(this.Mg=this.type.Wk(b[2]),this.ue=this.type.ln(b[2])):(this.Mg=null,this.ue=-1),this.Gd.parent&&this.Gd.parent.Yl());this.Lp&&(this.Sb=this.Ew);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Ec(this,e[c]);this.Da.push(f)}this.Eb.length=e.length}}function h(a,b){this.Gd=a;this.sheet=a.sheet;this.j=a.j;this.Da=[];this.Eb=[];this.Z={};this.index=-1;this.Ni=!1;this.sc=this.j.Tf(b[1]);-1===b[0]?(this.type=null,this.Sb=this.Fo,
this.Mg=null,this.ue=-1):(this.type=this.j.ca[b[0]],this.Sb=this.Eo,b[2]?(this.Mg=this.type.Wk(b[2]),this.ue=this.type.ln(b[2])):(this.Mg=null,this.ue=-1));this.Ka=b[3];this.j.Nh[this.Ka.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Ec(this,e[c]);this.Da.push(f)}this.Eb.length=e.length}}function m(){v++;t.length===v&&t.push(new Fc);return t[v]}function l(a,b){this.ge=a;this.Gd=a.Gd;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.Ve=null;this.Jf=0;this.get=
null;this.Cp=0;this.Pb=null;this.key=0;this.object=null;this.index=0;this.fk=this.Ch=this.fk=this.Ch=this.Np=this.Ug=this.gk=null;this.ne=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Ve=new Gc(this,b[1]);this.Jf=0;this.get=this.Bv;break;case 1:this.Ve=new Gc(this,b[1]);this.Jf=0;this.get=this.Cv;break;case 5:this.Ve=new Gc(this,b[1]);this.Jf=0;this.get=this.Gv;break;case 3:case 8:this.Cp=b[1];this.get=this.zv;break;case 6:this.Pb=this.j.Wn[b[1]];this.get=this.Hv;break;case 9:this.key=b[1];this.get=
this.Fv;break;case 4:this.object=this.j.ca[b[1]];this.get=this.Iv;this.Gd.pp(this.object);this.ge instanceof Dc?this.Gd.Yl():this.Gd.parent&&this.Gd.parent.Yl();break;case 10:this.index=b[1];a.type.qa?(this.get=this.Dv,this.ne=!0):this.get=this.Ev;break;case 11:this.gk=b[1];this.Ug=null;this.get=this.Av;break;case 2:case 12:this.Np=b[1];this.get=this.yv;break;case 13:for(this.get=this.Jv,this.Ch=[],this.fk=[],c=1,d=b.length;c<d;c++)e=new Ec(this.ge,b[c]),this.Ch.push(e),this.fk.push(0)}}function n(a,
b,c){this.sheet=a;this.parent=b;this.j=a.j;this.wb=[];this.name=c[1];this.ss=c[2];this.zn=c[3];this.vj=!!c[4];this.hl=!!c[5];this.Ka=c[6];this.j.Bi[this.Ka.toString()]=this;this.data=this.zn;this.parent?(this.nh=this.vj||this.hl?-1:this.j.Lw++,this.j.Ct.push(this)):(this.nh=-1,this.j.Bt.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.wb=[];this.oj=null;this.Ov=c[1];this.Wc=!0}function p(){this.Vr=[];this.reset(null)}var r=[];d.prototype.toString=function(){return this.name};
d.prototype.dq=function(a,b,c){switch(a[0]){case 0:a=new Hc(this,b,a);if(a.Ae)for(c.push(a),c=0,b=a.ic.length;c<b;c++)a.ic[c].trigger&&this.fq(a,c);else a.rq()?this.fq(a,0):c.push(a);break;case 1:a=new yc(this,b,a);c.push(a);break;case 2:a=new Ic(this,b,a),c.push(a)}};d.prototype.Kb=function(){var a,b;a=0;for(b=this.fg.length;a<b;a++)this.fg[a].Kb(a<b-1&&this.fg[a+1].il)};d.prototype.Yo=function(){F(this.Wm);F(this.Em);this.op(this);F(this.Em)};d.prototype.op=function(a){var b,c,d,e,f=a.Wm,g=a.Em,
h=this.bq.jf();b=0;for(c=h.length;b<c;++b)d=h[b],e=d.oj,!d.Wc||a===e||-1<g.indexOf(e)||(g.push(e),e.op(a),f.push(e))};d.prototype.Sb=function(a){this.j.wy||(this.vn=!0,a||(this.j.Hn=!0));var b,c;b=0;for(c=this.fg.length;b<c;b++){var d=this.fg[b];d.Sb();this.j.Om(d.wb);this.j.ig&&this.j.zc()}a||(this.j.Hn=!1)};d.prototype.fq=function(a,b){a.Ae||this.j.mm.push(a);var c,d,e=a.ic[b],f;e.type?f=e.type.name:f="system";var g=(c=e.Lp)?this.Mp:this.bs;g[f]||(g[f]=[]);f=g[f];g=e.sc;if(c){if(e.Da.length&&(e=
e.Da[0],1===e.type&&2===e.Ve.type)){e=e.Ve.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].cj;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,cj:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].cj.push([a,b]);return}dd&&g===dd.prototype.V.Mh?f.unshift({method:g,cj:[[a,b]]}):f.push({method:g,cj:[[a,b]]})}};fc=d;f.prototype.Yp=function(){return this.eb?this.type.D.length:this.D.length};f.prototype.Kd=function(){return this.eb?this.type.D:
this.D};f.prototype.Oj=function(a){a&&(a.j.Gc().Id.Ae?(this.eb&&(F(this.D),Ea(this.Ua,a.type.D),this.eb=!1),a=this.Ua.indexOf(a),-1!==a&&(this.D.push(this.Ua[a]),this.Ua.splice(a,1))):(this.eb=!1,F(this.D),this.D[0]=a))};Pb=f;window._c2hh_="B1F2D14A385313FF2BF2C77CD0D5A3BC422151AB";k.prototype.Kb=function(a){var c,d=this.parent;if(this.group)for(this.km=!0;d;){if(!d.group){this.km=!1;break}d=d.parent}this.So=!this.rq()&&(!this.parent||this.parent.group&&this.parent.km);this.$p=!!a;this.zg=this.wb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.wb.length;a<c;a++)this.zt(d.wb[a]);d=d.parent}this.wb=b(this.wb);this.zg=b(this.zg);a=0;for(c=this.ic.length;a<c;a++)this.ic[a].Kb();a=0;for(c=this.Xd.length;a<c;a++)this.Xd[a].Kb();a=0;for(c=this.le.length;a<c;a++)this.le[a].Kb(a<c-1&&this.le[a+1].il)};k.prototype.Hw=function(a){if(this.Zh!==!!a){this.Zh=!!a;var b;a=0;for(b=this.Ek.length;a<b;++a)this.Ek[a].hs();0<b&&this.j.ab.Tg&&this.j.ab.Tg.Yo()}};k.prototype.pp=function(a){e(a,this.wb)};k.prototype.zt=function(a){e(a,
this.zg)};k.prototype.Yl=function(){this.Qr=!0;this.parent&&this.parent.Yl()};k.prototype.rq=function(){return this.ic.length?this.ic[0].trigger:!1};k.prototype.Sb=function(){var a,b,c=!1,d=this.j,e=this.j.Gc();e.Id=this;var f=this.ic;this.il||(e.Xm=!1);if(this.Ae){0===f.length&&(c=!0);e.hc=0;for(a=f.length;e.hc<a;e.hc++)b=f[e.hc],b.trigger||(b=b.Sb())&&(c=!0);(e.jh=c)&&this.Vl()}else{e.hc=0;for(a=f.length;e.hc<a;e.hc++)if(b=f[e.hc].Sb(),!b){e.jh=!1;this.So&&d.ig&&d.zc();return}e.jh=!0;this.Vl()}this.yu(e)};
k.prototype.yu=function(a){a.jh&&this.$p&&(a.Xm=!0);this.So&&this.j.ig&&this.j.zc()};k.prototype.Bw=function(a){this.j.Gc().Id=this;this.ic[a].Sb()&&(this.Vl(),this.j.Gc().jh=!0)};k.prototype.Vl=function(){var a=this.j.Gc(),b;a.Fd=0;for(b=this.Xd.length;a.Fd<b;a.Fd++)if(this.Xd[a.Fd].Sb())return;this.yr()};k.prototype.yw=function(){var a=this.j.Gc(),b;for(b=this.Xd.length;a.Fd<b;a.Fd++)if(this.Xd[a.Fd].Sb())return;this.yr()};k.prototype.yr=function(){if(this.le.length){var a,b,c,d,e=this.le.length-
1;this.j.Pl(this);if(this.Qr)for(a=0,b=this.le.length;a<b;a++)c=this.le[a],(d=!this.km||!this.group&&a<e)&&this.j.Ol(c.wb),c.Sb(),d?this.j.wh(c.wb):this.j.Om(c.wb);else for(a=0,b=this.le.length;a<b;a++)this.le[a].Sb();this.j.Ml()}};k.prototype.Cw=function(){var a=this.j.Gc();a.Id=this;var b=!1,c;a.hc=0;for(c=this.ic.length;a.hc<c;a.hc++)if(this.ic[a.hc].Sb())b=!0;else if(!this.Ae)return!1;return this.Ae?b:!0};k.prototype.zw=function(){this.j.Vg++;var a=this.j.Gc().hc,b=this.j.Pl(this);if(!this.Ae)for(b.hc=
a+1,a=this.ic.length;b.hc<a;b.hc++)if(!this.ic[b.hc].Sb()){this.j.Ml();return}this.Vl();this.j.Ml()};k.prototype.Wv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.ic[b].type===a.type)return!1;return!0};Hc=k;g.prototype.Kb=function(){var a,b,c;a=0;for(b=this.Da.length;a<b;a++)c=this.Da[a],c.Kb(),c.ne&&(this.Ni=!0)};g.prototype.Ew=function(){return!0};g.prototype.Fo=function(){var a,b;a=0;for(b=this.Da.length;a<b;a++)this.Eb[a]=this.Da[a].get();return lb(this.sc.apply(this.j.gf,
this.Eb),this.Dn)};g.prototype.Dw=function(){var a,b;a=0;for(b=this.Da.length;a<b;a++)this.Eb[a]=this.Da[a].get();a=this.sc.apply(this.Mg?this.Mg:this.type,this.Eb);this.type.Re();return a};g.prototype.Eo=function(){var a,b,c,d,e,f,g,h,k=this.type,l=k.Ra(),m=this.Gd.Ae&&!this.trigger;b=0;var p=k.Pc,n=k.qa,r=k.tf,q=this.ue,t=-1<q,v=this.Ni,R=this.Da,Q=this.Eb,Y=this.Dn,L=this.sc,J;if(v)for(b=0,e=R.length;b<e;++b)f=R[b],f.ne||(Q[b]=f.get(0));else for(b=0,e=R.length;b<e;++b)Q[b]=R[b].get(0);if(l.eb){F(l.D);
F(l.Ua);J=k.D;a=0;for(d=J.length;a<d;++a){h=J[a];if(v)for(b=0,e=R.length;b<e;++b)f=R[b],f.ne&&(Q[b]=f.get(a));t?(b=0,n&&(b=h.type.Wh[r]),b=L.apply(h.ta[q+b],Q)):b=L.apply(h,Q);(g=lb(b,Y))?l.D.push(h):m&&l.Ua.push(h)}k.finish&&k.finish(!0);l.eb=!1;k.Re();return l.Yp()}c=0;J=(g=m&&!this.Gd.Wv(this))?l.Ua:l.D;var S=!1;a=0;for(d=J.length;a<d;++a){h=J[a];if(v)for(b=0,e=R.length;b<e;++b)f=R[b],f.ne&&(Q[b]=f.get(a));t?(b=0,n&&(b=h.type.Wh[r]),b=L.apply(h.ta[q+b],Q)):b=L.apply(h,Q);if(lb(b,Y))if(S=!0,g){if(l.D.push(h),
p)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ra().D.push(f)}else{J[c]=h;if(p)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ra().D[c]=f;c++}else if(g){J[c]=h;if(p)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ra().Ua[c]=f;c++}else if(m&&(l.Ua.push(h),p))for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ra().Ua.push(f)}Da(J,c);if(p)for(n=k.md,a=0,d=n.length;a<d;a++)h=n[a].Ra(),g?Da(h.Ua,c):Da(h.D,c);c=S;if(g&&!S)for(a=0,d=l.D.length;a<d;a++){h=l.D[a];
if(v)for(b=0,e=R.length;b<e;b++)f=R[b],f.ne&&(Q[b]=f.get(a));b=t?L.apply(h.ta[q],Q):L.apply(h,Q);if(lb(b,Y)){S=!0;break}}k.finish&&k.finish(c||m);return m?S:l.Yp()};Cc=g;h.prototype.Kb=function(){var a,b,c;a=0;for(b=this.Da.length;a<b;a++)c=this.Da[a],c.Kb(),c.ne&&(this.Ni=!0)};h.prototype.Fo=function(){var a=this.j,b,c,d=this.Da,e=this.Eb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.sc.apply(a.gf,e)};h.prototype.Eo=function(){var a=this.type,b=this.ue,c=a.tf,d=this.Ni,e=this.Da,f=this.Eb,
g=this.sc,h=a.Ra().Kd(),a=a.qa,k=-1<b,l,m,p,n,q,r;if(d)for(m=0,n=e.length;m<n;++m)q=e[m],q.ne||(f[m]=q.get(0));else for(m=0,n=e.length;m<n;++m)f[m]=e[m].get(0);l=0;for(p=h.length;l<p;++l){r=h[l];if(d)for(m=0,n=e.length;m<n;++m)q=e[m],q.ne&&(f[m]=q.get(l));k?(m=0,a&&(m=r.type.Wh[c]),g.apply(r.ta[b+m],f)):g.apply(r,f)}return!1};Dc=h;var t=[],v=-1;l.prototype.Kb=function(){var a,b;if(11===this.type)this.Ug=this.j.Up(this.gk,this.Gd.parent);else if(13===this.type)for(a=0,b=this.Ch.length;a<b;a++)this.Ch[a].Kb();
this.Ve&&this.Ve.Kb()};l.prototype.fw=function(a){this.ne||!a||a.lb.dm||(this.ne=!0)};l.prototype.Hr=function(){this.ne=!0};l.prototype.Bv=function(a){this.Jf=a||0;a=m();this.Ve.get(a);v--;return a.data};l.prototype.Cv=function(a){this.Jf=a||0;a=m();this.Ve.get(a);v--;return ka(a.data)?a.data:""};l.prototype.Iv=function(){return this.object};l.prototype.zv=function(){return this.Cp};l.prototype.Gv=function(a){this.Jf=a||0;a=m();this.Ve.get(a);v--;return a.lc()?this.j.rv(a.data):this.j.qv(a.data)};
l.prototype.Hv=function(){return this.Pb};l.prototype.Fv=function(){return this.key};l.prototype.Ev=function(){return this.index};l.prototype.Dv=function(a){a=a||0;var b=this.ge.type,c=null,c=b.Ra(),d=c.Kd();if(d.length)c=d[a%d.length].type;else if(c.Ua.length)c=c.Ua[a%c.Ua.length].type;else if(b.D.length)c=b.D[a%b.D.length].type;else return 0;return this.index+c.Pk[b.tf]};l.prototype.Av=function(){return this.Ug};l.prototype.yv=function(){return this.Np};l.prototype.Jv=function(){var a,b;a=0;for(b=
this.Ch.length;a<b;a++)this.fk[a]=this.Ch[a].get();return this.fk};Ec=l;n.prototype.Kb=function(){this.wb=b(this.wb)};n.prototype.Zl=function(a){var b=this.j.Tp();this.parent&&!this.vj&&b?(this.nh>=b.length&&(b.length=this.nh+1),b[this.nh]=a):this.data=a};n.prototype.al=function(){var a=this.j.Tp();return!this.parent||this.vj||!a||this.hl?this.data:this.nh>=a.length||"undefined"===typeof a[this.nh]?this.zn:a[this.nh]};n.prototype.Sb=function(){!this.parent||this.vj||this.hl||this.Zl(this.zn)};yc=
n;q.prototype.toString=function(){return"include:"+this.oj.toString()};q.prototype.Kb=function(){this.oj=this.j.$m[this.Ov];this.sheet.bq.add(this);this.wb=b(this.wb);for(var a=this.parent;a;)a.group&&a.Ek.push(this),a=a.parent;this.hs()};q.prototype.Sb=function(){this.parent&&this.j.Sj(this.j.ca);this.oj.vn||this.oj.Sb(!0);this.parent&&this.j.wh(this.j.ca)};q.prototype.hs=function(){for(var a=this.parent;a;){if(a.group&&!a.Zh){this.Wc=!1;return}a=a.parent}this.Wc=!0};Ic=q;p.prototype.reset=function(a){this.Id=
a;this.Fd=this.hc=0;F(this.Vr);this.Xm=this.jh=!1};xc=p})();
(function(){function a(a,b){this.ge=a;this.j=a.j;this.type=b[0];this.get=[this.Qu,this.Mu,this.Zu,this.bv,this.Bu,this.$u,this.Uu,this.Ju,this.Tu,this.Yu,this.Cu,this.Xu,this.Ku,this.Vu,this.Ru,this.Su,this.Nu,this.Ou,this.Iu,this.av,this.Wu,this.Pu,this.Hu,this.Lu][this.type];var c=null;this.Cf=this.Da=this.Eb=this.sc=this.jm=this.second=this.first=this.value=null;this.ue=-1;this.we=null;this.rs=-1;this.Ug=this.gk=null;this.ri=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Gc(a,b[1]);break;case 18:this.first=new Gc(a,b[1]);this.second=new Gc(a,b[2]);this.jm=new Gc(a,b[3]);break;case 19:this.sc=this.j.Tf(b[1]);this.sc!==U.prototype.Ob.random&&this.sc!==U.prototype.Ob.Mt||this.ge.Hr();this.Eb=[];this.Da=[];3===b.length?(c=b[2],this.Eb.length=c.length+1):this.Eb.length=1;break;case 20:this.Cf=this.j.ca[b[1]];this.ue=-1;this.sc=this.j.Tf(b[2]);this.ri=b[3];ed&&this.sc===ed.prototype.Ob.ys&&this.ge.Hr();b[4]?this.we=new Gc(a,b[4]):this.we=null;this.Eb=[];this.Da=[];
6===b.length?(c=b[5],this.Eb.length=c.length+1):this.Eb.length=1;break;case 21:this.Cf=this.j.ca[b[1]];this.ri=b[2];b[3]?this.we=new Gc(a,b[3]):this.we=null;this.rs=b[4];break;case 22:this.Cf=this.j.ca[b[1]];this.Cf.Wk(b[2]);this.ue=this.Cf.ln(b[2]);this.sc=this.j.Tf(b[3]);this.ri=b[4];b[5]?this.we=new Gc(a,b[5]):this.we=null;this.Eb=[];this.Da=[];7===b.length?(c=b[6],this.Eb.length=c.length+1):this.Eb.length=1;break;case 23:this.gk=b[1],this.Ug=null}this.ge.fw(this.Cf);4<=this.type&&17>=this.type&&
(this.first=new Gc(a,b[1]),this.second=new Gc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Da.push(new Gc(a,c[d]))}}function c(){++k;f.length===k&&f.push(new Fc);return f[k]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Jc.Kh;this.data=b||0;this.sh=null;this.type==Jc.Kh&&(this.data=Math.floor(this.data))}a.prototype.Kb=function(){23===this.type&&(this.Ug=this.ge.j.Up(this.gk,this.ge.Gd.parent));this.first&&this.first.Kb();this.second&&
this.second.Kb();this.jm&&this.jm.Kb();this.we&&this.we.Kb();if(this.Da){var a,b;a=0;for(b=this.Da.length;a<b;a++)this.Da[a].Kb()}};var f=[],k=-1;a.prototype.av=function(a){var d=this.Da,f=this.Eb;f[0]=a;a=c();b(d,f,a);--k;this.sc.apply(this.j.gf,f)};a.prototype.Wu=function(a){var d=this.Cf,f=this.Eb,m=this.Da,l=this.we,n=this.sc,q=this.ge.Jf,p=d.Ra(),r=p.Kd();if(!r.length)if(p.Ua.length)r=p.Ua;else{this.ri?a.Ad(""):a.hb(0);return}f[0]=a;a.sh=d;a=c();b(m,f,a);l&&(l.get(a),a.lc()&&(q=a.data,r=d.D));
--k;d=r.length;if(q>=d||q<=-d)q%=d;0>q&&(q+=d);n.apply(r[q],f)};a.prototype.Hu=function(a){var d=this.Cf,f=this.Eb,m=this.Da,l=this.we,n=this.ue,q=this.sc,p=this.ge.Jf,r=d.Ra(),t=r.Kd();if(!t.length)if(r.Ua.length)t=r.Ua;else{this.ri?a.Ad(""):a.hb(0);return}f[0]=a;a.sh=d;a=c();b(m,f,a);l&&(l.get(a),a.lc()&&(p=a.data,t=d.D));--k;m=t.length;if(p>=m||p<=-m)p%=m;0>p&&(p+=m);p=t[p];t=0;d.qa&&(t=p.type.Wh[d.tf]);q.apply(p.ta[n+t],f)};a.prototype.Pu=function(a){var b=this.we,d=this.Cf,f=this.rs,l=this.ge.Jf,
n=d.Ra(),q=n.Kd();if(!q.length)if(n.Ua.length)q=n.Ua;else{this.ri?a.Ad(""):a.hb(0);return}if(b){n=c();b.get(n);if(n.lc()){l=n.data;q=d.D;0!==q.length&&(l%=q.length,0>l&&(l+=q.length));l=d.qn(l);d=l.Xb[f];ka(d)?a.Ad(d):a.Ja(d);--k;return}--k}b=q.length;if(l>=b||l<=-b)l%=b;0>l&&(l+=b);l=q[l];q=0;d.qa&&(q=l.type.Pk[d.tf]);d=l.Xb[f+q];ka(d)?a.Ad(d):a.Ja(d)};a.prototype.Qu=function(a){a.type=Jc.Kh;a.data=this.value};a.prototype.Mu=function(a){a.type=Jc.Jh;a.data=this.value};a.prototype.Zu=function(a){a.type=
Jc.String;a.data=this.value};a.prototype.bv=function(a){this.first.get(a);a.lc()&&(a.data=-a.data)};a.prototype.Bu=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data+=b.data,b.ai()&&a.li());--k};a.prototype.$u=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data-=b.data,b.ai()&&a.li());--k};a.prototype.Uu=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data*=b.data,b.ai()&&a.li());--k};a.prototype.Ju=function(a){this.first.get(a);
var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data/=b.data,a.li());--k};a.prototype.Tu=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data%=b.data,b.ai()&&a.li());--k};a.prototype.Yu=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data=Math.pow(a.data,b.data),b.ai()&&a.li());--k};a.prototype.Cu=function(a){this.first.get(a);var b=c();this.second.get(b);b.ci()||a.ci()?this.Eu(a,b):this.Du(a,b);--k};a.prototype.Eu=function(a,b){a.ci()&&
b.ci()?this.Gu(a,b):this.Fu(a,b)};a.prototype.Gu=function(a,b){a.data+=b.data};a.prototype.Fu=function(a,b){a.ci()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.Ad(a.data.toString()+b.data)};a.prototype.Du=function(a,b){a.hb(a.data&&b.data?1:0)};a.prototype.Xu=function(a){this.first.get(a);var b=c();this.second.get(b);a.lc()&&b.lc()&&(a.data||b.data?a.hb(1):a.hb(0));--k};a.prototype.Iu=function(a){this.first.get(a);a.data?this.second.get(a):this.jm.get(a)};a.prototype.Ku=function(a){this.first.get(a);
var b=c();this.second.get(b);a.hb(a.data===b.data?1:0);--k};a.prototype.Vu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hb(a.data!==b.data?1:0);--k};a.prototype.Ru=function(a){this.first.get(a);var b=c();this.second.get(b);a.hb(a.data<b.data?1:0);--k};a.prototype.Su=function(a){this.first.get(a);var b=c();this.second.get(b);a.hb(a.data<=b.data?1:0);--k};a.prototype.Nu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hb(a.data>b.data?1:0);--k};a.prototype.Ou=function(a){this.first.get(a);
var b=c();this.second.get(b);a.hb(a.data>=b.data?1:0);--k};a.prototype.Lu=function(a){var b=this.Ug.al();ja(b)?a.Ja(b):a.Ad(b)};Gc=a;d.prototype.ai=function(){return this.type===Jc.Jh};d.prototype.lc=function(){return this.type===Jc.Kh||this.type===Jc.Jh};d.prototype.ci=function(){return this.type===Jc.String};d.prototype.li=function(){this.ai()||(this.ci()&&(this.data=parseFloat(this.data)),this.type=Jc.Jh)};d.prototype.hb=function(a){this.type=Jc.Kh;this.data=Math.floor(a)};d.prototype.Ja=function(a){this.type=
Jc.Jh;this.data=a};d.prototype.Ad=function(a){this.type=Jc.String;this.data=a};d.prototype.Ir=function(a){ja(a)?(this.type=Jc.Jh,this.data=a):ka(a)?(this.type=Jc.String,this.data=a.toString()):(this.type=Jc.Kh,this.data=0)};Fc=d;Jc={Kh:0,Jh:1,String:2}})();function U(a){this.j=a;this.Dd=[]}
U.prototype.wc=function(){var a={},c,b,d,f,k,e,g,h;a.waits=[];var m=a.waits,l;c=0;for(b=this.Dd.length;c<b;c++){e=this.Dd[c];l={t:e.time,st:e.Jw,s:e.Nr,ev:e.bj.Ka,sm:[],sols:{}};e.bj.Xd[e.Fd]&&(l.act=e.bj.Xd[e.Fd].Ka);d=0;for(f=e.wb.length;d<f;d++)l.sm.push(e.wb[d].Ka);for(k in e.Bd)if(e.Bd.hasOwnProperty(k)){g=this.j.ca[parseInt(k,10)];h={sa:e.Bd[k].Ar,insts:[]};d=0;for(f=e.Bd[k].bh.length;d<f;d++)h.insts.push(e.Bd[k].bh[d].uid);l.sols[g.Ka.toString()]=h}m.push(l)}return a};
U.prototype.Qc=function(a){a=a.waits;var c,b,d,f,k,e,g,h,m,l,n;F(this.Dd);c=0;for(b=a.length;c<b;c++)if(e=a[c],h=this.j.vp[e.ev.toString()]){m=-1;d=0;for(f=h.Xd.length;d<f;d++)if(h.Xd[d].Ka===e.act){m=d;break}if(-1!==m){g={Bd:{},wb:[],Hp:!1};g.time=e.t;g.Jw=e.st||"";g.Nr=!!e.s;g.bj=h;g.Fd=m;d=0;for(f=e.sm.length;d<f;d++)(h=this.j.$k(e.sm[d]))&&g.wb.push(h);for(k in e.sols)if(e.sols.hasOwnProperty(k)&&(h=this.j.$k(parseInt(k,10)))){m=e.sols[k];l={Ar:m.sa,bh:[]};d=0;for(f=m.insts.length;d<f;d++)(n=
this.j.Yg(m.insts[d]))&&l.bh.push(n);g.Bd[h.index.toString()]=l}this.Dd.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=U.prototype;a.prototype.jp=function(){return!0};a.prototype.et=function(){return!0};a.prototype.Es=function(a){var b=this.j.mn(),c=b.Z.Every_lastTime||0,d=this.j.Nd.bb;"undefined"===typeof b.Z.Every_seconds&&(b.Z.Every_seconds=a);var f=b.Z.Every_seconds;if(d>=c+f)return b.Z.Every_lastTime=c+f,d>=b.Z.Every_lastTime+.04&&(b.Z.Every_lastTime=d),b.Z.Every_seconds=a,!0;d<c-.1&&(b.Z.Every_lastTime=d);return!1};a.prototype.Ks=function(a){return(a=
this.j.mj[a.toLowerCase()])&&a.Zh};a.prototype.Ds=function(){var a=this.j.Gc();return a.Xm?!1:!a.jh};a.prototype.kp=function(){return!0};a.prototype.Ss=function(){return!0};a.prototype.zm=function(){return!0};a.prototype.gt=function(){return!0};a.prototype.ym=function(){return!0};a.prototype.ws=function(a,b,c){return cb(G(a),G(c))<=G(b)};a.prototype.Js=function(a,b){return eb(G(a),G(b))};a.prototype.Is=function(a,b,c){a=Va(a);b=Va(b);c=Va(c);return eb(c,b)?eb(a,b)&&!eb(a,c):!(!eb(a,b)&&eb(a,c))};
d.V=new a;c.prototype.Gs=function(a){this.j.wj||this.j.Ti||(this.j.Ti=a)};c.prototype.Cs=function(a,b,c,d){if(b&&a&&(b=this.j.Sm(a,b,c,d))){this.j.Md++;var f;this.j.trigger(Object.getPrototypeOf(a.lb).V.Ki,b);if(b.Pc)for(c=0,d=b.siblings.length;c<d;c++)f=b.siblings[c],this.j.trigger(Object.getPrototypeOf(f.type.lb).V.Ki,f);this.j.Md--;a=a.Ra();a.eb=!1;F(a.D);a.D[0]=b;if(b.Pc)for(c=0,d=b.siblings.length;c<d;c++)f=b.siblings[c],a=f.type.Ra(),a.eb=!1,F(a.D),a.D[0]=f}};c.prototype.vs=function(a,b){0===
a.ss?ja(b)?a.Zl(a.al()+b):a.Zl(a.al()+parseFloat(b)):1===a.ss&&a.Zl(a.al()+b.toString())};var f=[],k=[];d.sb=new c;b.prototype["int"]=function(a,b){ka(b)?(a.hb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.hb(b)};b.prototype["float"]=function(a,b){ka(b)?(a.Ja(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Ja(b)};b.prototype.random=function(a,b,c){void 0===c?a.Ja(Math.random()*b):a.Ja(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.Ja(Math.sqrt(b))};b.prototype.abs=function(a,b){a.Ja(Math.abs(b))};
b.prototype.round=function(a,b){a.hb(Math.round(b))};b.prototype.floor=function(a,b){a.hb(Math.floor(b))};b.prototype.ceil=function(a,b){a.hb(Math.ceil(b))};b.prototype.sin=function(a,b){a.Ja(Math.sin(G(b)))};b.prototype.cos=function(a,b){a.Ja(Math.cos(G(b)))};b.prototype.tan=function(a,b){a.Ja(Math.tan(G(b)))};b.prototype.asin=function(a,b){a.Ja(Ma(Math.asin(b)))};b.prototype.acos=function(a,b){a.Ja(Ma(Math.acos(b)))};b.prototype.atan=function(a,b){a.Ja(Ma(Math.atan(b)))};b.prototype.exp=function(a,
b){a.Ja(Math.exp(b))};b.prototype.log10=function(a,b){a.Ja(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,f;c=2;for(d=arguments.length;c<d;c++)f=arguments[c],"number"===typeof f&&b<f&&(b=f);a.Ja(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,f;c=2;for(d=arguments.length;c<d;c++)f=arguments[c],"number"===typeof f&&b>f&&(b=f);a.Ja(b)};b.prototype.ya=function(a){a.Ja(this.j.ya)};b.prototype.Fh=function(a){a.Ja(this.j.Fh)};
b.prototype.time=function(a){a.Ja(this.j.Nd.bb)};b.prototype.Sd=function(a){a.hb(this.j.Sd)};b.prototype.Hl=function(a){a.hb(this.j.Hl)};b.prototype.gn=function(a){a.hb(this.j.gn)};b.prototype.P=function(a,b,c,d,f){a.Ja(Ma(bb(b,c,d,f)))};b.prototype.aw=function(a){a.hb(this.j.ab.width)};b.prototype.left=function(a,b,c){a.Ad(ka(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Ad(ka(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){ka(b)&&ka(c)&&ka(d)?a.Ad(b.replace(new RegExp(Db(c),
"gi"),d)):a.Ad(ka(b)?b:"")};b.prototype.trim=function(a,b){a.Ad(ka(b)?b.trim():"")};b.prototype.Mt=function(a){var b=ta(Math.random()*(arguments.length-1));a.Ir(arguments[b+1])};b.prototype.Qm=function(a){a.Ja(this.j.Qm/1E3)};b.prototype.yl=function(a){a.Ja(this.j.yl)};d.Ob=new b;d.Aw=function(){var a,b,c,d,l,n,q=this.j.Gc();a=0;for(c=this.Dd.length;a<c;a++){d=this.Dd[a];if(-1===d.time){if(!d.Nr)continue}else if(d.time>this.j.Nd.bb)continue;q.Id=d.bj;q.Fd=d.Fd;q.hc=0;for(b in d.Bd)d.Bd.hasOwnProperty(b)&&
(l=this.j.ca[parseInt(b,10)].Ra(),n=d.Bd[b],l.eb=n.Ar,Ea(l.D,n.bh),l=n,F(l.bh),k.push(l));d.bj.yw();this.j.Om(d.wb);d.Hp=!0}b=a=0;for(c=this.Dd.length;a<c;a++)d=this.Dd[a],this.Dd[b]=d,d.Hp?(nb(d.Bd),F(d.wb),f.push(d)):b++;Da(this.Dd,b)}})();
(function(){Ob=function(a,b){var d=a[1],f=a[3],k=a[4],e=a[5],g=a[6],h=a[7],m=a[8];b.V||(b.V={});b.sb||(b.sb={});b.Ob||(b.Ob={});var l=b.V,n=b.sb,q=b.Ob;f&&(l.nx=function(a,b){return Kc(this.x,a,b)},l.ox=function(a,b){return Kc(this.y,a,b)},l.xx=function(){var a=this.Q;this.Na();var b=this.ib;return!(b.right<a.mb||b.bottom<a.nb||b.left>a.yb||b.top>a.xb)},l.yx=function(){this.Na();var a=this.ib,b=this.j.ab;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.Kx=function(a,b,c){var d=this.Ra(),
f=d.Kd();if(!f.length)return!1;var e=f[0],g=e,h=hb(e.x,e.y,b,c),k,l,m;k=1;for(l=f.length;k<l;k++)if(e=f[k],m=hb(e.x,e.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=e;d.Oj(g);return!0},n.cy=function(a){this.x!==a&&(this.x=a,this.ba())},n.ey=function(a){this.y!==a&&(this.y=a,this.ba())},n.Yx=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ba()},n.Zx=function(a,b){var c=a.tv(this);if(c){var d;c.be?(d=c.be(b,!0),c=c.be(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ba()}},
n.Dx=function(a){0!==a&&(this.x+=Math.cos(this.P)*a,this.y+=Math.sin(this.P)*a,this.ba())},n.Cx=function(a,b){0!==b&&(this.x+=Math.cos(G(a))*b,this.y+=Math.sin(G(a))*b,this.ba())},q.xt=function(a){a.Ja(this.x)},q.yt=function(a){a.Ja(this.y)},q.ya=function(a){a.Ja(this.j.Xg(this))});k&&(l.mx=function(a,b){return Kc(this.width,a,b)},l.ix=function(a,b){return Kc(this.height,a,b)},n.mt=function(a){this.width!==a&&(this.width=a,this.ba())},n.Vx=function(a){this.height!==a&&(this.height=a,this.ba())},n.$x=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ba()},q.iy=function(a){a.Ja(this.width)},q.rx=function(a){a.Ja(this.height)},q.cx=function(a){this.Na();a.Ja(this.ib.left)},q.hx=function(a){this.Na();a.Ja(this.ib.top)},q.gx=function(a){this.Na();a.Ja(this.ib.right)},q.bx=function(a){this.Na();a.Ja(this.ib.bottom)});e&&(l.ws=function(a,b){return cb(this.P,G(b))<=G(a)},l.Js=function(a){return eb(this.P,G(a))},l.Is=function(a,b){var c=Va(a),d=Va(b),f=Sa(this.P);return eb(d,
c)?eb(f,c)&&!eb(f,d):!(!eb(f,c)&&eb(f,d))},n.lp=function(a){a=G(Na(a));isNaN(a)||this.P===a||(this.P=a,this.ba())},n.Ox=function(a){0===a||isNaN(a)||(this.P+=G(a),this.P=Sa(this.P),this.ba())},n.Px=function(a){0===a||isNaN(a)||(this.P-=G(a),this.P=Sa(this.P),this.ba())},n.Qx=function(a,b){var c=db(this.P,G(b),G(a));isNaN(c)||this.P===c||(this.P=c,this.ba())},n.Rx=function(a,b,c){a=db(this.P,Math.atan2(c-this.y,b-this.x),G(a));isNaN(a)||this.P===a||(this.P=a,this.ba())},n.ay=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.P===c||(this.P=c,this.ba())},q.ax=function(a){a.Ja(Ta(this.P))});d||(l.jx=function(a,b,c){return Kc(this.Xb[a],b,c)},l.ux=function(a){return this.Xb[a]},l.Lx=function(a,b){var c=this.Ra(),d=c.Kd();if(!d.length)return!1;var f=d[0],e=f,g=f.Xb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(f=d[h],l=f.Xb[b],0===a&&l<g||1===a&&l>g)g=l,e=f;c.Oj(e);return!0},l.Jx=function(a){var b,c,d,f,e;if(this.j.mn().Dn){e=this.Ra();if(e.eb)for(e.eb=!1,F(e.D),F(e.Ua),d=this.D,b=0,c=d.length;b<
c;b++)f=d[b],f.uid===a?e.Ua.push(f):e.D.push(f);else{d=b=0;for(c=e.D.length;b<c;b++)f=e.D[b],e.D[d]=f,f.uid===a?e.Ua.push(f):d++;Da(e.D,d)}this.Re();return!!e.D.length}f=this.j.Yg(a);if(!f)return!1;e=this.Ra();if(!e.eb&&-1===e.D.indexOf(f))return!1;if(this.qa)for(a=f.type.tb,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.Oj(f),this.Re(),!0}else if(f.type===this)return e.Oj(f),this.Re(),!0;return!1},l.Ki=function(){return!0},l.Us=function(){return!0},n.Wx=function(a,b){var c=this.Xb;ja(c[a])?c[a]=
ja(b)?b:parseFloat(b):ka(c[a])&&(c[a]=ka(b)?b:b.toString())},n.$w=function(a,b){var c=this.Xb;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):ka(c[a])&&(c[a]=ka(b)?c[a]+b:c[a]+b.toString())},n.fy=function(a,b){var c=this.Xb;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},n.Sx=function(a,b){this.Xb[a]=b?1:0},n.gy=function(a){this.Xb[a]=1-this.Xb[a]},n.Oc=function(){this.j.Rf(this)},n.Ns||(n.Ns=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.ul(this,b,!0);this.Pe&&this.Pe();if(this.ta)for(a=
0,b=this.ta.length;a<b;++a)c=this.ta[a],c.Pe&&c.Pe()}),q.qx=function(a){var b=a.sh.D.length,c,d,f;c=0;for(d=this.j.ve.length;c<d;c++)f=this.j.ve[c],a.sh.qa?0<=f.type.tb.indexOf(a.sh)&&b++:f.type===a.sh&&b++;a.hb(b)},q.Nx=function(a){a.hb(a.sh.Ra().Kd().length)},q.hy=function(a){a.hb(this.uid)},q.tx=function(a){a.hb(this.kj())},q.xs||(q.xs=function(a){a.Ad(JSON.stringify(this.j.Go(this,!0)))}));g&&(l.zx=function(){return this.visible},n.by=function(a){!a!==!this.visible&&(this.visible=!!a,this.j.Ia=
!0)},l.kx=function(a,b){return Kc(Kb(100*this.opacity),a,b)},n.Xx=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.Ia=!0)},q.Opacity=function(a){a.Ja(Kb(100*this.opacity))});h&&(l.wx=function(a){return a?this.Q===a:!1},l.Mx=function(a){var b=this.Ra(),c=b.Kd();if(!c.length)return!1;var d=c[0],f=d,e,g;e=1;for(g=c.length;e<g;e++)if(d=c[e],0===a){if(d.Q.index>f.Q.index||d.Q.index===f.Q.index&&d.We()>f.We())f=d}else if(d.Q.index<f.Q.index||d.Q.index===f.Q.index&&d.We()<
f.We())f=d;b.Oj(f);return!0},n.Gx=function(){var a=this.Q,b=a.D;b.length&&b[b.length-1]===this||(a.qi(this,!1),a.Pi(this,!1),this.j.Ia=!0)},n.Ex=function(){var a=this.Q,b=a.D;b.length&&b[0]===this||(a.qi(this,!1),a.qw(this),this.j.Ia=!0)},n.Fx=function(a){a&&a!=this.Q&&(this.Q.qi(this,!0),this.Q=a,a.Pi(this,!0),this.j.Ia=!0)},n.ky=function(a,b){var c=0===a;if(b){var d=b.lv(this);d&&d.uid!==this.uid&&(this.Q.index!==d.Q.index&&(this.Q.qi(this,!0),this.Q=d.Q,d.Q.Pi(this,!0)),this.Q.gw(this,d,c),this.j.Ia=
!0)}},q.Bx=function(a){a.hb(this.Q.Xq)},q.Ax=function(a){a.Ad(this.Q.name)},q.jy=function(a){a.hb(this.We())});m&&(n.Tx=function(a,b){if(this.j.aa){var c=this.type.pn(b);if(!(0>c)){var d=1===a;this.Vf[c]!==d&&(this.Vf[c]=d,this.He(),this.j.Ia=!0)}}},n.Ux=function(a,b,c){if(this.j.aa){var d=this.type.pn(a);0>d||(a=this.type.ua[d],d=this.zb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.aa.wv(a.Tb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Wc&&(this.j.Ia=!0))))}})};gc=function(){this.Jm=this.Gm=!0;this.type.sk=
!0;this.j.Ia=!0;var a,b,d=this.Hm;a=0;for(b=d.length;a<b;++a)d[a](this);this.Q.Ud&&this.Na()};hc=function(a){a&&this.Hm.push(a)};jc=function(){if(this.Gm){var a=this.ib,b=this.cb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.$c*this.width,-this.bd*this.height);this.P?(a.offset(-this.x,-this.y),b.Kr(a,this.P),b.offset(this.x,this.y),b.wp(a)):b.Yj(a);a.normalize();this.Gm=!1;this.Uw()}};var a=new za(0,0,0,0);mc=function(){if(this.Q.Ud){var c=this.Q.vc,b=this.ib;a.set(c.Uc(b.left),
c.Vc(b.top),c.Uc(b.right),c.Vc(b.bottom));this.ed.aj(a)||(this.ed.right<this.ed.left?c.update(this,null,a):c.update(this,this.ed,a),this.ed.Vi(a),this.Q.Ee=!0)}};uc=function(){if(this.Jm&&this.of){this.Na();var c=this.type.Dk,b=this.ib;a.set(c.Uc(b.left),c.Vc(b.top),c.Uc(b.right),c.Vc(b.bottom));this.$f.aj(a)||(this.$f.right<this.$f.left?c.update(this,null,a):c.update(this,this.$f,a),this.$f.Vi(a),this.Jm=!1)}};ic=function(a,b){return this.ib.nd(a,b)&&this.cb.nd(a,b)?this.Ga&&!this.Ga.fh()?(this.Ga.Pg(this.width,
this.height,this.P),this.Ga.nd(a-this.x,b-this.y)):!0:!1};cc=function(){this.type.nm();return this.$g};vc=function(){this.Q.$o();return this.Ie};wc=function(){F(this.Ta);var a,b,d,f=!0;a=0;for(b=this.Vf.length;a<b;a++)this.Vf[a]&&(d=this.type.ua[a],this.Ta.push(d),d.Ce||(f=!1));this.qs=!!this.Ta.length;this.If=f};dc=function(){return"Inst"+this.rr};Rb=function(a){if(a&&a.Pc&&a.type!=this){var b,d,f;b=0;for(d=a.siblings.length;b<d;b++)if(f=a.siblings[b],f.type==this)return f}a=this.Ra().Kd();return a.length?
a[0]:null};Sb=function(a){var b=this.Ra().Kd();return b.length?b[a.kj()%b.length]:null};Qb=function(){if(this.wi&&!this.qa){var a,b;a=0;for(b=this.D.length;a<b;a++)this.D[a].$g=a;var d=a,f=this.j.ve;a=0;for(b=f.length;a<b;++a)f[a].type===this&&(f[a].$g=d++);this.wi=!1}};ac=function(a){if(a<this.D.length)return this.D[a];a-=this.D.length;var b=this.j.ve,d,f;d=0;for(f=b.length;d<f;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};Tb=function(){return this.Ag[this.qf]};Ub=function(){this.qf++;
this.qf===this.Ag.length?this.Ag.push(new Pb(this)):this.Ag[this.qf].eb=!0};Vb=function(){this.qf++;this.qf===this.Ag.length&&this.Ag.push(new Pb(this));var a=this.Ag[this.qf],b=this.Ag[this.qf-1];b.eb?a.eb=!0:(a.eb=!1,Ea(a.D,b.D),Ea(a.Ua,b.Ua))};Wb=function(){this.qf--};Xb=function(a){var b,d,f,k,e,g=0;if(!this.qa)for(b=0,d=this.tb.length;b<d;b++)for(e=this.tb[b],f=0,k=e.Mb.length;f<k;f++){if(a===e.Mb[f].name)return this.Z.lastBehIndex=g,e.Mb[f];g++}b=0;for(d=this.Mb.length;b<d;b++){if(a===this.Mb[b].name)return this.Z.lastBehIndex=
g,this.Mb[b];g++}return null};Yb=function(a){return this.Wk(a)?this.Z.lastBehIndex:-1};Zb=function(a){var b,d;b=0;for(d=this.ua.length;b<d;b++)if(this.ua[b].name===a)return b;return-1};$b=function(){if(this.Pc&&!this.qa){var a,b,d,f,k,e,g;this.nm();e=this.Ra();var h=e.eb,m=(a=this.j.Gc())&&a.Id&&a.Id.Ae;a=0;for(b=this.md.length;a<b;a++)if(k=this.md[a],k!==this&&(k.nm(),g=k.Ra(),g.eb=h,!h)){F(g.D);d=0;for(f=e.D.length;d<f;++d)g.D[d]=k.qn(e.D[d].$g);if(m)for(F(g.Ua),d=0,f=e.Ua.length;d<f;++d)g.Ua[d]=
k.qn(e.Ua[d].$g)}}};bc=function(){return"Type"+this.Ka};Kc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var bd={};function ed(a){this.j=a}
(function(){function a(){this.name="";this.Vj=0;this.uc=[]}function c(){g++;g===e.length&&e.push(new a);return e[g]}function b(){}function d(){}function f(){}var k=ed.prototype;k.fb=function(a){this.lb=a;this.j=a.j};k.fb.prototype.Ca=function(){};k.Xa=function(a){this.type=a;this.j=a.j};var e=[],g=-1;k.Xa.prototype.Ca=function(){var a=this;window.c2_callFunction=function(b,d){var f,e,k,r=c();r.name=b.toLowerCase();r.Vj=0;if(d)for(r.uc.length=d.length,f=0,e=d.length;f<e;++f)k=d[f],r.uc[f]="number"===
typeof k||"string"===typeof k?k:"boolean"===typeof k?k?1:0:0;else F(r.uc);a.j.trigger(ed.prototype.V.pk,a,r.name);g--;return r.Vj}};b.prototype.pk=function(a){var b=0>g?null:e[g];return b?Lb(a,b.name):!1};k.V=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.Vj=0;Ea(d.uc,b);this.j.trigger(ed.prototype.V.pk,this,d.name);g--};k.sb=new d;f.prototype.ys=function(a,b){var d=c();d.name=b.toLowerCase();d.Vj=0;F(d.uc);var f,e;f=2;for(e=arguments.length;f<e;f++)d.uc.push(arguments[f]);
this.j.trigger(ed.prototype.V.pk,this,d.name);g--;a.Ir(d.Vj)};k.Ob=new f})();function fd(a){this.j=a}
(function(){function a(){}var c=fd.prototype;c.fb=function(a){this.lb=a;this.j=a.j};c.fb.prototype.Ca=function(){};c.Xa=function(a){this.type=a;this.j=a.j;this.fi=Array(256);this.ek=Array(256);this.Mf=0};var b=c.Xa.prototype;b.Ca=function(){var a=this;this.j.Ic||(jQuery(document).keydown(function(b){a.ko(b)}),jQuery(document).keyup(function(b){a.lo(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.ko=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.fi[a.which])this.ek[a.which]&&!b&&a.preventDefault();else{this.fi[a.which]=!0;this.Mf=a.which;this.j.fl=!0;this.j.trigger(fd.prototype.V.Qs,this);var c=this.j.trigger(fd.prototype.V.gp,this),g=this.j.trigger(fd.prototype.V.ct,this);this.j.fl=!1;if(c||g)this.ek[a.which]=!0,b||a.preventDefault()}};b.lo=function(a){this.fi[a.which]=!1;this.Mf=a.which;this.j.fl=!0;this.j.trigger(fd.prototype.V.fp,this);var b=this.j.trigger(fd.prototype.V.ip,this),c=this.j.trigger(fd.prototype.V.hp,this);this.j.fl=
!1;if(b||c||this.ek[a.which])this.ek[a.which]=!0,a.preventDefault()};b.vh=function(){var a;for(a=0;256>a;++a)if(this.fi[a]){this.fi[a]=!1;this.Mf=a;this.j.trigger(fd.prototype.V.fp,this);var b=this.j.trigger(fd.prototype.V.ip,this),c=this.j.trigger(fd.prototype.V.hp,this);if(b||c)this.ek[a]=!0}};b.wc=function(){return{triggerKey:this.Mf}};b.Qc=function(a){this.Mf=a.triggerKey};a.prototype.Ls=function(a){return this.fi[a]};a.prototype.gp=function(a){return a===this.Mf};a.prototype.Qs=function(){return!0};
a.prototype.fp=function(){return!0};a.prototype.ip=function(a){return a===this.Mf};a.prototype.ct=function(a){return a===this.Mf};a.prototype.hp=function(a){return a===this.Mf};c.V=new a;c.sb=new function(){};c.Ob=new function(){}})();function dd(a){this.j=a}
(function(){function a(){if(0===this.Vm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.vi?b.drawImage(this.Va,this.oi,this.pi,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Va,0,0,this.width,this.height);this.Vm=a.toDataURL("image/png")}return this.Vm}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;q.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function f(a,b,c,f){b=b.uid;c=c.uid;var e=d(b,c);if(a.hasOwnProperty(e))a[e][2]=
f;else{var g=q.length?q.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=f;a[e]=g}}function k(a,c,f){c=d(c.uid,f.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function e(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return p=a[b][2],!0;p=-2;return!1}function g(){}var h=dd.prototype;h.fb=function(a){this.lb=a;this.j=a.j};var m=h.fb.prototype;m.Ca=function(){if(!this.qa){var b,c,d,f,e,g,h,k,l;this.qe=[];this.nj=!1;b=0;for(c=this.Xc.length;b<c;b++){e=this.Xc[b];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.Do=e[3];
h.Sl=e[4];h.hr=e[5];h.Ka=e[6];h.frames=[];d=0;for(f=e[7].length;d<f;d++)g=e[7][d],k={},k.Mo=g[0],k.No=g[1],k.oi=g[2],k.pi=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.$c=g[7],k.bd=g[8],k.xn=g[9],k.Ll=g[10],k.ir=g[11],k.vi=0!==k.width,k.Vm="",k.qy=a,l={left:0,top:0,right:1,bottom:1},k.Jo=l,k.ob=null,(l=this.j.dv(g[0]))?k.Va=l:(k.Va=new Image,k.Va.Pt=g[0],k.Va.Dp=g[1],k.Va.It=null,this.j.ts(k.Va,g[0])),h.frames.push(k),this.qe.push(k);this.Xc[b]=h}}};m.ls=function(){var a,b,c;a=0;for(b=this.D.length;a<
b;a++)c=this.D[a],c.Hk=c.Zd.ob};m.Jl=function(){if(!this.qa){var a,b,c;a=0;for(b=this.qe.length;a<b;++a)c=this.qe[a],c.Va.It=null,c.ob=null;this.nj=!1;this.ls()}};m.oo=function(){if(!this.qa&&this.D.length){var a,b,c;a=0;for(b=this.qe.length;a<b;++a)c=this.qe[a],c.ob=this.j.aa.xl(c.Va,!1,this.j.Ha,c.ir);this.ls()}};m.$n=function(){if(!this.qa&&!this.nj&&this.j.aa){var a,b,c;a=0;for(b=this.qe.length;a<b;++a)c=this.qe[a],c.ob=this.j.aa.xl(c.Va,!1,this.j.Ha,c.ir);this.nj=!0}};m.Xo=function(){if(!this.qa&&
!this.D.length&&this.nj){var a,b,c;a=0;for(b=this.qe.length;a<b;++a)c=this.qe[a],this.j.aa.deleteTexture(c.ob),c.ob=null;this.nj=!1}};var l=[];m.to=function(a){var b,c,d;F(l);b=0;for(c=this.qe.length;b<c;++b)d=this.qe[b].Va,-1===l.indexOf(d)&&(a.drawImage(d,0,0),l.push(d))};h.Xa=function(a){this.type=a;this.j=a.j;a=this.type.Xc[0].frames[0].Ll;this.dd?this.Ga.Zj(a):this.Ga=new Eb(a)};var n=h.Xa.prototype;n.Ca=function(){this.visible=0===this.ka[0];this.of=0!==this.ka[3];1===this.type.Xc.length&&1===
this.type.Xc[0].frames.length||0===this.type.Xc[0].speed||this.j.Qo(this);this.jb=this.Rp(this.ka[1])||this.type.Xc[0];this.fa=this.ka[2];0>this.fa&&(this.fa=0);this.fa>=this.jb.frames.length&&(this.fa=this.jb.frames.length-1);var a=this.jb.frames[this.fa];this.Ga.Zj(a.Ll);this.$c=a.$c;this.bd=a.bd;this.Zi=this.jb.speed;this.dd?this.Qe.reset():this.Qe=new xb;this.uf=this.Qe.bb;this.Lg=!0;this.lf=0;this.Kg=!0;this.Nm=this.qp="";this.Kt=0;this.Mm=-1;this.type.$n();var b,c,d,f,e,g,h,a=0;for(b=this.type.Xc.length;a<
b;a++)for(f=this.type.Xc[a],c=0,d=f.frames.length;c<d;c++)e=f.frames[c],0===e.width&&(e.width=e.Va.width,e.height=e.Va.height),e.vi&&(h=e.Va,g=e.Jo,g.left=e.oi/h.width,g.top=e.pi/h.height,g.right=(e.oi+e.width)/h.width,g.bottom=(e.pi+e.height)/h.height,0===e.oi&&0===e.pi&&e.width===h.width&&e.height===h.height&&(e.vi=!1));this.Zd=this.jb.frames[this.fa];this.Hk=this.Zd.ob};n.wc=function(){var a={a:this.jb.Ka,f:this.fa,cas:this.Zi,fs:this.uf,ar:this.lf,at:this.Qe.bb};this.Lg||(a.ap=this.Lg);this.Kg||
(a.af=this.Kg);return a};n.Qc=function(a){var b=this.iv(a.a);b&&(this.jb=b);this.fa=a.f;0>this.fa&&(this.fa=0);this.fa>=this.jb.frames.length&&(this.fa=this.jb.frames.length-1);this.Zi=a.cas;this.uf=a.fs;this.lf=a.ar;this.Qe.reset();this.Qe.bb=a.at;this.Lg=a.hasOwnProperty("ap")?a.ap:!0;this.Kg=a.hasOwnProperty("af")?a.af:!0;this.Zd=this.jb.frames[this.fa];this.Hk=this.Zd.ob;this.Ga.Zj(this.Zd.Ll);this.$c=this.Zd.$c;this.bd=this.Zd.bd};n.Fm=function(a){this.fa=a?0:this.jb.frames.length-1;this.Lg=
!1;this.qp=this.jb.name;this.j.trigger(dd.prototype.V.Ps,this);this.j.trigger(dd.prototype.V.Os,this);this.lf=0};n.i=function(){return this.Qe.bb};n.gd=function(){this.Qe.add(this.j.Xg(this));this.Nm.length&&this.Yt();0<=this.Mm&&this.Zt();var a=this.Qe.bb,b=this.jb,c=b.frames[this.fa],d=c.duration/this.Zi;this.Lg&&a>=this.uf+d&&(this.Kg?this.fa++:this.fa--,this.uf+=d,this.fa>=b.frames.length&&(b.hr?(this.Kg=!1,this.fa=b.frames.length-2):b.loop?this.fa=b.Sl:(this.lf++,this.lf>=b.Do?this.Fm(!1):this.fa=
b.Sl)),0>this.fa&&(b.hr?(this.fa=1,this.Kg=!0,b.loop||(this.lf++,this.lf>=b.Do&&this.Fm(!0))):b.loop?this.fa=b.Sl:(this.lf++,this.lf>=b.Do?this.Fm(!0):this.fa=b.Sl)),0>this.fa?this.fa=0:this.fa>=b.frames.length&&(this.fa=b.frames.length-1),a>this.uf+b.frames[this.fa].duration/this.Zi&&(this.uf=a),a=b.frames[this.fa],this.Mh(c,a),this.j.Ia=!0)};n.Rp=function(a){var b,c,d;b=0;for(c=this.type.Xc.length;b<c;b++)if(d=this.type.Xc[b],Lb(d.name,a))return d;return null};n.iv=function(a){var b,c,d;b=0;for(c=
this.type.Xc.length;b<c;b++)if(d=this.type.Xc[b],d.Ka===a)return d;return null};n.Yt=function(){var a=this.jb.frames[this.fa],b=this.Rp(this.Nm);this.Nm="";!b||Lb(b.name,this.jb.name)&&this.Lg||(this.jb=b,this.Zi=b.speed,0>this.fa&&(this.fa=0),this.fa>=this.jb.frames.length&&(this.fa=this.jb.frames.length-1),1===this.Kt&&(this.fa=0),this.Lg=!0,this.uf=this.Qe.bb,this.Kg=!0,this.Mh(a,this.jb.frames[this.fa]),this.j.Ia=!0)};n.Zt=function(){var a=this.jb.frames[this.fa],b=this.fa;this.fa=ta(this.Mm);
0>this.fa&&(this.fa=0);this.fa>=this.jb.frames.length&&(this.fa=this.jb.frames.length-1);b!==this.fa&&(this.Mh(a,this.jb.frames[this.fa]),this.uf=this.Qe.bb,this.j.Ia=!0);this.Mm=-1};n.Mh=function(a,b){var c=a.width,d=a.height,f=b.width,e=b.height;c!=f&&(this.width*=f/c);d!=e&&(this.height*=e/d);this.$c=b.$c;this.bd=b.bd;this.Ga.Zj(b.Ll);this.ba();this.Zd=b;this.Hk=b.ob;c=0;for(d=this.ta.length;c<d;c++)f=this.ta[c],f.kw&&f.kw(a,b);this.j.trigger(dd.prototype.V.Mh,this)};n.Ue=function(a){a.globalAlpha=
this.opacity;var b=this.Zd,c=b.vi,d=b.Va,f=this.x,e=this.y,g=this.width,h=this.height;if(0===this.P&&0<=g&&0<=h)f-=this.$c*g,e-=this.bd*h,this.j.Be&&(f=Math.round(f),e=Math.round(e)),c?a.drawImage(d,b.oi,b.pi,b.width,b.height,f,e,g,h):a.drawImage(d,f,e,g,h);else{this.j.Be&&(f=Math.round(f),e=Math.round(e));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(f,e);1===k&&1===l||a.scale(k,l);a.rotate(this.P*k*l);f=0-this.$c*oa(g);e=0-this.bd*oa(h);c?a.drawImage(d,b.oi,b.pi,b.width,b.height,f,e,oa(g),oa(h)):
a.drawImage(d,f,e,oa(g),oa(h));a.restore()}};n.Rg=function(a){this.od(a)};n.od=function(a){a.zd(this.Hk);a.Ah(this.opacity);var b=this.Zd,c=this.cb;if(this.j.Be){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;b.vi?a.cf(c.cc+d,c.ec+f,c.Mc+d,c.Nc+f,c.Dc+d,c.Ec+f,c.Bc+d,c.Cc+f,b.Jo):a.Tj(c.cc+d,c.ec+f,c.Mc+d,c.Nc+f,c.Dc+d,c.Ec+f,c.Bc+d,c.Cc+f)}else b.vi?a.cf(c.cc,c.ec,c.Mc,c.Nc,c.Dc,c.Ec,c.Bc,c.Cc,b.Jo):a.Tj(c.cc,c.ec,c.Mc,c.Nc,c.Dc,c.Ec,c.Bc,c.Cc)};n.nv=function(a){var b=this.Zd,c,d;c=
0;for(d=b.xn.length;c<d;c++)if(Lb(a,b.xn[c][0]))return c;return-1};n.be=function(a,b){var c=this.Zd,d=c.xn,f;ka(a)?f=this.nv(a):f=a-1;f=ta(f);if(0>f||f>=d.length)return b?this.x:this.y;var e=(d[f][1]-c.$c)*this.width,d=d[f][2],d=(d-c.bd)*this.height,c=Math.cos(this.P);f=Math.sin(this.P);var g=e*c-d*f,d=d*c+e*f,e=g+this.x,d=d+this.y;return b?e:d};var q=[],p=-2,r=[];c.prototype.Ts=function(a){if(!a)return!1;var c=this.j,d=c.mn(),g=d.type,h=null;d.Z.collmemory?h=d.Z.collmemory:(h={},d.Z.collmemory=h);
d.Z.spriteCreatedDestroyCallback||(d.Z.spriteCreatedDestroyCallback=!0,c.Cm(function(a){var c=d.Z.collmemory;a=a.uid;var f,e;for(f in c)c.hasOwnProperty(f)&&(e=c[f],e[0]===a||e[1]===a)&&(b(c[f]),delete c[f])}));var l=g.Ra(),m=a.Ra(),l=l.Kd(),n,q,t,v,M,I,K,T=this.j.Sd,va=T-1,V=c.Gc().Id;for(q=0;q<l.length;q++){t=l[q];m.eb?(t.Na(),this.j.Sp(t.Q,a,t.ib,r),n=r):n=m.Kd();for(v=0;v<n.length;v++)M=n[v],c.Cd(t,M)||c.Lt(t,M)?(I=e(h,t,M),I=!I||p<va,f(h,t,M,T),I&&(c.Ol(V.wb),I=g.Ra(),K=a.Ra(),I.eb=!1,K.eb=!1,
g===a?(I.D.length=2,I.D[0]=t,I.D[1]=M,g.Re()):(I.D.length=1,K.D.length=1,I.D[0]=t,K.D[0]=M,g.Re(),a.Re()),V.zw(),c.wh(V.wb))):k(h,t,M);F(r)}return!1};var t=new ca,v=!1;new za(0,0,0,0);m.finish=function(a){if(v){if(a){var b=this.j.Gc().Id.Ae;a=null.Ra();var c=t.jf(),d,f;if(a.eb){a.eb=!1;F(a.D);d=0;for(f=c.length;d<f;++d)a.D[d]=c[d];if(b)for(F(a.Ua),d=0,f=null.D.length;d<f;++d)c=null.D[d],t.contains(c)||a.Ua.push(c)}else if(b)for(b=a.D.length,d=0,f=c.length;d<f;++d)a.D[b+d]=c[d],Ia(a.Ua,c[d]);else Ea(a.D,
c);null.Re()}t.clear();v=!1}};c.prototype.Os=function(a){return Lb(this.qp,a)};c.prototype.Ps=function(){return!0};c.prototype.Mh=function(){return!0};h.V=new c;g.prototype.ot=function(a,b,c){if(a&&b&&(b=this.j.Sm(a,b,this.be(c,!0),this.be(c,!1)))){"undefined"!==typeof b.P&&(b.P=this.P,b.ba());this.j.Md++;var d,f,e;this.j.trigger(Object.getPrototypeOf(a.lb).V.Ki,b);if(b.Pc)for(d=0,f=b.siblings.length;d<f;d++)e=b.siblings[d],this.j.trigger(Object.getPrototypeOf(e.type.lb).V.Ki,e);this.j.Md--;d=this.j.kv();
c=!1;if(ia(d.Z.Spawn_LastExec)||d.Z.Spawn_LastExec<this.j.Vg)c=!0,d.Z.Spawn_LastExec=this.j.Vg;if(a!=this.type&&(a=a.Ra(),a.eb=!1,c?(F(a.D),a.D[0]=b):a.D.push(b),b.Pc))for(d=0,f=b.siblings.length;d<f;d++)e=b.siblings[d],a=e.type.Ra(),a.eb=!1,c?(F(a.D),a.D[0]=e):a.D.push(e)}};h.sb=new g;h.Ob=new function(){}})();function gd(a){this.j=a}
(function(){function a(){return g.length?g.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)g.push(a[b]);F(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}var f=gd.prototype;f.Ca=function(){f.sb.mt=function(a){this.width!==a&&(this.width=a,this.Eh=!0,this.ba())}};f.fb=function(a){this.lb=a;this.j=a.j};var k=f.fb.prototype;k.Ca=function(){};k.Jl=function(){if(!this.qa){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.Ze=null,c.rh=
null,c.xd=null}};f.Xa=function(a){this.type=a;this.j=a.j;this.dd?F(this.og):this.og=[];this.Eh=!0};k=f.Xa.prototype;k.Ca=function(){this.text=this.ka[0];this.visible=0===this.ka[1];this.font=this.ka[2];this.color=this.ka[3];this.bl=this.ka[4];this.qm=this.ka[5];this.cp=0===this.ka[7];this.Vn=this.ol=this.width;this.nl=this.height;this.Xn=this.ka[8];this.Tk=this.Uh="";this.Xr=this.Yr=this.Rj=0;this.lw();this.xd=this.rh=this.Ze=null;this.Vq=!1;this.Cj=this.j.Sd;this.dd?this.wg.set(0,0,1,1):this.wg=
new za(0,0,1,1);this.j.aa&&this.j.Qo(this)};k.lw=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Rj=parseInt(a[b].substr(0,a[b].length-2));this.yo=Math.ceil(this.Rj/72*96)+4;0<b&&(this.Tk=a[b-1]);this.Uh=a[b+1];for(b+=2;b<a.length;b++)this.Uh+=" "+a[b];break}};k.wc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.bl,va:this.qm,wr:this.cp,lho:this.Xn,fn:this.Uh,fs:this.Tk,ps:this.Rj,pxh:this.yo,tw:this.Yr,th:this.Xr,lrt:this.Cj}};
k.Qc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.bl=a.ha;this.qm=a.va;this.cp=a.wr;this.Xn=a.lho;this.Uh=a.fn;this.Tk=a.fs;this.Rj=a.ps;this.yo=a.pxh;this.Yr=a.tw;this.Xr=a.th;this.Cj=a.lrt;this.Eh=!0;this.Vn=this.ol=this.width;this.nl=this.height};k.gd=function(){if(this.j.aa&&this.xd&&300<=this.j.Sd-this.Cj){var a=this.Q;this.Na();var b=this.ib;if(b.right<a.mb||b.bottom<a.nb||b.left>a.yb||b.top>a.xb)this.j.aa.deleteTexture(this.xd),this.Ze=this.rh=this.xd=null}};k.uh=function(){this.Ze=
this.rh=null;this.j.aa&&this.xd&&this.j.aa.deleteTexture(this.xd);this.xd=null};k.i=function(){this.font=this.Tk+" "+this.Rj.toString()+"pt "+this.Uh;this.Eh=!0;this.j.Ia=!0};k.Ue=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.Q.sd(),a.save(),a.scale(c,c));if(this.Eh||this.width!==this.Vn)this.type.lb.tt(this.text,this.og,a,this.width,this.cp),this.Eh=!1,this.Vn=this.width;this.Na();var c=b?0:this.cb.cc,d=b?0:this.cb.ec;
this.j.Be&&(c=c+.5|0,d=d+.5|0);0===this.P||b||(a.save(),a.translate(c,d),a.rotate(this.P),d=c=0);var f=d+this.height,e=this.yo,e=e+this.Xn,g,k;1===this.qm?d+=Math.max(this.height/2-this.og.length*e/2,0):2===this.qm&&(d+=Math.max(this.height-this.og.length*e-2,0));for(k=0;k<this.og.length&&!(g=c,1===this.bl?g=c+(this.width-this.og[k].width)/2:2===this.bl&&(g=c+(this.width-this.og[k].width)),a.fillText(this.og[k].text,g,d),d+=e,d>=f-e);k++);(0!==this.P||b)&&a.restore();this.Cj=this.j.Sd};k.od=function(a){if(!(1>
this.width||1>this.height)){var b=this.Eh||this.Vq;this.Vq=!1;var c=this.Q.sd(),d=this.Q.rd(),f=this.wg,e=c*this.width,g=c*this.height,k=Math.ceil(e),v=Math.ceil(g),u=this.j.pa/2,x=this.j.oa/2;this.rh||(this.Ze=document.createElement("canvas"),this.Ze.width=k,this.Ze.height=v,this.ol=k,this.nl=v,b=!0,this.rh=this.Ze.getContext("2d"));if(k!==this.ol||v!==this.nl)this.Ze.width=k,this.Ze.height=v,this.xd&&(a.deleteTexture(this.xd),this.xd=null),b=!0;b&&(this.rh.clearRect(0,0,k,v),this.Ue(this.rh,!0),
this.xd||(this.xd=a.Hd(k,v,this.j.Ha,this.j.eh)),a.Xw(this.Ze,this.xd,this.j.eh));this.ol=k;this.nl=v;a.zd(this.xd);a.Ah(this.opacity);a.ie();a.translate(-u,-x);a.Td();var z=this.cb,b=this.Q.ub(z.cc,z.ec,!0,!0),u=this.Q.ub(z.cc,z.ec,!1,!0),x=this.Q.ub(z.Mc,z.Nc,!0,!0),B=this.Q.ub(z.Mc,z.Nc,!1,!0),D=this.Q.ub(z.Dc,z.Ec,!0,!0),C=this.Q.ub(z.Dc,z.Ec,!1,!0),E=this.Q.ub(z.Bc,z.Cc,!0,!0),z=this.Q.ub(z.Bc,z.Cc,!1,!0);if(this.j.Be||0===this.P&&0===d)var y=(b+.5|0)-b,A=(u+.5|0)-u,b=b+y,u=u+A,x=x+y,B=B+A,D=
D+y,C=C+A,E=E+y,z=z+A;0===this.P&&0===d?(x=b+k,B=u,D=x,C=u+v,E=b,z=C,f.right=1,f.bottom=1):(f.right=e/k,f.bottom=g/v);a.cf(b,u,x,B,D,C,E,z,f);a.ie();a.scale(c,c);a.Ul(-this.Q.rd());a.translate((this.Q.mb+this.Q.yb)/-2,(this.Q.nb+this.Q.xb)/-2);a.Td();this.Cj=this.j.Sd}};var e=[];f.qt=function(a){F(e);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(e.push(b),b=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===
a.charAt(d)));e.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&e.push(b)};var g=[];f.tt=function(b,d,f,e,g){if(b&&b.length)if(2>=e)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var k=f.measureText(b).width;if(k<=e){c(d);d.push(a());d[0].text=b;d[0].width=k;return}}this.ut(b,d,f,e,g)}else c(d)};f.ut=function(c,d,f,k,q){q&&(this.qt(c),c=e);var p="",r,t,v,u=0;for(v=0;v<c.length;v++)"\n"===c[v]?(u>=d.length&&d.push(a()),p=b(p),t=d[u],t.text=p,t.width=f.measureText(p).width,u++,p=""):(r=p,p+=c[v],
t=f.measureText(p).width,t>=k&&(u>=d.length&&d.push(a()),r=b(r),t=d[u],t.text=r,t.width=f.measureText(r).width,u++,p=c[v],q||" "!==p||(p="")));p.length&&(u>=d.length&&d.push(a()),p=b(p),t=d[u],t.text=p,t.width=f.measureText(p).width,u++);for(v=u;v<d.length;v++)g.push(d[v]);d.length=u};f.V=new function(){};d.prototype.lt=function(a){ja(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Eh=!0,this.j.Ia=!0)};f.sb=new d;f.Ob=new function(){}})();
function hd(a){this.j=a}
(function(){var a=hd.prototype;a.fb=function(a){this.lb=a;this.j=a.j};var c=a.fb.prototype;c.Ca=function(){this.qa||(this.Va=new Image,this.Va.Dp=this.No,this.j.ts(this.Va,this.Mo),this.ob=this.pattern=null)};c.Jl=function(){this.qa||(this.ob=null)};c.oo=function(){if(!this.qa&&this.D.length){this.ob||(this.ob=this.j.aa.xl(this.Va,!0,this.j.Ha,this.Oo));var a,c;a=0;for(c=this.D.length;a<c;a++)this.D[a].ob=this.ob}};c.$n=function(){this.qa||this.ob||!this.j.aa||(this.ob=this.j.aa.xl(this.Va,!0,this.j.Ha,
this.Oo))};c.Xo=function(){this.qa||this.D.length||!this.ob||(this.j.aa.deleteTexture(this.ob),this.ob=null)};c.to=function(a){a.drawImage(this.Va,0,0)};a.Xa=function(a){this.type=a;this.j=a.j};c=a.Xa.prototype;c.Ca=function(){this.visible=0===this.ka[0];this.wg=new za(0,0,0,0);this.aq=!1;this.Va=this.type.Va;this.j.aa?(this.type.$n(),this.ob=this.type.ob):(this.type.pattern||(this.type.pattern=this.j.Ya.createPattern(this.type.Va,"repeat")),this.pattern=this.type.pattern)};c.Pe=function(){this.aq=
!1;this.Va=this.type.Va};c.uh=function(){this.j.aa&&this.aq&&this.ob&&(this.j.aa.deleteTexture(this.ob),this.ob=null)};c.Ue=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,f=this.y;this.j.Be&&(c=Math.round(c),f=Math.round(f));var k=-(this.$c*this.width),e=-(this.bd*this.height),g=k%this.Va.width,h=e%this.Va.height;0>g&&(g+=this.Va.width);0>h&&(h+=this.Va.height);a.translate(c,f);a.rotate(this.P);a.translate(g,h);a.fillRect(k-g,e-h,this.width,this.height);a.restore()};
c.Rg=function(a){this.od(a)};c.od=function(a){a.zd(this.ob);a.Ah(this.opacity);var c=this.wg;c.right=this.width/this.Va.width;c.bottom=this.height/this.Va.height;var f=this.cb;if(this.j.Be){var k=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.cf(f.cc+k,f.ec+e,f.Mc+k,f.Nc+e,f.Dc+k,f.Ec+e,f.Bc+k,f.Cc+e,c)}else a.cf(f.cc,f.ec,f.Mc,f.Nc,f.Dc,f.Ec,f.Bc,f.Cc,c)};a.V=new function(){};a.sb=new function(){};a.Ob=new function(){}})();function id(a){this.j=a}
(function(){function a(a){var b;if(!n[a])for(n[a]=Array(20),b=0;20>b;++b)n[a][b]=0;return n[a]}function c(a){var b;if(!q[a])for(q[a]=Array(20),b=0;20>b;++b)q[a][b]=0;return q[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){l[a.gamepad.index]=a.gamepad;h.trigger(id.prototype.V.Zs,m)}function f(a){h.trigger(id.prototype.V.$s,m);l[a.gamepad.index]=null}function k(){}var e=id.prototype,g=!1;e.fb=function(a){this.lb=a;this.j=a.j;g=!!(navigator.getGamepads||navigator.webkitGetGamepads||
navigator.mozGetGamepads||navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||window.cr_getGamepads)};e.fb.prototype.Ca=function(){};var h=null,m=null,l=Array(16),n=Array(16),q=Array(16),p="",r="",t=null,v={windows:{}};v.windows.firefox={};var u=[0,1,2,3,4,5,8,9,10,11],x=[0,1,[7,6],2,3,[14,15],[12,13]];v.windows.firefox.xbox360=function(a,b){return b?a>=x.length?-1:ja(x[a])?x[a]+16:x[a]:a>=u.length?-1:u[a]};var z=[2,0,1,3,4,6,5,7,8,9],B=[0,1,2,3,[14,15],[12,13]];v.windows.firefox.logitechdualaction=
function(a,b){return b?a>=B.length?-1:ja(B[a])?B[a]+16:B[a]:a>=z.length?-1:z[a]};e.Xa=function(a){this.type=a;h=this.j=a.j;m=this};var D=e.Xa.prototype;D.Ca=function(){this.St=this.ka[0];this.jl=0;var a=navigator.userAgent;p="windows";/mac/i.test(a)&&(p="mac");t=v[p];r="chrome";/firefox/i.test(a)&&(r="firefox");t&&(t=t[r]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",f,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",
f,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",f,!1);this.j.Qo(this);this.Mi=[]};D.gd=function(){this.Mi.length=0;var d=null,f=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.j.qq&&window.cr_getGamepads?(d=window.cr_getGamepads(),f=!0):d=navigator.gamepads||navigator.webkitGamepads||
navigator.MozGamepads||l;if(d){var e,g,k,h,m,p,r;e=0;for(g=d.length;e<g;e++){var u=d[e];if(u){var v=a(e),x=c(e);h=e;k=a(h);h=c(h);m=void 0;for(m=0;20>m;++m)h[m]=k[m];f?k=b:t?(k="",h=u.id.toLowerCase(),-1<h.indexOf("xbox 360")?k="xbox360":-1<h.indexOf("logitech dual action")&&(k="logitechdualaction"),k=t[k]||b):k=b;m=k;k=0;for(h=u.buttons.length;k<h;k++)r="undefined"!==typeof u.buttons[k].value?u.buttons[k].value:u.buttons[k],p=m(k,!1,r),0<=p&&20>p&&(v[p]=100*r,50<=v[p]&&50>x[p]&&(this.jl=p));k=0;
for(h=u.axes.length;k<h;k++)r=u.axes[k],p=m(k,!0,r),ja(p)?0<=p&&20>p&&(v[p]=100*r):(v[p[0]]=0,v[p[1]]=0,0>=r?v[p[0]]=Math.abs(100*r):v[p[1]]=Math.abs(100*r));this.Mi.push(u)}else u=e,n[u]=null,q[u]=null}for(;20>e;++e)d=e,n[d]=null,q[d]=null}};D.wc=function(){return{lastButton:this.jl}};D.Qc=function(a){this.jl=a.lastButton};k.prototype.pt=function(){return g};k.prototype.Zs=function(){return!0};k.prototype.$s=function(){return!0};k.prototype.Rs=function(b,d){b=Math.floor(b);if(0>b||b>=this.Mi.length)return!1;
var f=a(b),e=c(b);if(!f||!e)return!1;if(f=50<=f[d]&&50>e[d])this.jl=d;return f};k.prototype.Hs=function(){return 0<this.Mi.length};k.prototype.Bs=function(b,c,d,f){b=Math.floor(b);c=Math.floor(c);if(0>b||b>=this.Mi.length)return!1;if(b=a(b)){var e=b[c+16],g=0,g=0===c%2?b[c+16+1]:b[c+16-1];Math.sqrt(e*e+g*g)<=this.St&&(e=0);return Kc(e,d,f)}};e.V=new k;e.sb=new function(){};e.Ob=new function(){}})();function jd(a){this.j=a}
(function(){var a=jd.prototype;a.fb=function(a){this.behavior=a;this.j=a.j};a.fb.prototype.Ca=function(){};a.Xa=function(a,c){this.type=a;this.behavior=a.behavior;this.r=c;this.j=a.j};var c=a.Xa.prototype;c.Ca=function(){var a=this.ka[0];this.pe=this.ka[1];this.qd=this.ka[2];this.Gt=0!==this.ka[3];this.Io=0!==this.ka[4];this.da=Math.cos(this.r.P)*a;this.la=Math.sin(this.r.P)*a;this.pl=this.r.x;this.ql=this.r.y;this.Ye=this.r.P;this.lm=0;this.enabled=0!==this.ka[5]};c.wc=function(){return{acc:this.pe,
g:this.qd,dx:this.da,dy:this.la,lx:this.pl,ly:this.ql,lka:this.Ye,t:this.lm,e:this.enabled}};c.Qc=function(a){this.pe=a.acc;this.qd=a.g;this.da=a.dx;this.la=a.dy;this.pl=a.lx;this.ql=a.ly;this.Ye=a.lka;this.lm=a.t;this.enabled=a.e};c.gd=function(){if(this.enabled){var a=this.j.Xg(this.r),c,f;this.r.P!==this.Ye&&(this.Io&&(c=hb(0,0,this.da,this.la),this.da=Math.cos(this.r.P)*c,this.la=Math.sin(this.r.P)*c),this.Ye=this.r.P);0!==this.pe&&(c=hb(0,0,this.da,this.la),f=0===this.da&&0===this.la?this.r.P:
bb(0,0,this.da,this.la),c+=this.pe*a,0>c&&(c=0),this.da=Math.cos(f)*c,this.la=Math.sin(f)*c);0!==this.qd&&(this.la+=this.qd*a);this.pl=this.r.x;this.ql=this.r.y;if(0!==this.da||0!==this.la)if(this.r.x+=this.da*a,this.r.y+=this.la*a,this.lm+=hb(0,0,this.da*a,this.la*a),this.Io&&(this.r.P=bb(0,0,this.da,this.la),this.r.ba(),this.Ye=this.r.P),this.r.ba(),this.Gt&&(c=this.j.xc(this.r)))this.j.xh(this.r,c),c=hb(0,0,this.da,this.la),f=this.j.Jt(this.r,this.pl,this.ql),this.da=Math.cos(f)*c,this.la=Math.sin(f)*
c,this.r.x+=this.da*a,this.r.y+=this.la*a,this.r.ba(),this.Io&&(this.Ye=this.r.P=f,this.r.ba()),this.j.he(this.r,this.da/c,this.la/c,Math.max(2.5*c*a,30))||this.j.sr(this.r,100)}};a.V=new function(){};a.sb=new function(){};a.Ob=new function(){}})();function kd(a){this.j=a}
(function(){function a(){}var c=kd.prototype;c.fb=function(a){this.behavior=a;this.j=a.j};c.fb.prototype.Ca=function(){};c.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j};var b=c.Xa.prototype;b.Ca=function(){this.np=1===this.ka[0];this.ej=this.ka[1];this.kk=this.ka[2];this.Ok=this.ka[3];this.Vt=this.ka[4];this.ac=this.np?0:3;this.dd?this.ke.reset():this.ke=new xb;this.qh=this.r.opacity?this.r.opacity:1;this.np&&(0===this.ej?(this.ac=1,0===this.kk&&(this.ac=2)):(this.r.opacity=
0,this.j.Ia=!0))};b.wc=function(){return{fit:this.ej,wt:this.kk,fot:this.Ok,s:this.ac,st:this.ke.bb,mo:this.qh}};b.Qc=function(a){this.ej=a.fit;this.kk=a.wt;this.Ok=a.fot;this.ac=a.s;this.ke.reset();this.ke.bb=a.st;this.qh=a.mo};b.gd=function(){this.ke.add(this.j.Xg(this.r));0===this.ac&&(this.r.opacity=this.ke.bb/this.ej*this.qh,this.j.Ia=!0,this.r.opacity>=this.qh&&(this.r.opacity=this.qh,this.ac=1,this.ke.reset(),this.j.trigger(kd.prototype.V.Vs,this.r)));1===this.ac&&this.ke.bb>=this.kk&&(this.ac=
2,this.ke.reset(),this.j.trigger(kd.prototype.V.jt,this.r));2===this.ac&&0!==this.Ok&&(this.r.opacity=this.qh-this.ke.bb/this.Ok*this.qh,this.j.Ia=!0,0>this.r.opacity&&(this.r.opacity=0,this.ac=3,this.ke.reset(),this.j.trigger(kd.prototype.V.Ws,this.r),1===this.Vt&&this.j.Rf(this.r)))};b.i=function(){this.ac=0;this.ke.reset();0===this.ej?(this.ac=1,0===this.kk&&(this.ac=2)):(this.r.opacity=0,this.j.Ia=!0)};a.prototype.Ws=function(){return!0};a.prototype.Vs=function(){return!0};a.prototype.jt=function(){return!0};
c.V=new a;c.sb=new function(){};c.Ob=new function(){}})();function ld(a){this.j=a}
(function(){function a(){}function c(){}var b=ld.prototype;b.fb=function(a){this.behavior=a;this.j=a.j};b.fb.prototype.Ca=function(){};b.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j};var d=b.Xa.prototype;d.Ca=function(){this.Cg=this.ff=this.ac=this.Il=this.Kl=0};d.wc=function(){return{ontime:this.Kl,offtime:this.Il,stage:this.ac,stagetimeleft:this.ff,timeleft:this.Cg}};d.Qc=function(a){this.Kl=a.ontime;this.Il=a.offtime;this.ac=a.stage;this.ff=a.stagetimeleft;this.Cg=
a.timeleft};d.gd=function(){if(!(0>=this.Cg)){var a=this.j.Xg(this.r);this.Cg-=a;0>=this.Cg?(this.Cg=0,this.r.visible=!0,this.j.Ia=!0,this.j.trigger(ld.prototype.V.Ys,this.r)):(this.ff-=a,0>=this.ff&&(0===this.ac?(this.r.visible=!1,this.ac=1,this.ff+=this.Il):(this.r.visible=!0,this.ac=0,this.ff+=this.Kl),this.j.Ia=!0))}};a.prototype.Ys=function(){return!0};b.V=new a;c.prototype.Fs=function(a,b,c){this.Kl=a;this.Il=b;this.ac=1;this.ff=b;this.Cg=c;this.r.visible=!1;this.j.Ia=!0};b.sb=new c;b.Ob=new function(){}})();
function X(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var md=2/180*Math.PI,nd=8/180*Math.PI,od=.5*Math.PI,qd=od*od,rd=2/180*Math.PI,sd=Number.MIN_VALUE*Number.MIN_VALUE;function td(a,c){return a.x*c.x+a.y*c.y}function ud(a,c){return a.x*c.y-a.y*c.x}function vd(a){return Z(1*a.y,-1*a.x)}function wd(a,c){return Z(a.n.x*c.x+a.p.x*c.y,a.n.y*c.x+a.p.y*c.y)}function xd(a,c){return Z(td(c,a.n),td(c,a.p))}
function yd(a,c){var b=wd(a.A,c);b.x+=a.position.x;b.y+=a.position.y;return b}function zd(a,c){var b=Ad(c,a.position),d=b.x*a.A.n.x+b.y*a.A.n.y;b.y=b.x*a.A.p.x+b.y*a.A.p.y;b.x=d;return b}function Ad(a,c){return Z(a.x-c.x,a.y-c.y)}function Bd(a,c,b){return a<c?c:a>b?b:a}function Cd(){this.n=Z(0,0);this.p=Z(0,0);this.n.Set(1,0);this.p.Set(0,1)}function Dd(a){var c=new Cd;c.Set(a);return c}Cd.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.n.Set(c,a);this.p.Set(-a,c)};
Cd.prototype.Ub=function(){var a=new Cd;Ed(a,this);return a};function Ed(a,c){a.n.L(c.n);a.p.L(c.p)}Cd.prototype.na=function(){this.n.Set(0,0);this.p.Set(0,0)};Cd.prototype.Gg=function(){return Math.atan2(this.n.y,this.n.x)};function Fd(a,c){var b=a.n.x*a.p.y-a.p.x*a.n.y;0!==b&&(b=1/b);c.n.x=b*a.p.y;c.p.x=-b*a.p.x;c.n.y=-b*a.n.y;c.p.y=b*a.n.x}function Gd(a,c,b,d){var f=a.n.x*a.p.y-a.p.x*a.n.y;0!==f&&(f=1/f);c.x=f*(a.p.y*b-a.p.x*d);c.y=f*(a.n.x*d-a.n.y*b);return c}
function Hd(a,c,b){this.n=new Id(0,0,0);this.p=new Id(0,0,0);this.i=new Id(0,0,0);a&&this.n.L(a);c&&this.p.L(c);b&&this.i.L(b)}Hd.prototype.Ub=function(){return new Hd(this.n,this.p,this.i)};Hd.prototype.na=function(){this.n.Set(0,0,0);this.p.Set(0,0,0);this.i.Set(0,0,0)};function be(a,c,b,d){var f=a.n.x,k=a.p.x,e=a.n.y;a=a.p.y;var g=f*a-k*e;0!=g&&(g=1/g);c.x=g*(a*b-k*d);c.y=g*(f*d-e*b);return c}
function ce(a,c,b,d,f){var k=a.n.x,e=a.n.y,g=a.n.z,h=a.p.x,m=a.p.y,l=a.p.z,n=a.i.x,q=a.i.y;a=a.i.z;var p=k*(m*a-l*q)+e*(l*n-h*a)+g*(h*q-m*n);0!=p&&(p=1/p);c.x=p*(b*(m*a-l*q)+d*(l*n-h*a)+f*(h*q-m*n));c.y=p*(k*(d*a-f*q)+e*(f*n-b*a)+g*(b*q-d*n));c.z=p*(k*(m*f-l*d)+e*(l*b-h*f)+g*(h*d-m*b));return c}function de(){this.N=Z(0,0);this.gc=Z(0,0);this.C=Z(0,0)}de.prototype.Set=function(a){this.N.L(a.N);this.gc.L(a.gc);this.C.L(a.C);this.Wd=a.Wd;this.M=a.M;this.Lc=a.Lc};
de.prototype.Ub=function(){var a=new de;a.N.L(this.N);a.gc.L(this.gc);a.C.L(this.C);a.Wd=this.Wd;a.M=this.M;a.Lc=this.Lc;return a};de.prototype.jd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.gc.x+c*this.C.x;a.position.y=(1-c)*this.gc.y+c*this.C.y;a.A.Set((1-c)*this.Wd+c*this.M);var b=a.A;a.position.x-=b.n.x*this.N.x+b.p.x*this.N.y;a.position.y-=b.n.y*this.N.x+b.p.y*this.N.y};
de.prototype.Qf=function(a){void 0===a&&(a=0);if(this.Lc<a&&1-this.Lc>Number.MIN_VALUE){var c=(a-this.Lc)/(1-this.Lc);this.gc.x=(1-c)*this.gc.x+c*this.C.x;this.gc.y=(1-c)*this.gc.y+c*this.C.y;this.Wd=(1-c)*this.Wd+c*this.M;this.Lc=a}};function ee(a,c){this.position=Z(0,0);this.A=new Cd;a&&this.position.L(a);c&&Ed(this.A,c)}ee.prototype.Set=function(a){this.position.L(a.position);Ed(this.A,a.A)};ee.prototype.Gg=function(){return Math.atan2(this.A.n.y,this.A.n.x)};
function fe(a,c){this.x=a;this.y=c}var ge=[];function Z(a,c){if(0<ge.length){var b=ge.pop();b.Set(a,c);return b}return new fe(a,c)}function he(a){ge.push(a)}w=fe.prototype;w.na=function(){this.y=this.x=0};w.Set=function(a,c){this.x=a;this.y=c};w.L=function(a){this.x=a.x;this.y=a.y};w.Sf=function(){return Z(-this.x,-this.y)};w.Ub=function(){return Z(this.x,this.y)};w.Je=function(a){this.x+=a.x;this.y+=a.y};w.mp=function(a){this.x-=a.x;this.y-=a.y};w.Ed=function(a){this.x*=a;this.y*=a};
function ie(a){return Math.sqrt(je(a))}function je(a){return a.x*a.x+a.y*a.y}function ke(a){var c=ie(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function Id(a,c,b){this.x=a;this.y=c;this.z=b}w=Id.prototype;w.na=function(){this.z=this.y=this.x=0};w.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};w.L=function(a){this.x=a.x;this.y=a.y;this.z=a.z};w.Sf=function(){return new Id(-this.x,-this.y,-this.z)};w.Ub=function(){return new Id(this.x,this.y,this.z)};
w.Je=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};w.mp=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};w.Ed=function(a){this.x*=a;this.y*=a;this.z*=a};function le(){this.La=.005}w=le.prototype;w.Ig=function(){};w.Ub=function(){};w.Set=function(a){this.La=a.La};w.Ih=function(){};w.Fi=function(){};w.nk=function(){};w.Bm=function(){};function me(a){this.La=.005;this.La=a;this.i=a*a;this.Wa=Z(0,0)}X(me,le);w=me.prototype;w.Ig=function(){return"b2CircleShape"};
w.Ub=function(){var a=new me(this.La);a.Set(this);return a};w.Set=function(a){le.prototype.Set.call(this,a);a instanceof me&&this.Wa.L(a.Wa)};w.Ih=function(a,c){var b=c.A,d=c.position.x+(b.n.x*this.Wa.x+b.p.x*this.Wa.y),b=c.position.y+(b.n.y*this.Wa.x+b.p.y*this.Wa.y);a.i.Set(d-this.La,b-this.La);a.k.Set(d+this.La,b+this.La)};w.Fi=function(a,c){a.i=c*Math.PI*this.i;a.k.L(this.Wa);a.q=a.i*(.5*this.i+(this.Wa.x*this.Wa.x+this.Wa.y*this.Wa.y))};
w.nk=function(a,c,b,d){b=yd(b,this.Wa);var f=-(td(a,b)-c);if(f<-this.La+Number.MIN_VALUE)return 0;if(f>this.La)return d.L(b),Math.PI*this.i;c=f*f;f=this.i*(Math.asin(f/this.La)+Math.PI/2)+f*Math.sqrt(this.i-c);c=-2/3*Math.pow(this.i-c,1.5)/f;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return f};w.Bm=function(a){a.O=[this.Wa];a.i=1;a.La=this.La};
function ne(a,c){this.La=.005;this.i=a;this.k=c;this.q=Z(this.k.x-this.i.x,this.k.y-this.i.y);ke(this.q);this.B=Z(this.q.y,-this.q.x);Z(-.04*(this.B.x-this.q.x)+this.i.x,-.04*(this.B.y-this.q.y)+this.i.y);Z(-.04*(this.B.x+this.q.x)+this.k.x,-.04*(this.B.y+this.q.y)+this.k.y);Z(-this.B.x,-this.B.y)}X(ne,le);ne.prototype.Ig=function(){return"b2EdgeShape"};
ne.prototype.Ih=function(a,c){var b=c.A,d=c.position.x+(b.n.x*this.i.x+b.p.x*this.i.y),f=c.position.y+(b.n.y*this.i.x+b.p.y*this.i.y),k=c.position.x+(b.n.x*this.k.x+b.p.x*this.k.y),b=c.position.y+(b.n.y*this.k.x+b.p.y*this.k.y);d<k?(a.i.x=d,a.k.x=k):(a.i.x=k,a.k.x=d);f<b?(a.i.y=f,a.k.y=b):(a.i.y=b,a.k.y=f)};ne.prototype.Fi=function(a){a.i=0;a.k.L(this.i);a.q=0};
ne.prototype.nk=function(a,c,b,d){void 0===c&&(c=0);var f=Z(a.x*c,a.y*c),k=yd(b,this.i);b=yd(b,this.k);var e=td(a,k)-c;a=td(a,b)-c;if(0<e){if(0<a)return 0;k.x=-a/(e-a)*k.x+e/(e-a)*b.x;k.y=-a/(e-a)*k.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*k.x+e/(e-a)*b.x,b.y=-a/(e-a)*k.y+e/(e-a)*b.y);d.x=(f.x+k.x+b.x)/3;d.y=(f.y+k.y+b.y)/3;return.5*((k.x-f.x)*(b.y-f.y)-(k.y-f.y)*(b.x-f.x))};function oe(){this.i=0;this.k=Z(0,0);this.q=0}function pe(){this.La=.005;this.i=Z(0,0);this.O=[];this.$a=[]}X(pe,le);w=pe.prototype;
w.Ig=function(){return"b2PolygonShape"};w.Ub=function(){var a=new pe;a.Set(this);return a};w.Set=function(a){le.prototype.Set.call(this,a);if(a instanceof pe){this.i.L(a.i);this.Sa=a.Sa;qe(this,this.Sa);for(var c=0;c<this.Sa;c++)this.O[c].L(a.O[c]),this.$a[c].L(a.$a[c])}};
function re(a,c){var b=c.length;a.Sa=b;qe(a,b);for(b=b=0;b<a.Sa;b++)a.O[b].L(c[b]);for(b=0;b<a.Sa;++b){var d=Ad(a.O[b+1<a.Sa?b+1:0],a.O[b]);a.$a[b].L(vd(d));ke(a.$a[b])}for(var b=a.O,d=a.Sa,f=Z(0,0),k=0,e=1/3,g=0;g<d;++g){var h=b[g],m=g+1<d?b[g+1]:b[0],l=.5*((h.x-0)*(m.y-0)-(h.y-0)*(m.x-0)),k=k+l;f.x+=l*e*(0+h.x+m.x);f.y+=l*e*(0+h.y+m.y)}f.x*=1/k;f.y*=1/k;a.i=f}
function se(a,c,b){a.Sa=4;qe(a,4);a.O[0].Set(-c,-b);a.O[1].Set(c,-b);a.O[2].Set(c,b);a.O[3].Set(-c,b);a.$a[0].Set(0,-1);a.$a[1].Set(1,0);a.$a[2].Set(0,1);a.$a[3].Set(-1,0);a.i.na()}
w.Ih=function(a,c){for(var b=c.A,d=this.O[0],f=c.position.x+(b.n.x*d.x+b.p.x*d.y),k=c.position.y+(b.n.y*d.x+b.p.y*d.y),e=f,g=k,h=1;h<this.Sa;++h)var d=this.O[h],m=c.position.x+(b.n.x*d.x+b.p.x*d.y),d=c.position.y+(b.n.y*d.x+b.p.y*d.y),f=f<m?f:m,k=k<d?k:d,e=e>m?e:m,g=g>d?g:d;a.i.x=f-this.La;a.i.y=k-this.La;a.k.x=e+this.La;a.k.y=g+this.La};
w.Fi=function(a,c){if(2==this.Sa)a.k.x=.5*(this.O[0].x+this.O[1].x),a.k.y=.5*(this.O[0].y+this.O[1].y),a.i=0,a.q=0;else{for(var b=0,d=0,f=0,k=0,e=1/3,g=0;g<this.Sa;++g)var h=this.O[g],m=g+1<this.Sa?this.O[g+1]:this.O[0],l=h.x-0,n=h.y-0,q=m.x-0,p=m.y-0,r=l*p-n*q,t=.5*r,f=f+t,b=b+t*e*(0+h.x+m.x),d=d+t*e*(0+h.y+m.y),h=l,k=k+r*(e*(.25*(h*h+q*h+q*q)+(0*h+0*q))+0+(e*(.25*(n*n+p*n+p*p)+(0*n+0*p))+0));a.i=c*f;a.k.Set(1/f*b,1/f*d);a.q=c*k}};
w.nk=function(a,c,b,d){var f=xd(b.A,a),k=c-td(a,b.position),e=[],g=0,h=-1;c=-1;var m=!1;for(a=a=0;a<this.Sa;++a){e[a]=td(f,this.O[a])-k;var l=e[a]<-Number.MIN_VALUE;0<a&&(l?m||(h=a-1,g++):m&&(c=a-1,g++));m=l}switch(g){case 0:return m?(a=new oe,this.Fi(a,1),d.L(yd(b,a.k)),a.i):0;case 1:-1==h?h=this.Sa-1:c=this.Sa-1}a=(h+1)%this.Sa;f=(c+1)%this.Sa;k=(0-e[h])/(e[a]-e[h]);e=(0-e[c])/(e[f]-e[c]);h=Z(this.O[h].x*(1-k)+this.O[a].x*k,this.O[h].y*(1-k)+this.O[a].y*k);c=Z(this.O[c].x*(1-e)+this.O[f].x*e,this.O[c].y*
(1-e)+this.O[f].y*e);e=0;k=Z(0,0);for(g=this.O[a];a!=f;)a=(a+1)%this.Sa,m=a==f?c:this.O[a],l=.5*((g.x-h.x)*(m.y-h.y)-(g.y-h.y)*(m.x-h.x)),e+=l,k.x+=l*(h.x+g.x+m.x)/3,k.y+=l*(h.y+g.y+m.y)/3,g=m;k.Ed(1/e);d.L(yd(b,k));return e};w.Bm=function(a){a.O=this.O;a.i=this.Sa;a.La=this.La};w.ok=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.Sa;++d){var f=this.O[d].x*a.x+this.O[d].y*a.y;f>b&&(c=d,b=f)}return c};
w.Ii=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.Sa;++d){var f=this.O[d].x*a.x+this.O[d].y*a.y;f>b&&(c=d,b=f)}return this.O[c]};function qe(a,c){a.O=[];a.$a=[];for(var b=a.O.length;b<c;b++)a.O[b]=Z(0,0),a.$a[b]=Z(0,0)}new Cd;function te(){this.k=this.i=this.q=this.Gb=0}function ue(a,c){a.Gb=c;a.q=a.Gb&255;a.i=(a.Gb&65280)>>8&255;a.k=(a.Gb&16711680)>>16&255;a.B=(a.Gb&4278190080)>>24&255}te.prototype.Set=function(a){ue(this,a.Gb)};
te.prototype.Ub=function(){var a=new te;a.Set(this);return a};function ve(){this.Vd=Z(0,0);this.id=new te}ve.prototype.Set=function(a){this.Vd.L(a.Vd);this.id.Set(a.id)};function we(){this.i=Z(0,0);this.k=Z(0,0)}var xe=[];function ye(){if(0<xe.length){var a=xe.pop();a.na();return a}return new we}we.prototype.na=function(){this.i.Set(0,0);this.k.Set(0,0)};function ze(a,c){var b;return b=(b=(b=(b=a.i.x<=c.i.x)&&a.i.y<=c.i.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
we.prototype.Li=function(a){return 0<a.i.x-this.k.x||0<a.i.y-this.k.y||0<this.i.x-a.k.x||0<this.i.y-a.k.y?!1:!0};function Ae(a,c,b){a.i.x=Math.min(c.i.x,b.i.x);a.i.y=Math.min(c.i.y,b.i.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function Be(a,c,b,d){var f=0,k=c[0].Vd,e=c[1].Vd,g=b.x*k.x+b.y*k.y-d;b=b.x*e.x+b.y*e.y-d;0>=g&&a[f++].Set(c[0]);0>=b&&a[f++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[f].Vd,d.x=k.x+b*(e.x-k.x),d.y=k.y+b*(e.y-k.y),a[f].id=0<g?c[0].id:c[1].id,f++);return f}
function Ce(a,c,b,d,f){for(var k=c.A.n.x*a.$a[b].x+c.A.p.x*a.$a[b].y,e=c.A.n.y*a.$a[b].x+c.A.p.y*a.$a[b].y,g=f.A.n.x*k+f.A.n.y*e,h=f.A.p.x*k+f.A.p.y*e,m=0,l=Number.MAX_VALUE,n=0;n<d.Sa;n++){var q=d.O[n].x*g+d.O[n].y*h;q<l&&(l=q,m=n)}return(f.position.x+(f.A.n.x*d.O[m].x+f.A.p.x*d.O[m].y)-(c.position.x+(c.A.n.x*a.O[b].x+c.A.p.x*a.O[b].y)))*k+(f.position.y+(f.A.n.y*d.O[m].x+f.A.p.y*d.O[m].y)-(c.position.y+(c.A.n.y*a.O[b].x+c.A.p.y*a.O[b].y)))*e}
function De(a,c,b,d){for(var f=d.position.x+(d.A.n.x*b.i.x+d.A.p.x*b.i.y),k=d.position.y+(d.A.n.y*b.i.x+d.A.p.y*b.i.y),f=f-(c.position.x+(c.A.n.x*a.i.x+c.A.p.x*a.i.y)),k=k-(c.position.y+(c.A.n.y*a.i.x+c.A.p.y*a.i.y)),e=f*c.A.n.x+k*c.A.n.y,k=f*c.A.p.x+k*c.A.p.y,f=0,g=-Number.MAX_VALUE,h=0;h<a.Sa;++h){var m=a.$a[h].x*e+a.$a[h].y*k;m>g&&(g=m,f=h)}e=Ce(a,c,f,b,d);k=f-1;0>k&&(k=a.Sa-1);g=Ce(a,c,k,b,d);h=f+1;h>=a.Sa&&(h=0);var m=Ce(a,c,h,b,d),l=0,n=0;if(g>e&&g>m)for(l=k,n=g;;)if(f=l-1,0>f&&(f=a.Sa-1),e=
Ce(a,c,f,b,d),e>n)l=f,n=e;else break;else if(m>e)for(l=h,n=m;;)if(f=l+1,f>=a.Sa&&(f=0),e=Ce(a,c,f,b,d),e>n)l=f,n=e;else break;else l=f,n=e;return{up:l,Wl:n}}
function Ee(a,c,b){var d=new Fe,f=b.Gf,k=b.i,e=b.Hf,g=b.k,h,m;d.i=c.count;for(var l=d.O,n=0;n<d.i;n++){var q=l[n];q.Hb=c.Hb[n];q.Ib=c.Ib[n];h=Ge(f,q.Hb);m=Ge(e,q.Ib);q.yc=yd(k,h);q.oe=yd(g,m);q.oc=Ad(q.oe,q.yc);q.M=0}1<d.i&&(h=c.i,m=He(d),m<.5*h||2*h<m||m<Number.MIN_VALUE)&&(d.i=0);0==d.i&&(q=l[0],q.Hb=0,q.Ib=0,h=Ge(f,0),m=Ge(e,0),q.yc=yd(k,h),q.oe=yd(g,m),q.oc=Ad(q.oe,q.yc),d.i=1);for(f=0;20>f;){k=[];for(e=0;e<d.i;e++)k[e]={},k[e].Hb=d.O[e].Hb,k[e].Ib=d.O[e].Ib;if(2==d.i)e=d,g=e.k.oc,l=e.q.oc,h=
Ad(l,g),g=-(g.x*h.x+g.y*h.y),0>=g?(e.k.M=1,e.i=1):(l=l.x*h.x+l.y*h.y,0>=l?(e.q.M=1,e.i=1,e.k.Set(e.q)):(h=1/(l+g),e.k.M=l*h,e.q.M=g*h,e.i=2));else if(3==d.i){var e=d,p=e.k.oc,r=e.q.oc,t=e.B.oc,v=Ad(r,p),g=td(r,v),l=-td(p,v),u=Ad(t,p);h=td(t,u);m=-td(p,u);q=Ad(t,r);n=td(t,q);q=-td(r,q);u=ud(v,u);v=u*ud(r,t);t=u*ud(t,p);p=u*ud(p,r);0>=l&&0>=m?(e.k.M=1,e.i=1):0<g&&0<l&&0>=p?(h=1/(g+l),e.k.M=g*h,e.q.M=l*h,e.i=2):0<h&&0<m&&0>=t?(g=1/(h+m),e.k.M=h*g,e.B.M=m*g,e.i=2,e.q.Set(e.B)):0>=g&&0>=q?(e.q.M=1,e.i=
1,e.k.Set(e.q)):0>=h&&0>=n?(e.B.M=1,e.i=1,e.k.Set(e.B)):0<n&&0<q&&0>=v?(g=1/(n+q),e.q.M=n*g,e.B.M=q*g,e.i=2,e.k.Set(e.B)):(g=1/(v+t+p),e.k.M=v*g,e.q.M=t*g,e.B.M=p*g,e.i=3)}if(3==d.i)break;e=d;1==e.i?e=e.k.oc.Sf():2==e.i?(g=Ad(e.q.oc,e.k.oc),e=0<ud(g,e.k.oc.Sf())?Z(-1*g.y,1*g.x):vd(g)):e=Z(0,0);if(je(e)<sd)break;g=e.Sf();d.O[d.i].Hb=b.Gf.ok(xd(b.i.A,g));d.O[d.i].yc=yd(b.i,Ge(b.Gf,d.O[d.i].Hb));d.O[d.i].Ib=b.Hf.ok(xd(b.k.A,e));d.O[d.i].oe=yd(b.k,Ge(b.Hf,d.O[d.i].Ib));d.O[d.i].oc=Ad(d.O[d.i].oe,d.O[d.i].yc);
he(e);he(g);f++;g=!1;for(e=0;e<k.length;e++)if(d.O[d.i].Hb==k[e].Hb&&d.O[d.i].Ib==k[e].Ib){g=!0;break}if(g)break;d.i++}f=a.i;k=a.k;1==d.i?(f.L(d.k.yc),k.L(d.k.oe)):2==d.i?(f.x=d.k.M*d.k.yc.x+d.q.M*d.q.yc.x,f.y=d.k.M*d.k.yc.y+d.q.M*d.q.yc.y,k.x=d.k.M*d.k.oe.x+d.q.M*d.q.oe.x,k.y=d.k.M*d.k.oe.y+d.q.M*d.q.oe.y):3==d.i&&(k.x=f.x=d.k.M*d.k.yc.x+d.q.M*d.q.yc.x+d.B.M*d.B.yc.x,k.y=f.y=d.k.M*d.k.yc.y+d.q.M*d.q.yc.y+d.B.M*d.B.yc.y);a.q=ie(Ad(a.i,a.k));c.i=He(d);c.count=d.i;f=d.O;for(k=0;k<d.i;k++)c.Hb[k]=f[k].Hb,
c.Ib[k]=f[k].Ib;b.q&&(c=b.Gf.La,b=b.Hf.La,a.q>c+b&&a.q>Number.MIN_VALUE?(a.q-=c+b,d=Ad(a.k,a.i),ke(d),a.i.x+=c*d.x,a.i.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,he(d)):(b=Z(0,0),b.x=.5*(a.i.x+a.k.x),b.y=.5*(a.i.y+a.k.y),a.i.x=a.k.x=b.x,a.i.y=a.k.y=b.y,a.q=0,he(b)))}function Ie(){}function Je(){this.i=Z(0,0);this.k=Z(0,0);this.q=0}function Ke(){}Ke.prototype.Set=function(a){a.Bm(this)};
Ke.prototype.ok=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.i;d++){var f=this.O[d].x*a.x+this.O[d].y*a.y;f>b&&(c=d,b=f)}return c};Ke.prototype.Ii=function(a){return this.O[this.ok(a)]};function Ge(a,c){void 0===c&&(c=0);return a.O[c]}function Le(){this.i=null}Le.prototype.Gi=function(a){Me(this,a);a.Oc()};function Ne(a,c,b){if(null!==a.i){var d=[];for(d.push(a.i);0<d.length;)if(a=d.pop(),a.Fa.Li(b))if(null===a.Yc){if(!c(a.ae))break}else d.push(a.Yc),d.push(a.Te)}}
function Oe(a,c){if(null===a.i)a.i=c,a.i.parent=null;else{var b;b=c.Fa;b=Z((b.i.x+b.k.x)/2,(b.i.y+b.k.y)/2);for(var d=a.i;null!==d.Yc;)var f=d.Yc,d=d.Te,k=Math.abs((f.Fa.i.x+f.Fa.k.x)/2-b.x)+Math.abs((f.Fa.i.y+f.Fa.k.y)/2-b.y),e=Math.abs((d.Fa.i.x+d.Fa.k.x)/2-b.x)+Math.abs((d.Fa.i.y+d.Fa.k.y)/2-b.y),d=k<e?f:d;he(b);b=d;f=b.parent;d=Pe();d.parent=f;Ae(d.Fa,c.Fa,b.Fa);if(f)for(b.parent.Yc==b?f.Yc=d:f.Te=d,d.Yc=b,d.Te=c,b.parent=d,c.parent=d;f&&!ze(f.Fa,d.Fa);)Ae(f.Fa,f.Yc.Fa,f.Te.Fa),d=f,f=f.parent;
else d.Yc=b,d.Te=c,b.parent=d,c.parent=d,a.i=d}}function Me(a,c){if(c==a.i)a.i=null;else{var b=c.parent,d=b.parent,f;f=b.Yc==c?b.Te:b.Yc;if(d)for(d.Yc==b?d.Yc=f:d.Te=f,f.parent=d;d;){f=d.Fa;Ae(d.Fa,d.Yc.Fa,d.Te.Fa);if(ze(f,d.Fa))break;d=d.parent}else a.i=f,f.parent=null;b.Oc()}}function Qe(){this.k=new Le;this.i=[]}Qe.prototype.Gi=function(a){Ia(this.i,a);this.k.Gi(a)};Qe.prototype.Li=function(a,c){return a.Fa.Li(c.Fa)};
function Re(a,c){for(var b=[];0<a.i.length;){var d=a.i.pop();Ne(a.k,function(a){a!=d.ae&&b.push(new Se(d.ae,a));return!0},d.Fa)}for(var f=0;f<b.length;){var k=b[f];c(k.hj,k.ij);for(f++;f<b.length;){var e=b[f];if(!(e.hj==k.hj&&e.ij==k.ij||e.hj==k.ij&&e.ij==k.hj))break;f++}}}function Te(a){this.Fa=ye();this.ae=this.parent=this.Te=this.Yc=null;"undefined"!=typeof a&&(this.ae=a)}var Ue=[];
function Pe(a){if(0<Ue.length){var c=Ue.pop();"undefined"!=typeof a&&(c.ae=a);c.Fa.na();return c}return new Te(a)}Te.prototype.Oc=function(){this.ae=this.parent=this.Te=this.Yc=null;Ue.push(this)};function Se(a,c){this.hj=a;this.ij=c}function Ve(){this.Ma=this.Cb=0;this.ma=[];for(var a=0;2>a;a++)this.ma[a]=new We;this.mc=Z(0,0);this.ra=Z(0,0)}Ve.prototype.fc=function(){for(var a=0;2>a;a++)this.ma[a].fc();this.mc.na();this.ra.na();this.Cb=this.Ma=0};
Ve.prototype.Set=function(a){this.Cb=a.Cb;for(var c=0;2>c;c++)this.ma[c].Set(a.ma[c]);this.mc.L(a.mc);this.ra.L(a.ra);this.Ma=a.Ma};Ve.prototype.Ub=function(){var a=new Ve;a.Set(this);return a};function We(){this.ra=Z(0,0);this.ee=new te;this.fc()}We.prototype.fc=function(){this.ra.na();this.ph=this.oh=0;ue(this.ee,0)};We.prototype.Set=function(a){this.ra.L(a.ra);this.oh=a.oh;this.ph=a.ph;this.ee.Set(a.ee)};
function Xe(){var a=Ye,c=kf,b=pf,d,f,k=0;switch(a.Ma){case wf:d=xd(c.A,a.i);f=xd(b.A,a.i.Sf());d=a.k.Ii(d);f=a.q.Ii(f);c=yd(c,d);b=yd(b,f);k=(b.x-c.x)*a.i.x+(b.y-c.y)*a.i.y;break;case xf:k=wd(c.A,a.i);c=yd(c,a.ra);f=xd(b.A,k.Sf());f=a.q.Ii(f);b=yd(b,f);k=(b.x-c.x)*k.x+(b.y-c.y)*k.y;break;case yf:k=wd(b.A,a.i),b=yd(b,a.ra),d=xd(c.A,k.Sf()),d=a.k.Ii(d),c=yd(c,d),k=(c.x-b.x)*k.x+(c.y-b.y)*k.y}return k}var wf=1,xf=2,yf=4;
function Fe(){this.k=new zf;this.q=new zf;this.B=new zf;this.O=[this.k,this.q,this.B]}function He(a){return 1==a.i?0:2==a.i?ie(Ad(a.k.oc,a.q.oc)):3==a.i?ud(Ad(a.q.oc,a.k.oc),Ad(a.B.oc,a.k.oc)):0}function Af(){this.Hb=[0,0,0];this.Ib=[0,0,0]}function zf(){}zf.prototype.Set=function(a){this.yc.L(a.yc);this.oe.L(a.oe);this.oc.L(a.oc);this.M=a.M;this.Hb=a.Hb;this.Ib=a.Ib};function Bf(){this.Gf=new Ke;this.Hf=new Ke;this.Tr=new de;this.Ur=new de}
function Cf(a,c){this.U="Body"+Df++;this.F=new ee;this.F.position.L(a.position);this.F.A.Set(a.P);this.m=new de;this.m.N.na();this.m.Lc=1;this.m.Wd=this.m.M=a.P;this.m.C.x=this.F.A.n.x*this.m.N.x+this.F.A.p.x*this.m.N.y;this.m.C.y=this.F.A.n.y*this.m.N.x+this.F.A.p.y*this.m.N.y;this.m.C.x+=this.F.position.x;this.m.C.y+=this.F.position.y;this.m.gc.L(this.m.C);this.u=a.K.Ub();this.k=Z(0,0);this.G=a.Qh;this.Za=a.i;this.wa=a.k;this.ud=a.B;this.Y=a.Wc;this.vd=c;this.pb=null;this.Zc=new Ef;this.X=new Ff;
this.H=a.q;this.Oa=a.hi;this.za=a.Ph;this.K=this.B=0;this.Ma=a.type;this.S=2==this.Ma?1:0;this.J=2==this.Ma?1:0;this.R=this.i=0;this.Aa=a.G;this.q=new Gf;this.I=[]}function Hf(a,c){var b=new If(a,0,c);if(a.Y){var d=a.vd.i.i;b.Rb.Ih(b.i,a.F);var f=d.k,k=b.i,e=Pe(b);e.Fa.i.x=k.i.x-.1;e.Fa.i.y=k.i.y-.1;e.Fa.k.x=k.k.x+.1;e.Fa.k.y=k.k.y+.1;Oe(f,e);d.i.push(e);b.k=e}d=a.q;f=b.ep;null==d.i[f]&&(k=new Jf(b),e=d.q,null!=e?e.next=k:d.k=k,k.kf(e),d.q=k,d.i[f]=k);b.fo=a;0<b.B&&Kf(a);a.vd.k=!0}w=Cf.prototype;
w.Oc=function(){he(this.u);he(this.k)};function Lf(a,c,b){a.F.A.Set(b);a.F.position.L(c);c=a.F.A;var d=a.m.N;a.m.C.x=c.n.x*d.x+c.p.x*d.y;a.m.C.y=c.n.y*d.x+c.p.y*d.y;a.m.C.x+=a.F.position.x;a.m.C.y+=a.F.position.y;a.m.gc.L(a.m.C);a.m.Wd=a.m.M=b;b=a.vd.i.i;for(c=a.q.Qa();c;c=c.Ea())Mf(c.ae,b,a.F,a.F);Nf(a.vd.i)}w.jd=function(){return this.F};w.Gg=function(){return this.m.M};w.lp=function(a){Lf(this,this.F.position,a)};function Of(a,c){0!=a.Ma&&a.u.L(c)}
w.rk=function(a){void 0===a&&(a=0);0!=this.Ma&&(this.H=a)};w.Eg=function(a,c){2==this.Ma&&(Pf(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.B+=(c.x-this.m.C.x)*a.y-(c.y-this.m.C.y)*a.x)};w.wm=function(a){void 0===a&&(a=0);2==this.Ma&&(Pf(this,!0),this.B+=a)};
function Kf(a){a.S=0;a.J=0;a.i=0;a.R=0;a.m.N.na();if(0!=a.Ma&&1!=a.Ma){for(var c=Z(0,0),b=a.q.Qa();b;b=b.Ea()){var d=b.ae;if(0!=d.B){var f=void 0,f=new oe;d.Rb.Fi(f,d.B);d=f;a.S+=d.i;c.x+=d.k.x*d.i;c.y+=d.k.y*d.i;a.i+=d.q}}0<a.S?(a.J=1/a.S,c.x*=a.J,c.y*=a.J):(a.S=1,a.J=1);0<a.i&&!a.Za?(a.i-=a.S*(c.x*c.x+c.y*c.y),a.i*=a.Aa,a.R=1/a.i):(a.i=0,a.R=0);b=a.m.C.Ub();a.m.N.L(c);a.m.gc.L(yd(a.F,a.m.N));a.m.C.L(a.m.gc);a.u.x+=a.H*-(a.m.C.y-b.y);a.u.y+=a.H*+(a.m.C.x-b.x);he(c);he(b)}}
function Qf(a,c){var b=a.F.A,b=Z(b.n.x*c.x+b.p.x*c.y,b.n.y*c.x+b.p.y*c.y);b.x+=a.F.position.x;b.y+=a.F.position.y;return b}w.pc=function(){return this.Ma};function Pf(a,c){if(a.ud!=c){a.ud=c;a.K=0;c||(a.u.na(),a.H=0,a.k.na(),a.B=0);for(var b=0;b<a.I.length;b++)Rf(a.I[b],a)}}w.Lh=function(){return this.Y};w.Hg=function(){return this.Zc};
function Sf(a){Tf.A.Set(a.m.Wd);var c=Tf.A,b=a.m.N;Tf.position.x=a.m.gc.x-(c.n.x*b.x+c.p.x*b.y);Tf.position.y=a.m.gc.y-(c.n.y*b.x+c.p.y*b.y);c=a.vd.i.i;for(b=a.q.Qa();b;b=b.Ea())Mf(b.ae,c,Tf,a.F)}function Uf(a){a.F.A.Set(a.m.M);var c=a.F.A,b=a.m.N;a.F.position.x=a.m.C.x-(c.n.x*b.x+c.p.x*b.y);a.F.position.y=a.m.C.y-(c.n.y*b.x+c.p.y*b.y)}function Vf(a,c){if(2!=a.Ma&&2!=c.Ma)return!1;for(var b=a.pb;b;b=b.next)if(b.Qd==c&&0==b.yf.Rq)return!1;return!0}
w.Qf=function(a){this.m.Qf(a);this.m.C.L(this.m.gc);this.m.M=this.m.Wd;Uf(this)};var Df=0;function Wf(){this.position=Z(0,0);this.K=Z(0,0);this.Ph=this.hi=this.q=this.P=0;this.B=this.k=!0;this.Qh=this.i=!1;this.type=0;this.Wc=!0;this.G=1}function Xf(){this.k=[];for(var a=0;a<=Yf;a++)this.k[a]=null;this.q=[];for(a=0;a<=Yf;a++)this.q[a]=null;this.i={}}Xf.prototype.Qa=function(a){return this.k[a]};
function Rf(a,c){var b=c.pc(),d=c.U,f=c.ud,k=c.Lh();2==b?Zf(a,c,d,$f):ag(a,d,$f);0!=b?Zf(a,c,d,bg):ag(a,d,bg);0!=b&&k&&f?Zf(a,c,d,cg):ag(a,d,cg);f?Zf(a,c,d,dg):ag(a,d,dg);k?Zf(a,c,d,eg):ag(a,d,eg)}Xf.prototype.qk=function(a){var c=a.U;if(null!=this.i[c]){Ia(a.I,this);for(a=0;a<=Yf;a++)ag(this,c,a);delete this.i[c]}};function ag(a,c,b){var d=a.i[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.i,c=c.Ea(),null==d?a.k[b]=c:d.next=c,null==c?a.q[b]=d:c.kf(d)))}
function Zf(a,c,b,d){var f=a.i[b];if(null==f){for(var f=[],k=0;k<=Yf;k++)f[k]=null;a.i[b]=f}null==f[d]&&(f[d]=new fg(c),c=a.q[d],null!=c?c.next=f[d]:a.k[d]=f[d],f[d].kf(c),a.q[d]=f[d])}var $f=0,bg=1,eg=2,cg=3,dg=4,Yf=5;function fg(a){this.body=a;this.i=this.next=null}fg.prototype.kf=function(a){this.i=a};fg.prototype.Pa=function(){return this.body};fg.prototype.Ea=function(){return this.next};function gg(){}
gg.prototype.i=function(a,c){var b=a.G.Ub(),d=c.G.Ub();return b.i==d.i&&0!=b.i?0<b.i:0!=(b.q&d.k)&&0!=(b.k&d.q)};var hg=new gg;function ig(){this.i=[];this.k=[]}function jg(){}jg.prototype.BeginContact=function(){};jg.prototype.EndContact=function(){};function kg(a){this.vd=a;this.q=hg;this.k=lg;this.B=new mg;this.i=new Qe}
function Nf(a){Re(a.i,function(c,b){a:{var d=c.Pa(),f=b.Pa();if(d!=f&&Vf(f,d)&&a.q.i(c,b)){for(d=f.Zc.Qa(ng);d;d=d.Ea())if(f=d.Wb.Jb,f==c){if(f=d.Wb.Bb,f==b)break a}else if(f==b&&(f=d.Wb.Bb,f==c))break a;a.B.q(c,b)}}})}kg.prototype.Oc=function(a){a.Gh&&this.k.EndContact(a);0<a.Od.Cb&&(Pf(a.Jb.Pa(),!0),Pf(a.Bb.Pa(),!0));og(a.yk,a);og(a.zk,a);og(a.um,a);this.B.Oc(a)};function pg(){this.k=1;this.q=65535;this.i=0}pg.prototype.Ub=function(){var a=new pg;a.k=this.k;a.q=this.q;a.i=this.i;return a};
function If(a,c,b){this.ep="Fixture"+qg++;this.G=b.k.Ub();this.i=ye();this.fo=a;this.Rb=b.i.Ub();this.B=b.bg;this.K=b.gg;this.I=b.xg;this.q=b.q}If.prototype.Pa=function(){return this.fo};If.prototype.Oc=function(){xe.push(this.i)};If.prototype.Gi=function(a){null!=this.k&&(a.Gi(this.k),this.k=null)};
function Mf(a,c,b,d){if(a.k){var f=ye(),k=ye();a.Rb.Ih(f,b);a.Rb.Ih(k,d);Ae(a.i,f,k);xe.push(f);xe.push(k);b=Ad(d.position,b.position);d=a.k;f=c.k;a=a.i;if(ze(d.Fa,a))a=!1;else{Me(f,d);var k=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.Fa.i.x=a.i.x-k;d.Fa.i.y=a.i.y-e;d.Fa.k.x=a.k.x+k;d.Fa.k.y=a.k.y+e;Oe(f,d);a=!0}a&&c.i.push(d);he(b)}}var qg=0;function rg(){this.k=new pg;this.k.k=1;this.k.q=65535;this.k.i=0;this.i=null;this.gg=.2;this.bg=this.xg=0;this.q=!1}
function Gf(){this.q=this.k=null;this.i={}}Gf.prototype.Qa=function(){return this.k};function Jf(a){this.ae=a;this.i=this.next=null}Jf.prototype.kf=function(a){this.i=a};Jf.prototype.Ea=function(){return this.next};function sg(a,c){this.Y=a;this.B=c;this.k=[];this.K=[];this.G=[];this.q=[];this.i=[]}function tg(a){a.k=[];a.K=[];a.G=[];a.q=[];a.i=[]}function ug(a,c){if(null!=a.Y)for(var b=0;b<a.q.length;++b)for(var d=c[b],f=new ig,k=0;k<d.G;++k)f.i[k]=d.q[k].Db,f.k[k]=d.q[k].hf}
function vg(a,c){a.k.push(c);0!=c.pc()&&(a.G.push(c),2==c.pc()&&a.K.push(c))}function wg(a,c,b,d,f){this.ya=a;var k=0;0<a&&(k=1/a);this.i=k;this.Nb=c;this.Pj=b;this.ik=d;this.Of=f}function xg(a,c){this.i=new kg(this);this.q=new yg;this.k=!1;this.Fg=new Xf;this.Zc=new Ef;this.pb=null;this.K=new Ff;this.I=0;this.U=c;this.B=a;this.G=0;this.dw=zg(this,new Wf)}var Ag=1-100*Number.MIN_VALUE;function zg(a,c){var b=new Cf(c,a),d=a.Fg,f=b.U;null==d.i[f]&&(Zf(d,b,f,Yf),Rf(d,b),b.I.push(d));return b}
function Bg(a,c){for(var b=c.pb;b;){var d=b,b=b.next;Cg(a,d.yf)}for(b=c.X.Qa();b;b=b.Ea())b.Ot.qk(c);for(b=c.Zc.Qa(ng);b;b=b.Ea())a.i.Oc(b.Wb);for(b=c.q.Qa();b;b=b.Ea()){var d=c,f=b.ae,k=d.q,e=f.ep,g=k.i[e];if(null!=g){var h=g.i,g=g.Ea();null==h?k.k=g:h.next=g;null==g?k.q=h:g.kf(h);delete k.i[e]}for(k=d.Zc.Qa(ng);k;k=k.Ea())f!=k.Wb.Jb&&f!=k.Wb.Bb||d.vd.i.Oc(k.Wb);d.Y&&f.Gi(d.vd.i.i);f.Oc();f.fo=null;Kf(d)}c.Oc();a.Fg.qk(c)}
function Dg(a,c){var b=c.q();b.ki=null;if(b.sg=a.pb)a.pb.ki=b;a.pb=b;a.I++;b.Rc.yf=b;b.Rc.Qd=b.W;b.Rc.prev=null;if(b.Rc.next=b.T.pb)b.T.pb.prev=b.Rc;b.T.pb=b.Rc;b.Sc.yf=b;b.Sc.Qd=b.T;b.Sc.prev=null;if(b.Sc.next=b.W.pb)b.W.pb.prev=b.Sc;b.W.pb=b.Sc;var d=c.i,f=c.k;if(!c.K)for(var k=f.Zc.Qa(ng);k;k=k.Ea())Eg(k.Wb,f)==d&&(k.Wb.gj=!0);return b}
function Cg(a,c){var b=c.Rq;c.ki&&(c.ki.sg=c.sg);c.sg&&(c.sg.ki=c.ki);c==a.pb&&(a.pb=c.sg);var d=c.T,f=c.W;Pf(d,!0);Pf(f,!0);c.Rc.prev&&(c.Rc.prev.next=c.Rc.next);c.Rc.next&&(c.Rc.next.prev=c.Rc.prev);c.Rc==d.pb&&(d.pb=c.Rc.next);c.Rc.prev=null;c.Rc.next=null;c.Sc.prev&&(c.Sc.prev.next=c.Sc.next);c.Sc.next&&(c.Sc.next.prev=c.Sc.prev);c.Sc==f.pb&&(f.pb=c.Sc.next);c.Sc.prev=null;c.Sc.next=null;a.I--;if(!b)for(b=f.Zc.Qa(ng);b;b=b.Ea())Eg(b.Wb,f)==d&&(b.Wb.gj=!0)}
xg.prototype.Uf=function(a,c,b){var d,f;this.k&&(Nf(this.i),this.k=!1);for(var k=new wg(a,this.G*a,c,b,!0),e=this.i,g=e.vd.Zc.Qa(ng);g;g=g.Ea()){var h=g.Wb,m=h.Jb,l=h.Bb,n=m.Pa(),q=l.Pa();if(0!=n.ud||0!=q.ud){if(h.gj){if(0==Vf(q,n)){e.Oc(h);continue}if(0==e.q.i(m,l)){e.Oc(h);continue}h.gj=!1}0==e.i.Li(m.k,l.k)?e.Oc(h):Fg(h,e.k)}}if(0<k.ya){for(var p=this.K.Qa();p;p=p.Ea())p.Ot.Uf(k);for(var r=new sg(this.i.k,this.q),t=this.Fg.Qa(Yf);t;t=t.Ea())t.body.gb=!1;for(var v=this.Zc.Qa(ng);v;v=v.Ea())v.Wb.gb=
!1;for(var u=this.pb;u;u=u.sg)u.gb=!1;for(t=this.Fg.Qa(cg);t;t=t.Ea()){var x=t.body;if(!x.gb){tg(r);Gg.length=0;var z=Gg;z.push(x);for(x.gb=!0;0<z.length;){var B=z.pop();vg(r,B);B.ud||Pf(B,!0);if(0!=B.pc()){for(v=B.Zc.Qa(Hg);v;v=v.Ea()){var D=v.Wb;if(!D.gb){r.q.push(D);D.gb=!0;var C=Eg(D,B);C.gb||(z.push(C),C.gb=!0)}}for(var E=B.pb;E;E=E.next)!E.yf.gb&&E.Qd.Lh()&&(r.i.push(E.yf),E.yf.gb=!0,E.Qd.gb||(z.push(E.Qd),E.Qd.gb=!0))}}for(var y=r,A=k,H=this.U,aa=y,M=A,I=this.B,K=0;K<aa.K.length;K++){var T=
aa.K[K];T.u.x+=M.ya*(I.x+T.J*T.k.x);T.u.y+=M.ya*(I.y+T.J*T.k.y);T.H+=M.ya*T.R*T.B;T.u.Ed(Bd(1-M.ya*T.Oa,0,1));T.H*=Bd(1-M.ya*T.za,0,1)}Ig(y.B,y.q,y.q.length);for(var va=y,V=A,R=va.B,Q=0;Q<R.k;++Q){var Y=R.i[Q],L=Y.i,J=Y.k,S=L.J,fb=L.R,W=J.J,gb=J.R,Fa=Y.B.x,Ib=Y.B.y,kb=Ib,qi=-Fa,vb=0,pd=0;if(V.Of)for(pd=Y.G,vb=0;vb<pd;++vb){var Ua=Y.q[vb];Ua.Db*=V.Nb;Ua.hf*=V.Nb;var Jd=Ua.Db*Fa+Ua.hf*kb,Kd=Ua.Db*Ib+Ua.hf*qi;L.H-=fb*(Ua.qb.x*Kd-Ua.qb.y*Jd);L.u.x-=S*Jd;L.u.y-=S*Kd;J.H+=gb*(Ua.rb.x*Kd-Ua.rb.y*Jd);J.u.x+=
W*Jd;J.u.y+=W*Kd}else for(pd=Y.G,vb=0;vb<pd;++vb){var ph=Y.q[vb];ph.Db=0;ph.hf=0}}for(var Ze=0;Ze<va.i.length;Ze++)va.i[Ze].Ke(V);for(var qh=0;qh<V.ik;qh++){for(var $e=0;$e<va.i.length;$e++)va.i[$e].Me(V);Jg(va.B)}for(var sh=0;sh<va.i.length;sh++);for(var th=va.B,af=0;af<th.k;++af)for(var bf=th.i[af],Ei=bf.Y,Ld=0;Ld<bf.G;++Ld){var uh=Ei.ma[Ld],vh=bf.q[Ld];uh.oh=vh.Db;uh.ph=vh.hf}for(var wh=y,ib=A,cf=0;cf<wh.G.length;++cf){var da=wh.G[cf],xh=ib.ya*da.u.x,yh=ib.ya*da.u.y;4<xh*xh+yh*yh&&(ke(da.u),da.u.x=
2*da.u.x*ib.i,da.u.y=2*da.u.y*ib.i);var zh=ib.ya*da.H;zh*zh>qd&&(da.H=0>da.H?-od*ib.i:od*ib.i);da.m.gc.L(da.m.C);da.m.Wd=da.m.M;da.m.C.x+=ib.ya*da.u.x;da.m.C.y+=ib.ya*da.u.y;da.m.M+=ib.ya*da.H;Uf(da)}for(var df=y,Fi=A,Ah=0;Ah<Fi.Pj;Ah++){for(var Gi=Kg(df.B,.2),ef=!0,ff=0;ff<df.i.length;ff++)var Hi=df.i[ff].Le(.2),ef=ef&&Hi;if(Gi&&ef)break}ug(y,y.B.i);if(H){for(var Md=y,Ii=A,Nd=Number.MAX_VALUE,gf=0;gf<Md.G.length;gf++){var yb=Md.G[gf];!yb.wa||Math.abs(yb.H)>rd||1E-4<td(yb.u,yb.u)?Nd=yb.K=0:(yb.K+=
Ii.ya,Nd=Math.min(Nd,yb.K))}if(.5<=Nd)for(var hf=0;hf<Md.k.length;hf++)Pf(Md.k[hf],!1)}}}for(t=this.Fg.Qa(cg);t;t=t.Ea())Sf(t.body);Nf(this.i);for(var na=new sg(this.i.k,this.q),Od=this.Fg.Qa(Yf);Od;Od=Od.Ea()){var jb=Od.body;jb.gb=!1;jb.m.Lc=0}for(var ya=this.Zc.Qa(ng);ya;ya=ya.Ea())ya.Wb.gb=!1,ya.Wb.i=null;for(var Pd=this.pb;Pd;Pd=Pd.sg)Pd.gb=!1;for(;;){for(var Ch=null,jf=1,Qd=this.Zc.Qa(Lg);Qd;Qd=Qd.Ea()){var Wa=Qd.Wb,Dh=Wa.Jb.Pa(),Eh=Wa.Bb.Pa();if(2==Dh.pc()&&Dh.ud||2==Eh.pc()&&Eh.ud){var Oa=
1;if(null!=Wa.i)Oa=Wa.i;else if(Wa.Gh)Oa=1,Wa.i=Oa;else{var kc=Wa.Jb.Pa(),Nc=Wa.Bb.Pa(),Oc=kc.m.Lc;kc.m.Lc<Nc.m.Lc?(Oc=Nc.m.Lc,kc.m.Qf(Oc)):Nc.m.Lc<kc.m.Lc&&(Oc=kc.m.Lc,Nc.m.Qf(Oc));var Fh=Wa,Ji=kc.m,Ki=Nc.m;Mg.Gf.Set(Fh.Jb.Rb);Mg.Hf.Set(Fh.Bb.Rb);Mg.Tr=Ji;Mg.Ur=Ki;Mg.Sw=.005;var Pc=Mg;Ng++;var lf=Pc.Gf,mf=Pc.Hf,nf=Pc.Tr,of=Pc.Ur,Rd=lf.La+mf.La,Sd=Pc.Sw,Xa=0,Qc=0,lc=0;Og.count=0;for(Pg.q=!1;;){nf.jd(kf,Xa);of.jd(pf,Xa);Pg.Gf=lf;Pg.Hf=mf;Pg.i=kf;Pg.k=pf;Ee(Qg,Og,Pg);if(0>=Qg.q){Xa=1;break}var Mi=mf,
N=Ye,sa=Og,Ya=kf,Za=pf;N.k=lf;N.q=Mi;var zb=void 0,$a=void 0,pb=void 0,Ab=void 0,ab=void 0,qb=void 0,nc=0,oc=0,pc=0,qc=0,Td=0,Ud=0,O=void 0,P=void 0,Pa=0;if(1==sa.count)N.Ma=wf,zb=Ge(N.k,sa.Hb[0]),Ab=Ge(N.q,sa.Ib[0]),P=zb,O=Ya.A,nc=Ya.position.x+(O.n.x*P.x+O.p.x*P.y),oc=Ya.position.y+(O.n.y*P.x+O.p.y*P.y),P=Ab,O=Za.A,pc=Za.position.x+(O.n.x*P.x+O.p.x*P.y),qc=Za.position.y+(O.n.y*P.x+O.p.y*P.y),N.i.x=pc-nc,N.i.y=qc-oc,ke(N.i);else{if(sa.Ib[0]==sa.Ib[1])N.Ma=xf,$a=Ge(N.k,sa.Hb[0]),pb=Ge(N.k,sa.Hb[1]),
Ab=Ge(N.q,sa.Ib[0]),N.ra.x=.5*($a.x+pb.x),N.ra.y=.5*($a.y+pb.y),N.i=vd(Ad(pb,$a)),ke(N.i),P=N.i,O=Ya.A,Td=O.n.x*P.x+O.p.x*P.y,Ud=O.n.y*P.x+O.p.y*P.y,P=N.ra,O=Ya.A,nc=Ya.position.x+(O.n.x*P.x+O.p.x*P.y),oc=Ya.position.y+(O.n.y*P.x+O.p.y*P.y),P=Ab,O=Za.A,pc=Za.position.x+(O.n.x*P.x+O.p.x*P.y),qc=Za.position.y+(O.n.y*P.x+O.p.y*P.y),Pa=(pc-nc)*Td+(qc-oc)*Ud;else if(sa.Hb[0]==sa.Hb[0])N.Ma=yf,ab=Ge(N.q,sa.Ib[0]),qb=Ge(N.q,sa.Ib[1]),zb=Ge(N.k,sa.Hb[0]),N.ra.x=.5*(ab.x+qb.x),N.ra.y=.5*(ab.y+qb.y),N.i=vd(Ad(qb,
ab)),ke(N.i),P=N.i,O=Za.A,Td=O.n.x*P.x+O.p.x*P.y,Ud=O.n.y*P.x+O.p.y*P.y,P=N.ra,O=Za.A,pc=Za.position.x+(O.n.x*P.x+O.p.x*P.y),qc=Za.position.y+(O.n.y*P.x+O.p.y*P.y),P=zb,O=Ya.A,nc=Ya.position.x+(O.n.x*P.x+O.p.x*P.y),oc=Ya.position.y+(O.n.y*P.x+O.p.y*P.y),Pa=(nc-pc)*Td+(oc-qc)*Ud;else{var $a=Ge(N.k,sa.Hb[0]),pb=Ge(N.k,sa.Hb[1]),ab=Ge(N.q,sa.Ib[0]),qb=Ge(N.q,sa.Ib[1]),rb=wd(Ya.A,Ad(pb,$a)),sb=wd(Za.A,Ad(qb,ab)),Hh=rb.x*rb.x+rb.y*rb.y,qf=sb.x*sb.x+sb.y*sb.y,Vd=Ad(sb,rb),Ih=rb.x*Vd.x+rb.y*Vd.y,Jh=sb.x*
Vd.x+sb.y*Vd.y,Rc=rb.x*sb.x+rb.y*sb.y,Kh=Hh*qf-Rc*Rc,Pa=0;0!=Kh&&(Pa=Bd((Rc*Jh-Ih*qf)/Kh,0,1));0>(Rc*Pa+Jh)/qf&&(Pa=Bd((Rc-Ih)/Hh,0,1));zb=Z(0,0);zb.x=$a.x+Pa*(pb.x-$a.x);zb.y=$a.y+Pa*(pb.y-$a.y);Ab=Z(0,0);Ab.x=ab.x+Pa*(qb.x-ab.x);Ab.y=ab.y+Pa*(qb.y-ab.y);0==Pa||1==Pa?(N.Ma=yf,N.i=vd(Ad(qb,ab)),ke(N.i),N.ra=Ab):(N.Ma=xf,N.i=vd(Ad(pb,$a)),N.ra=zb)}if(0>Pa){var Wd=N.i;Wd.x=-Wd.x;Wd.y=-Wd.y}}var Sc=Xe();if(0>=Sc){Xa=1;break}0==Qc&&(lc=Sc>Rd?Math.max(Rd-Sd,.75*Rd):Math.max(Sc-Sd,.02*Rd));if(Sc-lc<.5*
Sd){if(0==Qc){Xa=1;break}break}var rf=Xa,Xd=Xa,Tc=1,sf=Sc;nf.jd(kf,Tc);of.jd(pf,Tc);var tf=Xe();if(tf>=lc){Xa=1;break}for(var Yd=0;;){var rc=0,rc=Yd&1?Xd+(lc-sf)*(Tc-Xd)/(tf-sf):.5*(Xd+Tc);nf.jd(kf,rc);of.jd(pf,rc);var Zd=Xe();if(Math.abs(Zd-lc)<.025*Sd){rf=rc;break}Zd>lc?(Xd=rc,sf=Zd):(Tc=rc,tf=Zd);Yd++;Rg++;if(50==Yd)break}Sg=Math.max(Sg,Yd);if(rf<(1+100*Number.MIN_VALUE)*Xa)break;Xa=rf;Qc++;Tg++;if(1E3==Qc)break}Ug=Math.max(Ug,Qc);Oa=Xa;0<Oa&&1>Oa&&(Oa=(1-Oa)*Oc+Oa);Wa.i=Oa}Number.MIN_VALUE<Oa&&
Oa<jf&&(Ch=Wa,jf=Oa)}}d=Ch;f=jf;var Bb=d,sc=f;if(null===Bb||Ag<sc)break;var Uc=Bb.Jb.Pa(),Vc=Bb.Bb.Pa();Vg.Set(Uc.m);Wg.Set(Vc.m);Uc.Qf(sc);Vc.Qf(sc);Fg(Bb,this.i.k);Bb.i=null;if(Bb.G||!Bb.enabled)Uc.m.Set(Vg),Vc.m.Set(Wg),Uf(Uc),Uf(Vc);else if(Bb.Gh){var $d=Uc;2!=$d.pc()&&($d=Vc);tg(na);Gg.length=0;var Wc=Gg;Wc.push($d);for($d.gb=!0;0<Wc.length;)if(jb=Wc.pop(),vg(na,jb),jb.ud||Pf(jb,!0),2==jb.pc()){for(ya=jb.Zc.Qa(Hg);ya&&32!=na.U;ya=ya.Ea()){var ae=ya.Wb;if(!ae.gb){na.q.push(ae);ae.gb=!0;var tc=
Eg(ae,jb);tc.gb||(0!=tc.pc()&&(tc.Qf(sc),Pf(tc,!0),Wc.push(tc)),tc.gb=!0)}}for(var Qa=jb.pb;Qa;Qa=Qa.next)32!=na.I&&!Qa.yf.gb&&Qa.Qd.Lh()&&(na.i.push(Qa.yf),Qa.yf.gb=!0,Qa.Qd.gb||(0!=Qa.Qd.pc()&&(Qa.Qd.Qf(sc),Pf(Qa.Qd,!0),Wc.push(Qa.Qd)),Qa.Qd.gb=!0))}var Ra=na,Ka=new wg((1-sc)*k.ya,0,k.ik,k.Pj,!1),La=0,Cb=0;Ig(Ra.B,Ra.q,Ra.q.length);for(var uf=Ra.B,La=0;La<Ra.i.length;++La)Ra.i[La].Ke(Ka);for(La=0;La<Ka.ik;++La)for(Jg(uf),Cb=0;Cb<Ra.i.length;++Cb)Ra.i[Cb].Me(Ka);for(La=0;La<Ra.G.length;++La){var ea=
Ra.G[La],Ph=Ka.ya*ea.u.x,Qh=Ka.ya*ea.u.y;4<Ph*Ph+Qh*Qh&&(ke(ea.u),ea.u.x=2*ea.u.x*Ka.i,ea.u.y=2*ea.u.y*Ka.i);var Rh=Ka.ya*ea.H;Rh*Rh>qd&&(ea.H=0>ea.H?-od*Ka.i:od*Ka.i);ea.m.gc.L(ea.m.C);ea.m.Wd=ea.m.M;ea.m.C.x+=Ka.ya*ea.u.x;ea.m.C.y+=Ka.ya*ea.u.y;ea.m.M+=Ka.ya*ea.H;Uf(ea)}for(La=0;La<Ka.Pj;++La){for(var Pi=Kg(uf,.75),vf=!0,Cb=0;Cb<Ra.i.length;++Cb)var Qi=Ra.i[Cb].Le(.2),vf=vf&&Qi;if(Pi&&vf)break}ug(Ra,uf.i);for(var wa=0;wa<na.k.length;wa++)if(na.k[wa].gb=!1,na.k[wa].ud&&2==na.k[wa].pc())for(Sf(na.k[wa]),
ya=na.k[wa].Zc.Qa(ng);ya;ya=ya.Ea())ya.Wb.i=null;for(wa=0;wa<na.U;wa++)na.q[wa].gb=!1,na.q[wa].i=null;for(wa=0;wa<na.I;wa++)na.i[wa].gb=!1;Nf(this.i)}}this.G=k.i}};xg.prototype.Hg=function(){return this.Zc};var Gg=[];function Xg(a,c){this.k="Contact"+Yg++;this.Od=new Ve;this.B=new Ve;this.Gh=!1;var b=a.Pa(),d=c.Pa();this.K=2!=b.pc()||b.G||2!=d.pc()||d.G;this.G=a.q||c.q;this.gj=!1;this.Jb=a;this.Bb=c;this.enabled=!0;this.yk=b.Hg();this.zk=d.Hg();this.um=d.vd.Hg();Zg(this)}
Xg.prototype.fc=function(a,c){this.Od.fc();this.B.fc();this.Gh=!1;var b=a.Pa(),d=c.Pa();this.K=2!=b.pc()||b.G||2!=d.pc()||d.G;this.G=a.q||c.q;this.gj=!1;this.Jb=a;this.Bb=c;this.enabled=!0;this.yk=b.Hg();this.zk=d.Hg();this.um=d.vd.Hg();Zg(this)};function Zg(a){$g(a.yk,a);$g(a.zk,a);$g(a.um,a);ah(a)}function ah(a){var c=!1,b=!1;!a.G&&a.enabled&&(a.Gh&&(c=!0),a.K&&(b=!0));bh(a.yk,a,c,b);bh(a.zk,a,c,b);bh(a.um,a,c,b)}function Eg(a,c){var b=a.Jb.Pa();return b!=c?b:a.Bb.Pa()}
function Fg(a,c){var b=a.B;a.B=a.Od;a.Od=b;a.enabled=!0;var d=!1,b=a.Gh,f=a.Jb.Pa(),k=a.Bb.Pa(),e=a.Jb.i.Li(a.Bb.i);if(a.G){if(e){var d=a.Jb.Rb,f=f.jd(),e=a.Bb.Rb,g=k.jd(),k=new Ie;k.Gf=new Ke;k.Gf.Set(d);k.Hf=new Ke;k.Hf.Set(e);k.i=f;k.k=g;k.q=!0;f=new Af;f.count=0;d=new Je;Ee(d,f,k);d=d.q<10*Number.MIN_VALUE}a.Od.Cb=0}else{a.K=2!=f.pc()||f.G||2!=k.pc()||k.G?!0:!1;if(e)for(a.q(),d=0<a.Od.Cb,e=0;e<a.Od.Cb;e++){g=a.Od.ma[e];g.oh=0;for(var h=g.ph=0;h<a.B.Cb;h++){var m=a.B.ma[h];if(m.ee.Gb==g.ee.Gb){g.oh=
m.oh;g.ph=m.ph;break}}}else a.Od.Cb=0;d!=b&&(Pf(f,!0),Pf(k,!0))}a.Gh=d;d!=b&&ah(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Xg.prototype.q=function(){};var Mg=new Bf,Yg=0;function ch(a,c){Xg.call(this,a,c)}X(ch,Xg);ch.prototype.fc=function(a,c){Xg.prototype.fc.call(this,a,c)};
ch.prototype.q=function(){var a=this.Od,c=this.Jb.Rb,b=this.Jb.Pa().F,d=this.Bb.Rb,f=this.Bb.Pa().F;a.Cb=0;var k=f.position.x+(f.A.n.x*d.Wa.x+f.A.p.x*d.Wa.y)-(b.position.x+(b.A.n.x*c.Wa.x+b.A.p.x*c.Wa.y)),b=f.position.y+(f.A.n.y*d.Wa.x+f.A.p.y*d.Wa.y)-(b.position.y+(b.A.n.y*c.Wa.x+b.A.p.y*c.Wa.y)),f=c.La+d.La;k*k+b*b>f*f||(a.Ma=1,a.ra.L(c.Wa),a.mc.na(),a.Cb=1,a.ma[0].ra.L(d.Wa),ue(a.ma[0].ee,0))};
function dh(){this.K=Z(0,0);this.Ab=Z(0,0);this.B=Z(0,0);this.Bf=new Cd;this.I=new Cd;this.q=[];for(var a=0;2>a;a++)this.q[a]=new eh}function eh(){this.Ab=Z(0,0);this.qb=Z(0,0);this.rb=Z(0,0)}eh.prototype.fc=function(){this.Ab.Set(0,0);this.qb.Set(0,0);this.rb.Set(0,0)};
function mg(){this.i={};this.k={};fh(this,ch,"b2CircleShape","b2CircleShape");fh(this,gh,"b2PolygonShape","b2CircleShape");fh(this,hh,"b2PolygonShape","b2PolygonShape");fh(this,ih,"b2EdgeShape","b2CircleShape");fh(this,jh,"b2PolygonShape","b2EdgeShape")}function fh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.i[b]=a.i[b]||{};a.i[b][d]=new kh;a.i[b][d].Fp=c;a.i[b][d].nr=!0;b!=d&&(a.i[d]=a.i[d]||{},a.i[d][b]=new kh,a.i[d][b].Fp=c,a.i[d][b].nr=!1)}
mg.prototype.q=function(a,c){var b=a.Rb.Ig(),d=c.Rb.Ig(),f=this.i[b][d],k=f.Fp;return null!=k?f.nr?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.fc(a,c),b):new k(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.fc(c,a),b):new k(c,a):null};mg.prototype.Oc=function(a){this.k[a.Jb.Rb.Ig()][a.Bb.Rb.Ig()].push(a)};function Ef(){this.k=[];for(var a=0;a<=ng;a++)this.k[a]=null;this.q=[];for(a=0;a<=ng;a++)this.q[a]=null;this.i={}}Ef.prototype.Qa=function(a){return this.k[a]};
function $g(a,c){var b=c.k;if(null==a.i[b]){a.i[b]=[];for(var d=0;d<=ng;d++)a.i[b][d]=null;lh(a,c,b,ng)}}function bh(a,c,b,d){b?lh(a,c,c.k,Hg):mh(a,c.k,Hg);d?lh(a,c,c.k,Lg):mh(a,c.k,Lg)}function og(a,c){var b=c.k;if(null!=a.i[b]){for(var d=0;d<=ng;d++)mh(a,b,d);delete a.i[b]}}function mh(a,c,b){var d=a.i[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.i,f=c.Ea();null==d?a.k[b]=f:d.next=f;null==f?a.q[b]=d:f.kf(d);nh.push(c)}}
function lh(a,c,b,d){b=a.i[b];if(null==b[d]){if(0<nh.length){var f=nh.pop();f.next=null;f.i=null;f.Wb=c;c=f}else c=new oh(c);b[d]=c;c=a.q[d];null!=c?(c.next=b[d],b[d].kf(c)):a.k[d]=b[d];a.q[d]=b[d]}}var Hg=0,Lg=1,ng=2;function oh(a){this.Wb=a;this.i=this.next=null}var nh=[];oh.prototype.kf=function(a){this.i=a};oh.prototype.Ea=function(){return this.next};function kh(){}function yg(){this.i=[]}
function Ig(a,c,b){for(a.k=b;a.i.length<a.k;)a.i[a.i.length]=new dh;for(var d=0;d<b;d++){var f=c[d],k=f.Jb,e=f.Bb,g=k.Rb.La,h=e.Rb.La,m=k.Pa(),l=e.Pa(),f=f.Od,n=Math.sqrt(k.K*e.K),q,k=k.I,e=e.I;q=k>e?k:e;var e=m.u.x,k=m.u.y,p=l.u.x,r=l.u.y,t=m.H,v=l.H,u=f,x=m.F,z=g,B=l.F,D=h,C=rh;if(0!=u.Cb){var E=0,y=void 0,A=void 0,H=0,aa=0,M=0,I=0,K=0,y=0;switch(u.Ma){case 1:A=x.A;y=u.ra;E=x.position.x+A.n.x*y.x+A.p.x*y.y;x=x.position.y+A.n.y*y.x+A.p.y*y.y;A=B.A;y=u.ma[0].ra;u=B.position.x+A.n.x*y.x+A.p.x*y.y;
B=B.position.y+A.n.y*y.x+A.p.y*y.y;y=u-E;A=B-x;H=y*y+A*A;H>sd?(H=Math.sqrt(H),C.i.x=y/H,C.i.y=A/H):(C.i.x=1,C.i.y=0);y=x+z*C.i.y;B=B-D*C.i.y;C.ma[0].x=.5*(E+z*C.i.x+(u-D*C.i.x));C.ma[0].y=.5*(y+B);break;case 2:A=x.A;y=u.mc;H=A.n.x*y.x+A.p.x*y.y;aa=A.n.y*y.x+A.p.y*y.y;A=x.A;y=u.ra;M=x.position.x+A.n.x*y.x+A.p.x*y.y;I=x.position.y+A.n.y*y.x+A.p.y*y.y;C.i.x=H;C.i.y=aa;for(E=0;E<u.Cb;E++)A=B.A,y=u.ma[E].ra,K=B.position.x+A.n.x*y.x+A.p.x*y.y,y=B.position.y+A.n.y*y.x+A.p.y*y.y,C.ma[E].x=K+.5*(z-(K-M)*H-
(y-I)*aa-D)*H,C.ma[E].y=y+.5*(z-(K-M)*H-(y-I)*aa-D)*aa;break;case 4:for(A=B.A,y=u.mc,H=A.n.x*y.x+A.p.x*y.y,aa=A.n.y*y.x+A.p.y*y.y,A=B.A,y=u.ra,M=B.position.x+A.n.x*y.x+A.p.x*y.y,I=B.position.y+A.n.y*y.x+A.p.y*y.y,C.i.x=-H,C.i.y=-aa,E=0;E<u.Cb;E++)A=x.A,y=u.ma[E].ra,K=x.position.x+A.n.x*y.x+A.p.x*y.y,y=x.position.y+A.n.y*y.x+A.p.y*y.y,C.ma[E].x=K+.5*(D-(K-M)*H-(y-I)*aa-z)*H,C.ma[E].y=y+.5*(D-(K-M)*H-(y-I)*aa-z)*aa}}D=rh.i.x;C=rh.i.y;z=a.i[d];z.i=m;z.k=l;z.Y=f;z.B.x=D;z.B.y=C;z.G=f.Cb;z.gg=n;z.xg=q;
z.K.x=f.mc.x;z.K.y=f.mc.y;z.Ab.x=f.ra.x;z.Ab.y=f.ra.y;z.U=g+h;z.type=f.Ma;for(g=0;g<z.G;++g)n=f.ma[g],h=z.q[g],h.Db=n.oh,h.hf=n.ph,h.Ab.L(n.ra),n=h.qb.x=rh.ma[g].x-m.m.C.x,q=h.qb.y=rh.ma[g].y-m.m.C.y,B=h.rb.x=rh.ma[g].x-l.m.C.x,E=h.rb.y=rh.ma[g].y-l.m.C.y,u=n*C-q*D,y=B*C-E*D,u*=u,y*=y,h.Bf=1/(m.J+l.J+m.R*u+l.R*y),A=m.S*m.J+l.S*l.J,A+=m.S*m.R*u+l.S*l.R*y,h.Au=1/A,y=C,A=-D,u=n*A-q*y,y=B*A-E*y,u*=u,y*=y,h.Ow=1/(m.J+l.J+m.R*u+l.R*y),h.hk=0,n=z.B.x*(p+-v*E-e- -t*q)+z.B.y*(r+v*B-k-t*n),-1>n&&(h.hk+=-z.xg*
n);2==z.G&&(r=z.q[0],p=z.q[1],f=m.J,m=m.R,e=l.J,l=l.R,k=r.qb.x*C-r.qb.y*D,r=r.rb.x*C-r.rb.y*D,t=p.qb.x*C-p.qb.y*D,g=p.rb.x*C-p.rb.y*D,p=f+e+m*k*k+l*r*r,v=f+e+m*t*t+l*g*g,l=f+e+m*k*t+l*r*g,p*p<100*(p*v-l*l)?(z.I.n.Set(p,l),z.I.p.Set(l,v),Fd(z.I,z.Bf)):z.G=1)}}
function Jg(a){for(var c=0;c<a.k;c++){for(var b=a.i[c],d=b.B.x,f=b.B.y,k=0;k<b.G;k++){var e=b,g=b.q[k],h=e.B.y,m=-e.B.x,l=e.gg*g.Db,l=Bd(g.hf-g.Ow*((e.k.u.x-e.k.H*g.rb.y-e.i.u.x+e.i.H*g.qb.y)*h+(e.k.u.y+e.k.H*g.rb.x-e.i.u.y-e.i.H*g.qb.x)*m),-l,l),n=l-g.hf,h=n*h,m=n*m;e.i.u.x-=e.i.J*h;e.i.u.y-=e.i.J*m;e.i.H-=e.i.R*(g.qb.x*m-g.qb.y*h);e.k.u.x+=e.k.J*h;e.k.u.y+=e.k.J*m;e.k.H+=e.k.R*(g.rb.x*m-g.rb.y*h);g.hf=l}if(1==b.G)k=b.q[0],e=k.Db-k.Bf*((b.k.u.x-b.k.H*k.rb.y-b.i.u.x+b.i.H*k.qb.y)*d+(b.k.u.y+b.k.H*
k.rb.x-b.i.u.y-b.i.H*k.qb.x)*f-k.hk),e=0<e?e:0,g=e-k.Db,d=g*d,f=g*f,b.i.u.x-=b.i.J*d,b.i.u.y-=b.i.J*f,b.i.H-=b.i.R*(k.qb.x*f-k.qb.y*d),b.k.u.x+=b.k.J*d,b.k.u.y+=b.k.J*f,b.k.H+=b.k.R*(k.rb.x*f-k.rb.y*d),k.Db=e;else for(k=b.q[0],e=b.q[1],g=k.Db,m=e.Db,l=(b.k.u.x-b.k.H*k.rb.y-b.i.u.x+b.i.H*k.qb.y)*d+(b.k.u.y+b.k.H*k.rb.x-b.i.u.y-b.i.H*k.qb.x)*f-k.hk,f=(b.k.u.x-b.k.H*e.rb.y-b.i.u.x+b.i.H*e.qb.y)*d+(b.k.u.y+b.k.H*e.rb.x-b.i.u.y-b.i.H*e.qb.x)*f-e.hk,l-=b.I.n.x*g+b.I.p.x*m,f-=b.I.n.y*g+b.I.p.y*m;;){d=-(b.Bf.n.x*
l+b.Bf.p.x*f);if(0<=d&&(h=-(b.Bf.n.y*l+b.Bf.p.y*f),0<=h)){Bh(b,k,e,d-g,h-m);k.Db=d;e.Db=h;break}d=-k.Bf*l;if(0<=d&&0<=b.I.n.y*d+f){Bh(b,k,e,d-g,-m);k.Db=d;e.Db=0;break}d=-e.Bf*f;if(0<=d&&0<=b.I.p.x*d+l){Bh(b,k,e,-g,d-m);k.Db=0;e.Db=d;break}if(0<=l&&0<=f){Bh(b,k,e,-g,-m);k.Db=0;e.Db=0;break}break}}}
function Bh(a,c,b,d,f){var k=d*a.B.x;d*=a.B.y;var e=f*a.B.x;f*=a.B.y;a.i.u.x-=a.i.J*(k+e);a.i.u.y-=a.i.J*(d+f);a.i.H-=a.i.R*(c.qb.x*d-c.qb.y*k+b.qb.x*f-b.qb.y*e);a.k.u.x+=a.k.J*(k+e);a.k.u.y+=a.k.J*(d+f);a.k.H+=a.k.R*(c.rb.x*d-c.rb.y*k+b.rb.x*f-b.rb.y*e);c.Db=0;b.Db=0}
function Kg(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var f=a.i[d],k=f.i,e=f.k,g=k.S*k.J,h=k.S*k.R,m=e.S*e.J,l=e.S*e.R,n=f,q=Gh;switch(n.type){case 1:var p=n.i.F.A,r=n.Ab,t=n.i.F.position.x+(p.n.x*r.x+p.p.x*r.y),v=n.i.F.position.y+(p.n.y*r.x+p.p.y*r.y),p=n.k.F.A,r=n.q[0].Ab,u=n.k.F.position.x+(p.n.x*r.x+p.p.x*r.y),p=n.k.F.position.y+(p.n.y*r.x+p.p.y*r.y),r=u-t,x=p-v,z=r*r+x*x;z>sd?(z=Math.sqrt(z),q.i.x=r/z,q.i.y=x/z):(q.i.x=1,q.i.y=0);q.ma[0].x=.5*(t+u);q.ma[0].y=.5*(v+p);q.k[0]=r*q.i.x+x*
q.i.y-n.U;break;case 2:q.i.x=n.i.F.A.n.x*n.K.x+n.i.F.A.p.x*n.K.y;q.i.y=n.i.F.A.n.y*n.K.x+n.i.F.A.p.y*n.K.y;t=n.i.F.position.x+(n.i.F.A.n.x*n.Ab.x+n.i.F.A.p.x*n.Ab.y);v=n.i.F.position.y+(n.i.F.A.n.y*n.Ab.x+n.i.F.A.p.y*n.Ab.y);for(u=0;u<n.G;u++)p=n.k.F.position.x+(n.k.F.A.n.x*n.q[u].Ab.x+n.k.F.A.p.x*n.q[u].Ab.y),r=n.k.F.position.y+(n.k.F.A.n.y*n.q[u].Ab.x+n.k.F.A.p.y*n.q[u].Ab.y),q.k[u]=(p-t)*q.i.x+(r-v)*q.i.y-n.U,q.ma[u].x=p,q.ma[u].y=r;break;case 4:q.i.x=n.k.F.A.n.x*n.K.x+n.k.F.A.p.x*n.K.y;q.i.y=
n.k.F.A.n.y*n.K.x+n.k.F.A.p.y*n.K.y;t=n.k.F.position.x+(n.k.F.A.n.x*n.Ab.x+n.k.F.A.p.x*n.Ab.y);v=n.k.F.position.y+(n.k.F.A.n.y*n.Ab.x+n.k.F.A.p.y*n.Ab.y);for(u=0;u<n.G;u++)p=n.i.F.position.x+(n.i.F.A.n.x*n.q[u].Ab.x+n.i.F.A.p.x*n.q[u].Ab.y),r=n.i.F.position.y+(n.i.F.A.n.y*n.q[u].Ab.x+n.i.F.A.p.y*n.q[u].Ab.y),q.k[u]=(p-t)*q.i.x+(r-v)*q.i.y-n.U,q.ma[u].Set(p,r);q.i.x*=-1;q.i.y*=-1}q=Gh.i;for(n=0;n<f.G;n++)r=f.q[n],p=Gh.ma[n],x=Gh.k[n],t=p.x-k.m.C.x,v=p.y-k.m.C.y,u=p.x-e.m.C.x,p=p.y-e.m.C.y,b=b<x?b:
x,x=-r.Au*Bd(c*(x+.005),-.2,0),r=x*q.x,x*=q.y,k.m.C.x-=g*r,k.m.C.y-=g*x,k.m.M-=h*(t*x-v*r),Uf(k),e.m.C.x+=m*r,e.m.C.y+=m*x,e.m.M+=l*(u*x-p*r),Uf(e)}return-.0075<b}function ih(a,c){Xg.call(this,a,c)}X(ih,Xg);ih.prototype.fc=function(a,c){Xg.prototype.fc.call(this,a,c)};ih.prototype.q=function(){};function gh(a,c){Xg.call(this,a,c)}X(gh,Xg);gh.prototype.fc=function(a,c){Xg.prototype.fc.call(this,a,c)};
gh.prototype.q=function(){a:{var a=this.Od,c=this.Jb.Rb,b=this.Jb.Pa().F,d=this.Bb.Rb,f=this.Bb.Pa().F;a.Cb=0;for(var k=f.position.x+(f.A.n.x*d.Wa.x+f.A.p.x*d.Wa.y)-b.position.x,e=f.position.y+(f.A.n.y*d.Wa.x+f.A.p.y*d.Wa.y)-b.position.y,f=k*b.A.n.x+e*b.A.n.y,b=k*b.A.p.x+e*b.A.p.y,k=0,e=-Number.MAX_VALUE,g=c.La+d.La,h=0;h<c.Sa;++h){var m=c.$a[h].x*(f-c.O[h].x)+c.$a[h].y*(b-c.O[h].y);if(m>g)break a;m>e&&(e=m,k=h)}m=k+1;m>=c.Sa&&(m=0);var h=c.O[k],l=c.O[m];e<Number.MIN_VALUE?(a.Cb=1,a.Ma=2,a.mc.L(c.$a[k]),
a.ra.x=.5*(h.x+l.x),a.ra.y=.5*(h.y+l.y),a.ma[0].ra.L(d.Wa),ue(a.ma[0].ee,0)):0>=(f-h.x)*(l.x-h.x)+(b-h.y)*(l.y-h.y)?(f-h.x)*(f-h.x)+(b-h.y)*(b-h.y)>g*g||(a.Cb=1,a.Ma=2,a.mc.x=f-h.x,a.mc.y=b-h.y,ke(a.mc),a.ra.L(h),a.ma[0].ra.L(d.Wa),ue(a.ma[0].ee,0)):0>=(f-l.x)*(h.x-l.x)+(b-l.y)*(h.y-l.y)?(f-l.x)*(f-l.x)+(b-l.y)*(b-l.y)>g*g||(a.Cb=1,a.Ma=2,a.mc.x=f-l.x,a.mc.y=b-l.y,ke(a.mc),a.ra.L(l),a.ma[0].ra.L(d.Wa),ue(a.ma[0].ee,0)):(m=.5*(h.x+l.x),h=.5*(h.y+l.y),e=(f-m)*c.$a[k].x+(b-h)*c.$a[k].y,e>g||(a.Cb=1,
a.Ma=2,a.mc.x=c.$a[k].x,a.mc.y=c.$a[k].y,ke(a.mc),a.ra.Set(m,h),a.ma[0].ra.L(d.Wa),ue(a.ma[0].ee,0)))}};function jh(a,c){Xg.call(this,a,c)}X(jh,Xg);jh.prototype.fc=function(a,c){Xg.prototype.fc.call(this,a,c)};jh.prototype.q=function(){};function hh(a,c){Xg.call(this,a,c)}X(hh,Xg);hh.prototype.fc=function(a,c){Xg.prototype.fc.call(this,a,c)};
hh.prototype.q=function(){var a=this.Od,c=this.Jb.Rb,b=this.Jb.Pa().F,d=this.Bb.Rb,f=this.Bb.Pa().F;a.Cb=0;var k=c.La+d.La,e=De(c,b,d,f),g=e.up;if(!(e.Wl>k)){var h=De(d,f,c,b);if(!(h.Wl>k)){var m=c,l=d,n=b,q=f,p=0;a.Ma=2;h.Wl>.98*e.Wl+.001&&(m=d,l=c,n=f,q=b,g=h.up,a.Ma=4,p=1);c=g;b=l;d=q;l=Lh;void 0===c&&(c=0);for(var e=n.A.n.x*m.$a[c].x+n.A.p.x*m.$a[c].y,h=n.A.n.y*m.$a[c].x+n.A.p.y*m.$a[c].y,f=d.A.n.x*e+d.A.n.y*h,h=d.A.p.x*e+d.A.p.y*h,e=f,f=0,r=Number.MAX_VALUE,t=0;t<b.Sa;t++){var v=e*b.$a[t].x+
h*b.$a[t].y;v<r&&(r=v,f=t)}e=f+1;e>=b.Sa&&(e=0);l[0].Vd.x=d.position.x+(d.A.n.x*b.O[f].x+d.A.p.x*b.O[f].y);l[0].Vd.y=d.position.y+(d.A.n.y*b.O[f].x+d.A.p.y*b.O[f].y);h=l[0].id;h.q=c;h.Gb=h.Gb&4294967040|h.q&255;h=l[0].id;h.i=f;h.Gb=h.Gb&4294902015|h.i<<8&65280;f=l[0].id;f.k=0;f.Gb=f.Gb&4278255615|f.k<<16&16711680;l[1].Vd.x=d.position.x+(d.A.n.x*b.O[e].x+d.A.p.x*b.O[e].y);l[1].Vd.y=d.position.y+(d.A.n.y*b.O[e].x+d.A.p.y*b.O[e].y);b=l[1].id;b.q=c;b.Gb=b.Gb&4294967040|b.q&255;c=l[1].id;c.i=e;c.Gb=c.Gb&
4294902015|c.i<<8&65280;c=l[1].id;c.k=1;c.Gb=c.Gb&4278255615|c.k<<16&16711680;c=m.O[g];g=g+1<m.Sa?m.O[g+1]:m.O[0];Mh.Set(g.x-c.x,g.y-c.y);ke(Mh);Nh.x=Mh.y;Nh.y=-Mh.x;Oh.Set(.5*(c.x+g.x),.5*(c.y+g.y));Sh.x=n.A.n.x*Mh.x+n.A.p.x*Mh.y;Sh.y=n.A.n.y*Mh.x+n.A.p.y*Mh.y;Th.x=-Sh.x;Th.y=-Sh.y;Uh.x=Sh.y;Uh.y=-Sh.x;Vh.x=n.position.x+(n.A.n.x*c.x+n.A.p.x*c.y);Vh.y=n.position.y+(n.A.n.y*c.x+n.A.p.y*c.y);Wh.x=n.position.x+(n.A.n.x*g.x+n.A.p.x*g.y);Wh.y=n.position.y+(n.A.n.y*g.x+n.A.p.y*g.y);if(!(2>Be(Xh,Lh,Th,-Sh.x*
Vh.x-Sh.y*Vh.y+k)||2>Be(Yh,Xh,Sh,Sh.x*Wh.x+Sh.y*Wh.y+k))){a.mc.L(Nh);a.ra.L(Oh);n=Uh.x*Vh.x+Uh.y*Vh.y;for(m=g=0;2>m;++m)Uh.x*Yh[m].Vd.x+Uh.y*Yh[m].Vd.y-n<=k&&(c=Yh[m].Vd.x-q.position.x,l=Yh[m].Vd.y-q.position.y,a.ma[g].ra.x=c*q.A.n.x+l*q.A.n.y,a.ma[g].ra.y=c*q.A.p.x+l*q.A.p.y,a.ma[g].ee.Set(Yh[m].id),c=a.ma[g].ee,c.B=p,c.Gb=c.Gb&16777215|c.B<<24&4278190080,g++);a.Cb=g}}}};function Zh(){this.G="Controller"+$h++;this.vd=null;this.i=new Xf}Zh.prototype.Uf=function(){};
Zh.prototype.qk=function(a){this.i.qk(a);a=a.X;var c=this.G,b=a.k[c];if(null!=b){var d=b.i(),b=b.Ea();null==d?a.i=b:d.k(b);null==b||b.kf(d);delete a.k[c]}};var $h=0;function ai(){Zh.call(this);this.q=Z(0,-1);this.bg=this.offset=0;this.B=Z(0,0);this.k=null}X(ai,Zh);
ai.prototype.Uf=function(){this.k=this.vd.B.Ub();for(var a=this.i.Qa(dg);a;a=a.Ea()){for(var c=a.body,b=Z(0,0),d=Z(0,0),f=0,k=0,e=c.q.Qa();e;e=e.Ea()){var g=Z(0,0),h=e.ae.Rb.nk(this.q,this.offset,c.jd(),g),f=f+h;b.x+=h*g.x;b.y+=h*g.y;var m=0,m=1,k=k+h*m;d.x+=h*g.x*m;d.y+=h*g.y*m}f<Number.MIN_VALUE||(b.x/=f,b.y/=f,d.x/=k,d.y/=k,k=this.k.Sf(),k.Ed(this.bg*f),c.Eg(k,d),k=Z(c.u.x-c.H*(b.y-c.m.C.y),c.u.y+c.H*(b.x-c.m.C.x)),k.mp(this.B),k.Ed(-2*f),c.Eg(k,b),c.wm(-c.i/c.S*f*c.H*1),he(b),he(d))}};
function bi(){Zh.call(this);this.k=Z(0,0)}X(bi,Zh);bi.prototype.Uf=function(a){a=Z(this.k.x*a.ya,this.k.y*a.ya);for(var c=this.i.Qa(dg);c;c=c.Ea()){var b=c.body,d=b.u;Of(b,Z(d.x+a.x,d.y+a.y))}he(a)};function ci(){Zh.call(this);this.k=Z(0,0)}X(ci,Zh);ci.prototype.Uf=function(){for(var a=this.i.Qa(dg);a;a=a.Ea()){var c=a.body;c.Eg(this.k,c.m.C)}};function Ff(){this.i=null;this.k={}}Ff.prototype.Qa=function(){return this.i};function di(){Zh.call(this)}X(di,Zh);
di.prototype.Uf=function(){for(var a=null,c=null,b=0,d=null,f=null,k=0,e=0,g=0,k=null,h=this.i.Qa(Yf);h;h=h.Ea())for(var a=h.body,c=a.m.C,b=a.S,m=this.i.Qa(Yf);m;m=m.Ea())if(d=m.body,a.ud||d.ud)f=d.m.C,k=f.x-c.x,e=f.y-c.y,g=k*k+e*e,g<Number.MIN_VALUE||(k=Z(k,e),k.Ed(1/g/Math.sqrt(g)*b*d.S),a.ud&&a.Eg(k,c),k.Ed(-1),d.ud&&d.Eg(k,f),he(k))};function ei(){Zh.call(this);this.q=new Cd;this.k=0}X(ei,Zh);
ei.prototype.Uf=function(a){a=a.ya;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.i.Qa(dg);c;c=c.Ea()){var b=c.body,d;d=wd(this.q,xd(b.F.A,b.u));d=wd(b.F.A,d);Of(b,Z(b.u.x+d.x*a,b.u.y+d.y*a))}}};function fi(a){this.Rc=new gi;this.Sc=new gi;this.Ne=Z(0,0);this.Oe=Z(0,0);this.Ma=a.type;this.sg=this.ki=null;this.T=a.i;this.W=a.k;this.Rq=a.K}w=fi.prototype;w.pc=function(){return this.Ma};w.Lh=function(){return this.T.Lh()&&this.W.Lh()};w.Ke=function(){};w.Me=function(){};
w.Le=function(){return!1};function hi(){this.type=0;this.k=this.i=null;this.K=!1}function gi(){}function ii(a){fi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.i=Z(0,0);this.ia.L(a.I);this.ja.L(a.U);this.G=a.length;this.B=a.G;this.I=a.B;this.K=this.q=this.k=0}X(ii,fi);
ii.prototype.Ke=function(a){var c,b=0,d=this.T,f=this.W;c=d.F.A;var k=this.ia.x-d.m.N.x,e=this.ia.y-d.m.N.y,b=c.n.x*k+c.p.x*e,e=c.n.y*k+c.p.y*e,k=b;c=f.F.A;var g=this.ja.x-f.m.N.x,h=this.ja.y-f.m.N.y,b=c.n.x*g+c.p.x*h,h=c.n.y*g+c.p.y*h,g=b;this.i.x=f.m.C.x+g-d.m.C.x-k;this.i.y=f.m.C.y+h-d.m.C.y-e;b=Math.sqrt(this.i.x*this.i.x+this.i.y*this.i.y);.005<b?this.i.Ed(1/b):this.i.na();c=k*this.i.y-e*this.i.x;var m=g*this.i.y-h*this.i.x;c=d.J+d.R*c*c+f.J+f.R*m*m;this.S=0!=c?1/c:0;if(0<this.B){var b=b-this.G,
m=2*Math.PI*this.B,l=this.S*m*m;this.q=a.ya*(2*this.S*this.I*m+a.ya*l);this.q=0!=this.q?1/this.q:0;this.K=b*a.ya*l*this.q;this.S=c+this.q;this.S=0!=this.S?1/this.S:0}a.Of?(this.k*=a.Nb,a=this.k*this.i.x,c=this.k*this.i.y,d.u.x-=d.J*a,d.u.y-=d.J*c,d.H-=d.R*(k*c-e*a),f.u.x+=f.J*a,f.u.y+=f.J*c,f.H+=f.R*(g*c-h*a)):this.k=0};
ii.prototype.Me=function(){var a=this.ia.x-this.T.m.N.x,c=this.ia.y-this.T.m.N.y,b=this.T.F.A.n.x*a+this.T.F.A.p.x*c,c=this.T.F.A.n.y*a+this.T.F.A.p.y*c,a=b,d=this.ja.x-this.W.m.N.x,f=this.ja.y-this.W.m.N.y,b=this.W.F.A.n.x*d+this.W.F.A.p.x*f,f=this.W.F.A.n.y*d+this.W.F.A.p.y*f,d=b,k=-this.S*(this.i.x*(this.W.u.x-this.W.H*f-(this.T.u.x-this.T.H*c))+this.i.y*(this.W.u.y+this.W.H*d-(this.T.u.y+this.T.H*a))+this.K+this.q*this.k);this.k+=k;b=k*this.i.x;k*=this.i.y;this.T.u.x-=this.T.J*b;this.T.u.y-=this.T.J*
k;this.T.H-=this.T.R*(a*k-c*b);this.W.u.x+=this.W.J*b;this.W.u.y+=this.W.J*k;this.W.H+=this.W.R*(d*k-f*b)};
ii.prototype.Le=function(){if(0<this.B)return!0;var a=this.ia.x-this.T.m.N.x,c=this.ia.y-this.T.m.N.y,b=this.T.F.A.n.x*a+this.T.F.A.p.x*c,c=this.T.F.A.n.y*a+this.T.F.A.p.y*c,a=b,d=this.ja.x-this.W.m.N.x,f=this.ja.y-this.W.m.N.y,b=this.W.F.A.n.x*d+this.W.F.A.p.x*f,f=this.W.F.A.n.y*d+this.W.F.A.p.y*f,d=b,k=this.W.m.C.x+d-this.T.m.C.x-a,e=this.W.m.C.y+f-this.T.m.C.y-c,g=Math.sqrt(k*k+e*e),b=Bd(g-this.G,-.2,.2),h=-this.S*b;this.i.Set(k/g,e/g);k=h*this.i.x;h*=this.i.y;this.T.m.C.x-=this.T.J*k;this.T.m.C.y-=
this.T.J*h;this.T.m.M-=this.T.R*(a*h-c*k);this.W.m.C.x+=this.W.J*k;this.W.m.C.y+=this.W.J*h;this.W.m.M+=this.W.R*(d*h-f*k);Uf(this.T);Uf(this.W);return.005>Math.abs(b)};function ji(){hi.call(this);this.I=Z(0,0);this.U=Z(0,0);this.type=3;this.length=1;this.B=this.G=0}X(ji,hi);ji.prototype.q=function(){return new ii(this)};
function ki(a){fi.call(this,a);this.q=Z(0,0);this.B=Z(0,0);this.K=new Cd;this.i=Z(0,0);this.q.L(a.B);this.B.L(a.G);this.K.na();this.G=0;this.i.na();this.k=0;this.I=a.I;this.U=a.U}X(ki,fi);
ki.prototype.Ke=function(a){var c,b=0,d=this.T,f=this.W;c=d.F.A;var k=this.q.x-d.m.N.x,e=this.q.y-d.m.N.y,b=c.n.x*k+c.p.x*e,e=c.n.y*k+c.p.y*e,k=b;c=f.F.A;var g=this.B.x-f.m.N.x,h=this.B.y-f.m.N.y,b=c.n.x*g+c.p.x*h,h=c.n.y*g+c.p.y*h,g=b;c=d.J;var b=f.J,m=d.R,l=f.R,n=new Cd;n.n.x=c+b;n.p.x=0;n.n.y=0;n.p.y=c+b;n.n.x+=m*e*e;n.p.x+=-m*k*e;n.n.y+=-m*k*e;n.p.y+=m*k*k;n.n.x+=l*h*h;n.p.x+=-l*g*h;n.n.y+=-l*g*h;n.p.y+=l*g*g;Fd(n,this.K);this.G=m+l;0<this.G&&(this.G=1/this.G);a.Of?(this.i.x*=a.Nb,this.i.y*=a.Nb,
this.k*=a.Nb,a=this.i,d.u.x-=c*a.x,d.u.y-=c*a.y,d.H-=m*(k*a.y-e*a.x+this.k),f.u.x+=b*a.x,f.u.y+=b*a.y,f.H+=l*(g*a.y-h*a.x+this.k)):(this.i.na(),this.k=0)};
ki.prototype.Me=function(a){var c,b=0,d=this.T,f=this.W,k=d.u,e=d.H,g=f.u,h=f.H,m=d.J,l=f.J,n=d.R,q=f.R;c=d.F.A;var p=this.q.x-d.m.N.x,r=this.q.y-d.m.N.y,b=c.n.x*p+c.p.x*r,r=c.n.y*p+c.p.y*r,p=b;c=f.F.A;var t=this.B.x-f.m.N.x,v=this.B.y-f.m.N.y,b=c.n.x*t+c.p.x*v,v=c.n.y*t+c.p.y*v,t=b;c=0;var b=-this.G*(h-e),u=this.k;c=a.ya*this.U;this.k=Bd(this.k+b,-c,c);b=this.k-u;e-=n*b;h+=q*b;c=wd(this.K,Z(-(g.x-h*v-k.x+e*r),-(g.y+h*t-k.y-e*p)));b=this.i.Ub();this.i.Je(c);c=a.ya*this.I;je(this.i)>c*c&&(ke(this.i),
this.i.Ed(c));c=Ad(this.i,b);k.x-=m*c.x;k.y-=m*c.y;e-=n*(p*c.y-r*c.x);g.x+=l*c.x;g.y+=l*c.y;h+=q*(t*c.y-v*c.x);d.H=e;f.H=h};ki.prototype.Le=function(){return!0};function li(){hi.call(this);this.B=Z(0,0);this.G=Z(0,0);this.type=9;this.U=this.I=0}X(li,hi);li.prototype.q=function(){return new ki(this)};
function mi(a){fi.call(this,a);this.U=Z(0,0);this.Y=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=new ni;var c=a.B.Ma,b=a.G.Ma;this.I=this.G=this.K=this.B=null;var d=0,f=0;this.wa=a.B.T;this.T=a.B.W;1==c?(this.B=a.B,this.U.L(this.B.ia),this.ia.L(this.B.ja),d=oi(this.B)):(this.K=a.B,this.U.L(this.K.ia),this.ia.L(this.K.ja),d=this.K.Hi());this.za=a.G.T;this.W=a.G.W;1==b?(this.G=a.G,this.Y.L(this.G.ia),this.ja.L(this.G.ja),f=oi(this.G)):(this.I=a.G,this.Y.L(this.I.ia),this.ja.L(this.I.ja),f=this.I.Hi());
this.k=a.I;this.X=d+this.k*f;this.q=0}X(mi,fi);
mi.prototype.Ke=function(a){var c=this.wa,b=this.za,d=this.T,f=this.W,k=0,e=0,g=0,h=0,m=g=0,l=0;this.i.na();this.B?(this.i.q=-1,l+=d.R):(c=c.F.A,e=this.K.cd,k=c.n.x*e.x+c.p.x*e.y,e=c.n.y*e.x+c.p.y*e.y,c=d.F.A,g=this.ia.x-d.m.N.x,h=this.ia.y-d.m.N.y,m=c.n.x*g+c.p.x*h,h=c.n.y*g+c.p.y*h,g=m*e-h*k,this.i.i.Set(-k,-e),this.i.q=-g,l+=d.J+d.R*g*g);this.G?(this.i.B=-this.k,l+=this.k*this.k*f.R):(c=b.F.A,e=this.I.cd,k=c.n.x*e.x+c.p.x*e.y,e=c.n.y*e.x+c.p.y*e.y,c=f.F.A,g=this.ja.x-f.m.N.x,h=this.ja.y-f.m.N.y,
m=c.n.x*g+c.p.x*h,h=c.n.y*g+c.p.y*h,g=m*e-h*k,this.i.k.Set(-this.k*k,-this.k*e),this.i.B=-this.k*g,l+=this.k*this.k*(f.J+f.R*g*g));this.S=0<l?1/l:0;a.Of?(d.u.x+=d.J*this.q*this.i.i.x,d.u.y+=d.J*this.q*this.i.i.y,d.H+=d.R*this.q*this.i.q,f.u.x+=f.J*this.q*this.i.k.x,f.u.y+=f.J*this.q*this.i.k.y,f.H+=f.R*this.q*this.i.B):this.q=0};
mi.prototype.Me=function(){var a=this.T,c=this.W,b=this.i,d=a.u,f=a.H,k=c.u,e=c.H;void 0===f&&(f=0);void 0===e&&(e=0);b=-this.S*(b.i.x*d.x+b.i.y*d.y+b.q*f+(b.k.x*k.x+b.k.y*k.y)+b.B*e);this.q+=b;a.u.x+=a.J*b*this.i.i.x;a.u.y+=a.J*b*this.i.i.y;a.H+=a.R*b*this.i.q;c.u.x+=c.J*b*this.i.k.x;c.u.y+=c.J*b*this.i.k.y;c.H+=c.R*b*this.i.B};
mi.prototype.Le=function(){var a=this.T,c=this.W,b=0,d=0;this.B?b=oi(this.B):b=this.K.Hi();this.G?d=oi(this.G):d=this.I.Hi();b=-this.S*(this.X-(b+this.k*d));a.m.C.x+=a.J*b*this.i.i.x;a.m.C.y+=a.J*b*this.i.i.y;a.m.M+=a.R*b*this.i.q;c.m.C.x+=c.J*b*this.i.k.x;c.m.C.y+=c.J*b*this.i.k.y;c.m.M+=c.R*b*this.i.B;Uf(a);Uf(c);return!0};function pi(){hi.call(this);this.type=6;this.G=this.B=null;this.I=1}X(pi,hi);pi.prototype.q=function(){return new mi(this)};function ni(){this.i=Z(0,0);this.k=Z(0,0)}
ni.prototype.na=function(){this.i.na();this.q=0;this.k.na();this.B=0};ni.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.i.L(a);this.q=c;this.k.L(b);this.B=d};
function ri(a){fi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.cd=Z(0,0);this.kd=Z(0,0);this.k=Z(0,0);this.I=Z(0,0);this.X=new Cd;this.i=Z(0,0);this.ia.L(a.U);this.ja.L(a.Y);this.cd.L(a.B);this.kd.x=-this.cd.y;this.kd.y=this.cd.x;this.i.na();this.Aa=this.Za=0;this.Vb=a.X;this.qc=a.Za;this.xm=a.wa;this.Am=a.za;this.Jg=a.G;this.Ji=a.I;this.Oa=0;this.k.na();this.I.na()}X(ri,fi);
ri.prototype.Hi=function(){var a=this.T,c=this.W,b=Qf(a,this.ia),d=Qf(c,this.ja),c=d.x-b.x,b=d.y-b.y,a=wd(a.F.A,this.cd);return a.x*c+a.y*b};
ri.prototype.Ke=function(a){var c=this.T,b=this.W,d,f=0;this.Ne.L(c.m.N);this.Oe.L(b.m.N);var k=c.jd();b.jd();d=c.F.A;var e=this.ia.x-this.Ne.x,g=this.ia.y-this.Ne.y,f=d.n.x*e+d.p.x*g,g=d.n.y*e+d.p.y*g,e=f;d=b.F.A;var h=this.ja.x-this.Oe.x,m=this.ja.y-this.Oe.y,f=d.n.x*h+d.p.x*m,m=d.n.y*h+d.p.y*m,h=f;d=b.m.C.x+h-c.m.C.x-e;f=b.m.C.y+m-c.m.C.y-g;this.U=c.J;this.Y=b.J;this.wa=c.R;this.za=b.R;this.k.L(wd(k.A,this.cd));this.q=(d+e)*this.k.y-(f+g)*this.k.x;this.B=h*this.k.y-m*this.k.x;this.Za=this.U+this.Y+
this.wa*this.q*this.q+this.za*this.B*this.B;this.Za=this.Za>Number.MIN_VALUE?1/this.Za:0;this.I.L(wd(k.A,this.kd));this.G=(d+e)*this.I.y-(f+g)*this.I.x;this.K=h*this.I.y-m*this.I.x;k=this.U;e=this.Y;g=this.wa;h=this.za;this.X.n.x=k+e+g*this.G*this.G+h*this.K*this.K;this.X.n.y=g*this.G*this.q+h*this.K*this.B;this.X.p.x=this.X.n.y;this.X.p.y=k+e+g*this.q*this.q+h*this.B*this.B;this.Jg?(d=this.k.x*d+this.k.y*f,.01>Math.abs(this.qc-this.Vb)?this.Oa=3:d<=this.Vb?1!=this.Oa&&(this.Oa=1,this.i.y=0):d>=this.qc?
2!=this.Oa&&(this.Oa=2,this.i.y=0):(this.Oa=0,this.i.y=0)):this.Oa=0;0==this.Ji&&(this.Aa=0);a.Of?(this.i.x*=a.Nb,this.i.y*=a.Nb,this.Aa*=a.Nb,a=this.i.x*this.I.x+(this.Aa+this.i.y)*this.k.x,d=this.i.x*this.I.y+(this.Aa+this.i.y)*this.k.y,f=this.i.x*this.G+(this.Aa+this.i.y)*this.q,k=this.i.x*this.K+(this.Aa+this.i.y)*this.B,c.u.x-=this.U*a,c.u.y-=this.U*d,c.H-=this.wa*f,b.u.x+=this.Y*a,b.u.y+=this.Y*d,b.H+=this.za*k):(this.i.na(),this.Aa=0)};
ri.prototype.Me=function(a){var c=this.T,b=this.W,d=c.u,f=c.H,k=b.u,e=b.H,g=0,h=0,m=0,l=0;this.Ji&&3!=this.Oa&&(l=this.Za*(this.Am-(this.k.x*(k.x-d.x)+this.k.y*(k.y-d.y)+this.B*e-this.q*f)),g=this.Aa,h=a.ya*this.xm,this.Aa=Bd(this.Aa+l,-h,h),l=this.Aa-g,g=l*this.k.x,h=l*this.k.y,m=l*this.q,l*=this.B,d.x-=this.U*g,d.y-=this.U*h,f-=this.wa*m,k.x+=this.Y*g,k.y+=this.Y*h,e+=this.za*l);h=this.I.x*(k.x-d.x)+this.I.y*(k.y-d.y)+this.K*e-this.G*f;this.Jg&&0!=this.Oa?(m=this.k.x*(k.x-d.x)+this.k.y*(k.y-d.y)+
this.B*e-this.q*f,g=this.i.Ub(),a=Gd(this.X,Z(0,0),-h,-m),this.i.Je(a),1==this.Oa?this.i.y=Math.max(this.i.y,0):2==this.Oa&&(this.i.y=Math.min(this.i.y,0)),h=-h-(this.i.y-g.y)*this.X.p.x,m=0,m=0!=this.X.n.x?h/this.X.n.x+g.x:g.x,this.i.x=m,a.x=this.i.x-g.x,a.y=this.i.y-g.y,g=a.x*this.I.x+a.y*this.k.x,h=a.x*this.I.y+a.y*this.k.y,m=a.x*this.G+a.y*this.q,l=a.x*this.K+a.y*this.B):(a=0,a=0!=this.X.n.x?-h/this.X.n.x:0,this.i.x+=a,g=a*this.I.x,h=a*this.I.y,m=a*this.G,l=a*this.K);d.x-=this.U*g;d.y-=this.U*
h;f-=this.wa*m;k.x+=this.Y*g;k.y+=this.Y*h;e+=this.za*l;c.u.L(d);c.H=f;b.u.L(k);b.H=e};
ri.prototype.Le=function(){var a=this.T,c=this.W,b=a.m.C,d=a.m.M,f=c.m.C,k=c.m.M,e,g=0,h=0,m=0,l=0,n=e=0,q=0,h=!1,p=0,r=Dd(d),m=Dd(k);e=r;var q=this.ia.x-this.Ne.x,t=this.ia.y-this.Ne.y,g=e.n.x*q+e.p.x*t,t=e.n.y*q+e.p.y*t,q=g;e=m;m=this.ja.x-this.Oe.x;l=this.ja.y-this.Oe.y;g=e.n.x*m+e.p.x*l;l=e.n.y*m+e.p.y*l;m=g;e=f.x+m-b.x-q;g=f.y+l-b.y-t;if(this.Jg){this.k=wd(r,this.cd);this.q=(e+q)*this.k.y-(g+t)*this.k.x;this.B=m*this.k.y-l*this.k.x;var v=this.k.x*e+this.k.y*g;.01>Math.abs(this.qc-this.Vb)?(p=
Bd(v,-.2,.2),n=Math.abs(v),h=!0):v<=this.Vb?(p=Bd(v-this.Vb+.005,-.2,0),n=this.Vb-v,h=!0):v>=this.qc&&(p=Bd(v-this.qc+.005,0,.2),n=v-this.qc,h=!0)}this.I=wd(r,this.kd);this.G=(e+q)*this.I.y-(g+t)*this.I.x;this.K=m*this.I.y-l*this.I.x;r=Z(0,0);t=this.I.x*e+this.I.y*g;n=Math.max(n,Math.abs(t));q=0;h?(h=this.U,m=this.Y,l=this.wa,e=this.za,this.X.n.x=h+m+l*this.G*this.G+e*this.K*this.K,this.X.n.y=l*this.G*this.q+e*this.K*this.B,this.X.p.x=this.X.n.y,this.X.p.y=h+m+l*this.q*this.q+e*this.B*this.B,Gd(this.X,
r,-t,-p)):(h=this.U,m=this.Y,l=this.wa,e=this.za,p=h+m+l*this.G*this.G+e*this.K*this.K,r.x=0!=p?-t/p:0,r.y=0);p=r.x*this.I.x+r.y*this.k.x;h=r.x*this.I.y+r.y*this.k.y;t=r.x*this.G+r.y*this.q;r=r.x*this.K+r.y*this.B;b.x-=this.U*p;b.y-=this.U*h;d-=this.wa*t;f.x+=this.Y*p;f.y+=this.Y*h;k+=this.za*r;a.m.M=d;c.m.M=k;Uf(a);Uf(c);return.005>=n&&q<=md};function si(){hi.call(this);this.U=Z(0,0);this.Y=Z(0,0);this.B=Z(0,0);this.type=7;this.B.Set(1,0);this.G=!1;this.Za=this.X=0;this.I=!1;this.za=this.wa=0}
X(si,hi);si.prototype.q=function(){return new ri(this)};function ti(a){fi.call(this,a);this.ia=Z(0,0);this.ja=Z(0,0);this.cd=Z(0,0);this.kd=Z(0,0);this.I=Z(0,0);this.X=Z(0,0);this.k=new Hd;this.i=new Id(0,0,0);this.ia.L(a.U);this.ja.L(a.Y);this.cd.L(a.B);this.kd.x=-this.cd.y;this.kd.y=this.cd.x;this.kt=a.Za;this.i.na();this.Aa=this.Za=0;this.Vb=a.X;this.qc=a.Aa;this.xm=a.wa;this.Am=a.za;this.Jg=a.G;this.Ji=a.I;this.Oa=0;this.I.na();this.X.na()}X(ti,fi);
ti.prototype.Hi=function(){var a=this.T,c=this.W,b=Qf(a,this.ia),d=Qf(c,this.ja),c=d.x-b.x,b=d.y-b.y,a=wd(a.F.A,this.cd);return a.x*c+a.y*b};
ti.prototype.Ke=function(a){var c=this.T,b=this.W,d,f=0;this.Ne.L(c.m.N);this.Oe.L(b.m.N);var k=c.jd();b.jd();d=c.F.A;var e=this.ia.x-this.Ne.x,g=this.ia.y-this.Ne.y,f=d.n.x*e+d.p.x*g,g=d.n.y*e+d.p.y*g,e=f;d=b.F.A;var h=this.ja.x-this.Oe.x,m=this.ja.y-this.Oe.y,f=d.n.x*h+d.p.x*m,m=d.n.y*h+d.p.y*m,h=f;d=b.m.C.x+h-c.m.C.x-e;f=b.m.C.y+m-c.m.C.y-g;this.U=c.J;this.Y=b.J;this.wa=c.R;this.za=b.R;this.I.L(wd(k.A,this.cd));this.q=(d+e)*this.I.y-(f+g)*this.I.x;this.B=h*this.I.y-m*this.I.x;this.Za=this.U+this.Y+
this.wa*this.q*this.q+this.za*this.B*this.B;this.Za>Number.MIN_VALUE&&(this.Za=1/this.Za);this.X.L(wd(k.A,this.kd));this.G=(d+e)*this.X.y-(f+g)*this.X.x;this.K=h*this.X.y-m*this.X.x;k=this.U;e=this.Y;g=this.wa;h=this.za;this.k.n.x=k+e+g*this.G*this.G+h*this.K*this.K;this.k.n.y=g*this.G+h*this.K;this.k.n.z=g*this.G*this.q+h*this.K*this.B;this.k.p.x=this.k.n.y;this.k.p.y=g+h;this.k.p.z=g*this.q+h*this.B;this.k.i.x=this.k.n.z;this.k.i.y=this.k.p.z;this.k.i.z=k+e+g*this.q*this.q+h*this.B*this.B;this.Jg?
(d=this.I.x*d+this.I.y*f,.01>Math.abs(this.qc-this.Vb)?this.Oa=3:d<=this.Vb?1!=this.Oa&&(this.Oa=1,this.i.z=0):d>=this.qc?2!=this.Oa&&(this.Oa=2,this.i.z=0):(this.Oa=0,this.i.z=0)):this.Oa=0;0==this.Ji&&(this.Aa=0);a.Of?(this.i.x*=a.Nb,this.i.y*=a.Nb,this.Aa*=a.Nb,a=this.i.x*this.X.x+(this.Aa+this.i.z)*this.I.x,d=this.i.x*this.X.y+(this.Aa+this.i.z)*this.I.y,f=this.i.x*this.G+this.i.y+(this.Aa+this.i.z)*this.q,k=this.i.x*this.K+this.i.y+(this.Aa+this.i.z)*this.B,c.u.x-=this.U*a,c.u.y-=this.U*d,c.H-=
this.wa*f,b.u.x+=this.Y*a,b.u.y+=this.Y*d,b.H+=this.za*k):(this.i.na(),this.Aa=0)};
ti.prototype.Me=function(a){var c=this.T,b=this.W,d=c.u,f=c.H,k=b.u,e=b.H,g=0,h=0,m=0,l=0;this.Ji&&3!=this.Oa&&(l=this.Za*(this.Am-(this.I.x*(k.x-d.x)+this.I.y*(k.y-d.y)+this.B*e-this.q*f)),g=this.Aa,a=a.ya*this.xm,this.Aa=Bd(this.Aa+l,-a,a),l=this.Aa-g,g=l*this.I.x,h=l*this.I.y,m=l*this.q,l*=this.B,d.x-=this.U*g,d.y-=this.U*h,f-=this.wa*m,k.x+=this.Y*g,k.y+=this.Y*h,e+=this.za*l);m=this.X.x*(k.x-d.x)+this.X.y*(k.y-d.y)+this.K*e-this.G*f;h=e-f;this.Jg&&0!=this.Oa?(a=this.I.x*(k.x-d.x)+this.I.y*(k.y-
d.y)+this.B*e-this.q*f,g=this.i.Ub(),a=ce(this.k,new Id(0,0,0),-m,-h,-a),this.i.Je(a),1==this.Oa?this.i.z=Math.max(this.i.z,0):2==this.Oa&&(this.i.z=Math.min(this.i.z,0)),m=-m-(this.i.z-g.z)*this.k.i.x,h=-h-(this.i.z-g.z)*this.k.i.y,h=be(this.k,Z(0,0),m,h),h.x+=g.x,h.y+=g.y,this.i.x=h.x,this.i.y=h.y,a.x=this.i.x-g.x,a.y=this.i.y-g.y,a.z=this.i.z-g.z,g=a.x*this.X.x+a.z*this.I.x,h=a.x*this.X.y+a.z*this.I.y,m=a.x*this.G+a.y+a.z*this.q,l=a.x*this.K+a.y+a.z*this.B,d.x-=this.U*g,d.y-=this.U*h,f-=this.wa*
m,k.x+=this.Y*g,k.y+=this.Y*h,e+=this.za*l):(a=be(this.k,Z(0,0),-m,-h),this.i.x+=a.x,this.i.y+=a.y,g=a.x*this.X.x,h=a.x*this.X.y,m=a.x*this.G+a.y,l=a.x*this.K+a.y,d.x-=this.U*g,d.y-=this.U*h,f-=this.wa*m,k.x+=this.Y*g,k.y+=this.Y*h,e+=this.za*l);c.u.L(d);c.H=f;b.u.L(k);b.H=e};
ti.prototype.Le=function(){var a=this.T,c=this.W,b=a.m.C,d=a.m.M,f=c.m.C,k=c.m.M,e,g=0,h=0,m=0,l=g=e=0,n=0,h=!1,q=0,p=Dd(d),r=Dd(k);e=p;var n=this.ia.x-this.Ne.x,t=this.ia.y-this.Ne.y,g=e.n.x*n+e.p.x*t,t=e.n.y*n+e.p.y*t,n=g;e=r;r=this.ja.x-this.Oe.x;m=this.ja.y-this.Oe.y;g=e.n.x*r+e.p.x*m;m=e.n.y*r+e.p.y*m;r=g;e=f.x+r-b.x-n;g=f.y+m-b.y-t;if(this.Jg){this.I=wd(p,this.cd);this.q=(e+n)*this.I.y-(g+t)*this.I.x;this.B=r*this.I.y-m*this.I.x;var v=this.I.x*e+this.I.y*g;.01>Math.abs(this.qc-this.Vb)?(q=Bd(v,
-.2,.2),l=Math.abs(v),h=!0):v<=this.Vb?(q=Bd(v-this.Vb+.005,-.2,0),l=this.Vb-v,h=!0):v>=this.qc&&(q=Bd(v-this.qc+.005,0,.2),l=v-this.qc,h=!0)}this.X=wd(p,this.kd);this.G=(e+n)*this.X.y-(g+t)*this.X.x;this.K=r*this.X.y-m*this.X.x;p=new Id(0,0,0);t=this.X.x*e+this.X.y*g;r=k-d-this.kt;l=Math.max(l,Math.abs(t));n=Math.abs(r);h?(h=this.U,m=this.Y,e=this.wa,g=this.za,this.k.n.x=h+m+e*this.G*this.G+g*this.K*this.K,this.k.n.y=e*this.G+g*this.K,this.k.n.z=e*this.G*this.q+g*this.K*this.B,this.k.p.x=this.k.n.y,
this.k.p.y=e+g,this.k.p.z=e*this.q+g*this.B,this.k.i.x=this.k.n.z,this.k.i.y=this.k.p.z,this.k.i.z=h+m+e*this.q*this.q+g*this.B*this.B,ce(this.k,p,-t,-r,-q)):(h=this.U,m=this.Y,e=this.wa,g=this.za,q=e*this.G+g*this.K,v=e+g,this.k.n.Set(h+m+e*this.G*this.G+g*this.K*this.K,q,0),this.k.p.Set(q,v,0),q=be(this.k,Z(0,0),-t,-r),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.X.x+p.z*this.I.x;h=p.x*this.X.y+p.z*this.I.y;t=p.x*this.G+p.y+p.z*this.q;p=p.x*this.K+p.y+p.z*this.B;b.x-=this.U*q;b.y-=this.U*h;d-=this.wa*t;f.x+=
this.Y*q;f.y+=this.Y*h;k+=this.za*p;a.m.M=d;c.m.M=k;Uf(a);Uf(c);return.005>=l&&n<=md};function ui(){hi.call(this);this.U=Z(0,0);this.Y=Z(0,0);this.B=Z(0,0);this.type=2;this.B.Set(1,0);this.Za=0;this.G=!1;this.Aa=this.X=0;this.I=!1;this.za=this.wa=0}X(ui,hi);ui.prototype.q=function(){return new ti(this)};
function vi(a){fi.call(this,a);this.U=Z(0,0);this.Y=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=Z(0,0);this.k=Z(0,0);this.G=this.T.vd.dw;this.U.x=a.B.x-this.G.F.position.x;this.U.y=a.B.y-this.G.F.position.y;this.Y.x=a.G.x-this.G.F.position.x;this.Y.y=a.G.y-this.G.F.position.y;this.ia.L(a.I);this.ja.L(a.U);this.q=a.Y;this.za=0+0*this.q;this.qc=Math.min(0,this.za-this.q*wi);this.kd=Math.min(0,(this.za-wi)/this.q);this.I=this.K=this.B=0}X(vi,fi);
vi.prototype.Ke=function(a){var c=this.T,b=this.W,d;d=c.F.A;var f=this.ia.x-c.m.N.x,k=this.ia.y-c.m.N.y,e=d.n.x*f+d.p.x*k,k=d.n.y*f+d.p.y*k,f=e;d=b.F.A;var g=this.ja.x-b.m.N.x,h=this.ja.y-b.m.N.y,e=d.n.x*g+d.p.x*h,h=d.n.y*g+d.p.y*h,g=e;d=b.m.C.x+g;var e=b.m.C.y+h,m=this.G.F.position.x+this.Y.x,l=this.G.F.position.y+this.Y.y;this.i.Set(c.m.C.x+f-(this.G.F.position.x+this.U.x),c.m.C.y+k-(this.G.F.position.y+this.U.y));this.k.Set(d-m,e-l);d=ie(this.i);e=ie(this.k);.005<d?this.i.Ed(1/d):this.i.na();.005<
e?this.k.Ed(1/e):this.k.na();0<this.za-d-this.q*e?this.B=this.Vb=0:this.Vb=2;d<this.qc?this.K=this.Aa=0:this.Aa=2;e<this.kd?this.I=this.Oa=0:this.Oa=2;d=f*this.i.y-k*this.i.x;e=g*this.k.y-h*this.k.x;this.X=c.J+c.R*d*d;this.wa=b.J+b.R*e*e;this.Za=this.X+this.q*this.q*this.wa;this.X=1/this.X;this.wa=1/this.wa;this.Za=1/this.Za;a.Of?(this.B*=a.Nb,this.K*=a.Nb,this.I*=a.Nb,a=(-this.B-this.K)*this.i.x,d=(-this.B-this.K)*this.i.y,e=(-this.q*this.B-this.I)*this.k.x,m=(-this.q*this.B-this.I)*this.k.y,c.u.x+=
c.J*a,c.u.y+=c.J*d,c.H+=c.R*(f*d-k*a),b.u.x+=b.J*e,b.u.y+=b.J*m,b.H+=b.R*(g*m-h*e)):this.I=this.K=this.B=0};
vi.prototype.Me=function(){var a=this.T,c=this.W,b;b=a.F.A;var d=this.ia.x-a.m.N.x,f=this.ia.y-a.m.N.y,k=b.n.x*d+b.p.x*f,f=b.n.y*d+b.p.y*f,d=k;b=c.F.A;var e=this.ja.x-c.m.N.x,g=this.ja.y-c.m.N.y,k=b.n.x*e+b.p.x*g,g=b.n.y*e+b.p.y*g,e=k,h=k=b=0,m=0;b=m=b=m=h=k=b=0;2==this.Vb&&(b=a.u.x+-a.H*f,k=a.u.y+a.H*d,h=c.u.x+-c.H*g,m=c.u.y+c.H*e,b=-(this.i.x*b+this.i.y*k)-this.q*(this.k.x*h+this.k.y*m),m=this.Za*-b,b=this.B,this.B=Math.max(0,this.B+m),m=this.B-b,b=-m*this.i.x,k=-m*this.i.y,h=-this.q*m*this.k.x,
m=-this.q*m*this.k.y,a.u.x+=a.J*b,a.u.y+=a.J*k,a.H+=a.R*(d*k-f*b),c.u.x+=c.J*h,c.u.y+=c.J*m,c.H+=c.R*(e*m-g*h));2==this.Aa&&(b=a.u.x+-a.H*f,k=a.u.y+a.H*d,b=-(this.i.x*b+this.i.y*k),m=-this.X*b,b=this.K,this.K=Math.max(0,this.K+m),m=this.K-b,b=-m*this.i.x,k=-m*this.i.y,a.u.x+=a.J*b,a.u.y+=a.J*k,a.H+=a.R*(d*k-f*b));2==this.Oa&&(h=c.u.x+-c.H*g,m=c.u.y+c.H*e,b=-(this.k.x*h+this.k.y*m),m=-this.wa*b,b=this.I,this.I=Math.max(0,this.I+m),m=this.I-b,h=-m*this.k.x,m=-m*this.k.y,c.u.x+=c.J*h,c.u.y+=c.J*m,c.H+=
c.R*(e*m-g*h))};
vi.prototype.Le=function(){var a=this.T,c=this.W,b,d=this.G.F.position.x+this.U.x,f=this.G.F.position.y+this.U.y,k=this.G.F.position.x+this.Y.x,e=this.G.F.position.y+this.Y.y,g=0,h=0,m=0,l=0,n=b=0,q=0,p=0,r=n=p=b=n=b=0;2==this.Vb&&(b=a.F.A,g=this.ia.x-a.m.N.x,h=this.ia.y-a.m.N.y,n=b.n.x*g+b.p.x*h,h=b.n.y*g+b.p.y*h,g=n,b=c.F.A,m=this.ja.x-c.m.N.x,l=this.ja.y-c.m.N.y,n=b.n.x*m+b.p.x*l,l=b.n.y*m+b.p.y*l,m=n,b=a.m.C.x+g,n=a.m.C.y+h,q=c.m.C.x+m,p=c.m.C.y+l,this.i.Set(b-d,n-f),this.k.Set(q-k,p-e),b=ie(this.i),
n=ie(this.k),.005<b?this.i.Ed(1/b):this.i.na(),.005<n?this.k.Ed(1/n):this.k.na(),b=this.za-b-this.q*n,r=Math.max(r,-b),b=Bd(b+.005,-.2,0),p=-this.Za*b,b=-p*this.i.x,n=-p*this.i.y,q=-this.q*p*this.k.x,p=-this.q*p*this.k.y,a.m.C.x+=a.J*b,a.m.C.y+=a.J*n,a.m.M+=a.R*(g*n-h*b),c.m.C.x+=c.J*q,c.m.C.y+=c.J*p,c.m.M+=c.R*(m*p-l*q),Uf(a),Uf(c));2==this.Aa&&(b=a.F.A,g=this.ia.x-a.m.N.x,h=this.ia.y-a.m.N.y,n=b.n.x*g+b.p.x*h,h=b.n.y*g+b.p.y*h,g=n,b=a.m.C.x+g,n=a.m.C.y+h,this.i.Set(b-d,n-f),b=ie(this.i),.005<b?
(this.i.x*=1/b,this.i.y*=1/b):this.i.na(),b=this.qc-b,r=Math.max(r,-b),b=Bd(b+.005,-.2,0),p=-this.X*b,b=-p*this.i.x,n=-p*this.i.y,a.m.C.x+=a.J*b,a.m.C.y+=a.J*n,a.m.M+=a.R*(g*n-h*b),Uf(a));2==this.Oa&&(b=c.F.A,m=this.ja.x-c.m.N.x,l=this.ja.y-c.m.N.y,n=b.n.x*m+b.p.x*l,l=b.n.y*m+b.p.y*l,m=n,q=c.m.C.x+m,p=c.m.C.y+l,this.k.Set(q-k,p-e),n=ie(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.na(),b=this.kd-n,r=Math.max(r,-b),b=Bd(b+.005,-.2,0),p=-this.wa*b,q=-p*this.k.x,p=-p*this.k.y,c.m.C.x+=c.J*q,c.m.C.y+=
c.J*p,c.m.M+=c.R*(m*p-l*q),Uf(c));return.005>r};var wi=1;function xi(){hi.call(this);this.B=Z(0,0);this.G=Z(0,0);this.I=Z(0,0);this.U=Z(0,0);this.type=4;this.B.Set(-1,1);this.G.Set(1,1);this.I.Set(-1,0);this.U.Set(1,0);this.Y=1;this.K=!0}X(xi,hi);xi.prototype.q=function(){return new vi(this)};
function yi(a){fi.call(this,a);this.X=new Cd;this.I=new Cd;this.U=new Cd;this.Y=new Cd;this.k=new Id(0,0,0);this.B=Z(0,0);this.K=Z(0,0);this.ia=Z(0,0);this.ja=Z(0,0);this.i=new Id(0,0,0);this.S=new Hd;this.ia.L(a.B);this.ja.L(a.G);this.Aa=a.U;this.i.na();this.G=0;this.wa=a.Y;this.Oa=a.X;this.kd=a.Za;this.qc=a.za;this.za=a.I;this.Vb=a.wa;this.q=0}X(yi,fi);function oi(a){return a.W.m.M-a.T.m.M-a.Aa}
yi.prototype.Ke=function(a){var c=this.T,b=this.W,d,f=0;d=c.F.A;var k=this.ia.x-c.m.N.x,e=this.ia.y-c.m.N.y,f=d.n.x*k+d.p.x*e,e=d.n.y*k+d.p.y*e,k=f;d=b.F.A;var g=this.ja.x-b.m.N.x,h=this.ja.y-b.m.N.y,f=d.n.x*g+d.p.x*h,h=d.n.y*g+d.p.y*h,g=f;d=c.J;var f=b.J,m=c.R,l=b.R;this.S.n.x=d+f+e*e*m+h*h*l;this.S.p.x=-e*k*m-h*g*l;this.S.i.x=-e*m-h*l;this.S.n.y=this.S.p.x;this.S.p.y=d+f+k*k*m+g*g*l;this.S.i.y=k*m+g*l;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=m+l;this.Za=1/(m+l);this.Vb||(this.G=0);
if(this.za){var n=b.m.M-c.m.M-this.Aa;Math.abs(this.Oa-this.wa)<2*md?this.q=3:n<=this.wa?(1!=this.q&&(this.i.z=0),this.q=1):n>=this.Oa?(2!=this.q&&(this.i.z=0),this.q=2):(this.q=0,this.i.z=0)}else this.q=0;a.Of?(this.i.x*=a.Nb,this.i.y*=a.Nb,this.G*=a.Nb,a=this.i.x,n=this.i.y,c.u.x-=d*a,c.u.y-=d*n,c.H-=m*(k*n-e*a+this.G+this.i.z),b.u.x+=f*a,b.u.y+=f*n,b.H+=l*(g*n-h*a+this.G+this.i.z)):(this.i.na(),this.G=0)};
yi.prototype.Me=function(a){var c=this.T,b=this.W,d=0,f=d=0,k=0,e=0,g=0,h=c.u,m=c.H,l=b.u,n=b.H,q=c.J,p=b.J,r=c.R,t=b.R;this.Vb&&3!=this.q&&(f=this.Za*-(n-m-this.qc),k=this.G,e=a.ya*this.kd,this.G=Bd(this.G+f,-e,e),f=this.G-k,m-=r*f,n+=t*f);if(this.za&&0!=this.q){a=c.F.A;f=this.ia.x-c.m.N.x;k=this.ia.y-c.m.N.y;d=a.n.x*f+a.p.x*k;k=a.n.y*f+a.p.y*k;f=d;a=b.F.A;e=this.ja.x-b.m.N.x;g=this.ja.y-b.m.N.y;d=a.n.x*e+a.p.x*g;g=a.n.y*e+a.p.y*g;e=d;a=l.x+-n*g-h.x- -m*k;var v=l.y+n*e-h.y-m*f;ce(this.S,this.k,-a,
-v,-(n-m));3==this.q?this.i.Je(this.k):1==this.q?(d=this.i.z+this.k.z,0>d&&(be(this.S,this.K,-a,-v),this.k.x=this.K.x,this.k.y=this.K.y,this.k.z=-this.i.z,this.i.x+=this.K.x,this.i.y+=this.K.y,this.i.z=0)):2==this.q&&(d=this.i.z+this.k.z,0<d&&(be(this.S,this.K,-a,-v),this.k.x=this.K.x,this.k.y=this.K.y,this.k.z=-this.i.z,this.i.x+=this.K.x,this.i.y+=this.K.y,this.i.z=0));h.x-=q*this.k.x;h.y-=q*this.k.y;m-=r*(f*this.k.y-k*this.k.x+this.k.z);l.x+=p*this.k.x;l.y+=p*this.k.y;n+=t*(e*this.k.y-g*this.k.x+
this.k.z)}else a=c.F.A,f=this.ia.x-c.m.N.x,k=this.ia.y-c.m.N.y,d=a.n.x*f+a.p.x*k,k=a.n.y*f+a.p.y*k,f=d,a=b.F.A,e=this.ja.x-b.m.N.x,g=this.ja.y-b.m.N.y,d=a.n.x*e+a.p.x*g,g=a.n.y*e+a.p.y*g,e=d,be(this.S,this.B,-(l.x+-n*g-h.x- -m*k),-(l.y+n*e-h.y-m*f)),this.i.x+=this.B.x,this.i.y+=this.B.y,h.x-=q*this.B.x,h.y-=q*this.B.y,m-=r*(f*this.B.y-k*this.B.x),l.x+=p*this.B.x,l.y+=p*this.B.y,n+=t*(e*this.B.y-g*this.B.x);c.u.L(h);c.H=m;b.u.L(l);b.H=n};
yi.prototype.Le=function(){var a=0,c,b=this.T,d=this.W,f=0,k=c=0,e=0,k=0;if(this.za&&0!=this.q){var a=d.m.M-b.m.M-this.Aa,g=0;3==this.q?(a=Bd(a-this.wa,-nd,nd),g=-this.Za*a,f=Math.abs(a)):1==this.q?(a-=this.wa,f=-a,a=Bd(a+md,-nd,0),g=-this.Za*a):2==this.q&&(f=a-=this.Oa,a=Bd(a-md,0,nd),g=-this.Za*a);b.m.M-=b.R*g;d.m.M+=d.R*g;Uf(b);Uf(d)}c=b.F.A;g=this.ia.x-b.m.N.x;a=this.ia.y-b.m.N.y;k=c.n.x*g+c.p.x*a;a=c.n.y*g+c.p.y*a;g=k;c=d.F.A;var h=this.ja.x-d.m.N.x,m=this.ja.y-d.m.N.y,k=c.n.x*h+c.p.x*m,m=c.n.y*
h+c.p.y*m,h=k,e=d.m.C.x+h-b.m.C.x-g,k=d.m.C.y+m-b.m.C.y-a,l=e*e+k*k;c=Math.sqrt(l);var n=b.J,q=d.J,p=b.R,r=d.R;l>.05*.05&&(l=1/(n+q),e=l*-e,k=l*-k,b.m.C.x-=.5*n*e,b.m.C.y-=.5*n*k,d.m.C.x+=.5*q*e,d.m.C.y+=.5*q*k,e=d.m.C.x+h-b.m.C.x-g,k=d.m.C.y+m-b.m.C.y-a);this.I.n.x=n+q;this.I.p.x=0;this.I.n.y=0;this.I.p.y=n+q;this.U.n.x=p*a*a;this.U.p.x=-p*g*a;this.U.n.y=-p*g*a;this.U.p.y=p*g*g;this.Y.n.x=r*m*m;this.Y.p.x=-r*h*m;this.Y.n.y=-r*h*m;this.Y.p.y=r*h*h;Ed(this.X,this.I);n=this.X;q=this.U;n.n.Je(q.n);n.p.Je(q.p);
n=this.X;q=this.Y;n.n.Je(q.n);n.p.Je(q.p);Gd(this.X,zi,-e,-k);e=zi.x;k=zi.y;b.m.C.x-=b.J*e;b.m.C.y-=b.J*k;b.m.M-=b.R*(g*k-a*e);d.m.C.x+=d.J*e;d.m.C.y+=d.J*k;d.m.M+=d.R*(h*k-m*e);Uf(b);Uf(d);return.005>=c&&f<=md};var zi=Z(0,0);function Ai(){hi.call(this);this.B=Z(0,0);this.G=Z(0,0);this.type=1;this.B.na();this.G.na();this.za=this.Za=this.X=this.Y=this.U=0;this.wa=this.I=!1}X(Ai,hi);function Bi(a,c,b,d){a.i=c;a.k=b;a.B=zd(a.i.F,d);a.G=zd(a.k.F,d);a.U=a.k.Gg()-a.i.Gg()}Ai.prototype.q=function(){return new yi(this)};
function Ci(a){fi.call(this,a);this.k=Z(0,0);this.q=Z(0,0);this.i=new Id(0,0,0);this.S=new Hd;this.k.L(a.B);this.q.L(a.G);this.B=a.I}X(Ci,fi);
Ci.prototype.Ke=function(a){var c,b=0,d=this.T,f=this.W;c=d.F.A;var k=this.k.x-d.m.N.x,e=this.k.y-d.m.N.y,b=c.n.x*k+c.p.x*e,e=c.n.y*k+c.p.y*e,k=b;c=f.F.A;var g=this.q.x-f.m.N.x,h=this.q.y-f.m.N.y,b=c.n.x*g+c.p.x*h,h=c.n.y*g+c.p.y*h,g=b;c=d.J;var b=f.J,m=d.R,l=f.R;this.S.n.x=c+b+e*e*m+h*h*l;this.S.p.x=-e*k*m-h*g*l;this.S.i.x=-e*m-h*l;this.S.n.y=this.S.p.x;this.S.p.y=c+b+k*k*m+g*g*l;this.S.i.y=k*m+g*l;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=m+l;a.Of?(this.i.x*=a.Nb,this.i.y*=a.Nb,this.i.z*=
a.Nb,d.u.x-=c*this.i.x,d.u.y-=c*this.i.y,d.H-=m*(k*this.i.y-e*this.i.x+this.i.z),f.u.x+=b*this.i.x,f.u.y+=b*this.i.y,f.H+=l*(g*this.i.y-h*this.i.x+this.i.z)):this.i.na()};
Ci.prototype.Me=function(){var a,c=0,b=this.T,d=this.W,f=b.u,k=b.H,e=d.u,g=d.H,h=b.J,m=d.J,l=b.R,n=d.R;a=b.F.A;var q=this.k.x-b.m.N.x,p=this.k.y-b.m.N.y,c=a.n.x*q+a.p.x*p,p=a.n.y*q+a.p.y*p,q=c;a=d.F.A;var r=this.q.x-d.m.N.x,t=this.q.y-d.m.N.y,c=a.n.x*r+a.p.x*t,t=a.n.y*r+a.p.y*t,r=c;a=new Id(0,0,0);ce(this.S,a,-(e.x-g*t-f.x+k*p),-(e.y+g*r-f.y-k*q),-(g-k));this.i.Je(a);f.x-=h*a.x;f.y-=h*a.y;k-=l*(q*a.y-p*a.x+a.z);e.x+=m*a.x;e.y+=m*a.y;g+=n*(r*a.y-t*a.x+a.z);b.H=k;d.H=g};
Ci.prototype.Le=function(){var a,c=0,b=this.T,d=this.W;a=b.F.A;var f=this.k.x-b.m.N.x,k=this.k.y-b.m.N.y,c=a.n.x*f+a.p.x*k,k=a.n.y*f+a.p.y*k,f=c;a=d.F.A;var e=this.q.x-d.m.N.x,g=this.q.y-d.m.N.y,c=a.n.x*e+a.p.x*g,g=a.n.y*e+a.p.y*g,e=c;a=b.J;var c=d.J,h=b.R,m=d.R,l=d.m.C.x+e-b.m.C.x-f,n=d.m.C.y+g-b.m.C.y-k,q=d.m.M-b.m.M-this.B,p=Math.sqrt(l*l+n*n),r=Math.abs(q);.05<p&&(h*=1,m*=1);this.S.n.x=a+c+k*k*h+g*g*m;this.S.p.x=-k*f*h-g*e*m;this.S.i.x=-k*h-g*m;this.S.n.y=this.S.p.x;this.S.p.y=a+c+f*f*h+e*e*m;
this.S.i.y=f*h+e*m;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=h+m;var t=new Id(0,0,0);ce(this.S,t,-l,-n,-q);b.m.C.x-=a*t.x;b.m.C.y-=a*t.y;b.m.M-=h*(f*t.y-k*t.x+t.z);d.m.C.x+=c*t.x;d.m.C.y+=c*t.y;d.m.M+=m*(e*t.y-g*t.x+t.z);Uf(b);Uf(d);return.005>=p&&r<=md};function Di(){hi.call(this);this.B=Z(0,0);this.G=Z(0,0);this.type=8;this.I=0}X(Di,hi);Di.prototype.q=function(){return new Ci(this)};
var Lh=[new ve,new ve],Xh=[new ve,new ve],Yh=[new ve,new ve],Mh=Z(0,0),Nh=Z(0,0),Oh=Z(0,0),Uh=Z(0,0),Sh=Z(0,0),Th=Z(0,0),Vh=Z(0,0),Wh=Z(0,0),Ng=0,Tg=0,Ug=0,Rg=0,Sg=0,Og=new Af,Pg=new Ie,kf=new ee,pf=new ee,Ye=new function(){this.ra=Z(0,0);this.i=Z(0,0)},Qg=new Je,Tf=new ee,lg=new jg;new function(){this.position=Z(0,0);Z(0,0);Z(0,0);this.id=new te};new ee;
var Vg=new de,Wg=new de,Mg=new Bf,rh=new function(){this.i=Z(0,0);this.ma=[];for(var a=this.Cb=0;2>a;a++)this.ma[a]=Z(0,0)},Gh=new function(){this.i=Z(0,0);this.k=[];this.ma=[];for(var a=0;2>a;a++)this.ma[a]=Z(0,0)};function Li(a,c,b,d,f,k){var e;if(e=(b+.1>=a&&a>=f-.1||b-.1<=a&&a<=f+.1)&&(d+.1>=c&&c>=k-.1||d-.1<=c&&c<=k+.1))e=.1<Math.abs(f-b)?.1>Math.abs((k-d)/(f-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function Ni(a,c){var b=Oi(a),d=[],f,k,e,g,h,m,l,n,q;h=0;for(m=b.length;h<m;h++){k=b[h];f=[];f.length=k.length;l=q=0;for(n=k.length;l<n;l++)e=k[l],g=k[(l+1)%n],q+=e.x*g.y-e.y*g.x,f[l]=Z(e.x,e.y);q=Math.abs(q/2);q>=.001*c&&d.push(f)}return d}
function Oi(a){var c=[],b=0,d=0,f=0,k=0,e=0,g=e=0,h=0,m=0,l=0,k=0,n,q,p,r,t,v=k=b=0,u=0,f=[],h=[],x=!1,z=[],B=[];for(B.push(a);B.length;){c=B[0];d=c.length;x=!0;for(b=0;b<d;b++)if(m=b,l=b<d-1?b+1:b+1-d,k=b<d-2?b+2:b+2-d,a=c[m],n=c[l],q=c[k],k=a.x,f=a.y,h=n.x,e=n.y,g=q.x,q=q.y,k=k*e+h*q+g*f-f*h-e*g-q*k,0>k){x=!1;h=1E9;for(f=0;f<d;f++)if(f!==m&&f!==l){b=f;k=f<d-1?f+1:0;p=c[b];r=c[k];g=a.x;q=a.y;var D=n.x,C=n.y,e=p.x;p=p.y;var E=r.x;r=r.y;var y=D-g,A=C-q,H=E-e,aa=r-p,H=(H*(p-q)-aa*(e-g))/(A*H-y*aa),
y=g+H*y,A=q+H*A,g=Li(D,C,g,q,y,A),e=Li(y,A,e,p,E,r);if(q=g&&e?Z(y,A):null)e=n.x-q.x,g=n.y-q.y,e=e*e+g*g,e<h&&(u=b,v=k,t=q,h=e)}if(1E9===h)return[];f=[];h=[];b=u;k=v;p=c[b];r=c[k];v=t.y;u=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(u-v)||f.push(t);v=t.y;u=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(u-v)||h.push(t);u=-1;for(v=m;;){if(v!==k)f.push(c[v]);else{if(0>u||u>=d)return[];Li(r.x,r.y,c[u].x,c[u].y,a.x,a.y)||f.push(c[v]);break}u=v;0>v-1?v=d-1:v--}f.reverse();u=-1;for(v=l;;){if(v!==b)h.push(c[v]);else{if(0>
u||u>=d)return[];v!==b||Li(p.x,p.y,c[u].x,c[u].y,n.x,n.y)||h.push(c[v]);break}u=v;v+1>d-1?v=0:v++}B.push(f,h);B.shift();break}x&&z.push(B.shift())}return z}
function Ri(a){for(var c=0;4E3>c;c++)ge.push(new fe(0,0));this.j=a;this.hd=new xg(Z(0,10),!0);this.Tn=-1;a=new jg;a.behavior=this;a.BeginContact=function(a){this.behavior.j.xh(a.Jb.Pa().Se.r,a.Bb.Pa().Se.r)};this.hd.i.k=a;a=new gg;a.behavior=this;a.i=function(a,c){if(this.behavior.At)return!0;var f=a.Pa().Se.r.type,k=c.Pa().Se.r.type,e=f.Z.Physics_DisabledCollisions;return e&&e.contains(k)?!1:(e=k.Z.Physics_DisabledCollisions)&&e.contains(f)?!1:!0};this.hd.i.q=a;this.Mw=0;this.ik=8;this.Pj=3;this.At=
!0}
(function(){function a(){}var c=Ri.prototype;c.fb=function(a){this.behavior=a;this.j=a.j};c.fb.prototype.Ca=function(){};c.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j;this.hd=this.behavior.hd};var b=c.Xa.prototype;b.Ca=function(){this.yn=0!==this.ka[0];this.Bp=this.ka[1];this.uo=0!==this.ka[2];this.bg=this.ka[3];this.gg=this.ka[4];this.xg=this.ka[5];this.hi=this.ka[6];this.Ph=this.ka[7];this.Qh=0!==this.ka[8];this.enabled=0!==this.ka[9];this.body=null;this.r.Na();this.kl=
this.r.x;this.ll=this.r.y;this.Ye=this.r.P;this.Qn=this.Un=0;this.tr=this.Sn=!1;this.Nn=null;this.On=-1;this.wd?(this.wd.length=0,this.fe.length=0,this.xf.clear()):(this.wd=[],this.fe=[],this.xf=new ca);var a=this;this.dd||(this.Lj=function(b){a.jo(b)});this.j.Cm(this.Lj)};b.lr=function(){this.r.Na();this.Rm();this.Nn=this.r.jb;this.On=this.r.fa};b.uh=function(){this.Lk();this.fe.length=0;this.xf.clear();this.body&&(Bg(this.hd,this.body),this.body=null);this.j.xr(this.Lj)};b.wc=function(){var a={e:this.enabled,
im:this.yn,pr:this.uo,d:this.bg,fr:this.gg,re:this.xg,ld:this.hi,ad:this.Ph,b:this.Qh,mcj:this.fe};if(this.enabled){var b=Z(0,0);b.L(this.body.u);a.vx=b.x;a.vy=b.y;a.om=this.body.H}return a};b.Qc=function(a){this.Lk();this.fe.length=0;this.xf.clear();this.body&&(Bg(this.hd,this.body),this.body=null);this.enabled=a.e;this.yn=a.im;this.uo=a.pr;this.bg=a.d;this.gg=a.fr;this.xg=a.re;this.hi=a.ld;this.Ph=a.ad;this.Qh=a.b;this.kl=this.r.x;this.ll=this.r.y;this.Ye=this.r.P;this.Un=this.r.width;this.Qn=this.r.height;
this.enabled&&(this.Rm(),Of(this.body,Z(a.vx,a.vy)),this.body.rk(a.om),0===a.vx&&0===a.vy&&0===a.om||Pf(this.body,!0),this.fe=a.mcj)};b.Pe=function(){this.enabled&&this.Bo();this.behavior.Tn=this.j.Sd-1};b.jo=function(a){var b,c,d,h=a.uid;d=b=0;for(c=this.fe.length;b<c;b++)this.fe[d]=this.fe[b],d<this.wd.length&&(this.wd[d]=this.wd[b]),this.fe[b].uc[1]==h?Cg(this.hd,this.wd[b]):d++;this.fe.length=d;d<this.wd.length&&(this.wd.length=d);this.xf.remove(a)};b.Lk=function(){var a,b;a=0;for(b=this.wd.length;a<
b;a++)Cg(this.hd,this.wd[a]);this.wd.length=0};b.Bo=function(){var a,b,c;a=0;for(b=this.fe.length;a<b;a++)switch(c=this.fe[a],c.type){case 0:this.au(c.uc[0],c.uc[1],c.uc[2],c.uc[3],c.uc[4]);break;case 1:this.cu(c.uc[0],c.uc[1]);break;case 2:this.bu(c.uc[0],c.uc[1],c.uc[2],c.uc[3])}};b.Wt=function(){this.body&&(this.Lk(),Bg(this.hd,this.body),this.body=null,this.r.Z.Yd=null)};var d=[];b.Rm=function(){if(this.enabled){var a=this.r,b=!1,c=null,g=null,h,m,l,n,q,p,r,t,v,u,x,z,B;if(this.body){b=!0;c=Z(0,
0);c.L(this.body.u);g=this.body.H;t=this.xf.jf();h=0;for(m=t.length;h<m;h++)v=t[h].Z.Yd.Se,v.Lk();this.Wt()}v=new rg;v.bg=this.bg;v.gg=this.gg;v.xg=this.xg;h=new Wf;h.type=this.yn?0:2;a.Na();h.position.x=.02*a.cb.tg();h.position.y=.02*a.cb.ug();h.P=a.P;h.i=this.uo;h.hi=this.hi;h.Ph=this.Ph;h.Qh=this.Qh;t=this.r.Ga&&!this.r.Ga.fh();this.body=zg(this.hd,h);this.body.Se=this;h=this.Bp;t||this.r.Kf||0!==this.Bp||(h=1);m=Math.max(Math.abs(a.width),1);l=Math.max(Math.abs(a.height),1);u=0>a.width;x=0>a.height;
if(0===h)if(a.Kf)for(z=a.cb.tg()-a.x,r=a.cb.ug()-a.y,a.ny(d),t=[],h=0,m=d.length;h<m;++h){u=d[h];x=u.vw;if(u.bf){if(!u.bf.Fk){q=u.bf.Lb;n=u.bf.Rd;for(l=0;l<n;++l)t.push(Z(q[2*l],q[2*l+1]));l=u.id&3758096384;(-2147483648===l||1073741824===l||536870912===l||l&-2147483648&&l&1073741824&&l&536870912)&&t.reverse();u.bf.Fk=Ni(t,(x.right-x.left)*(x.bottom-x.top));l=0;for(n=t.length;l<n;++l)he(t[l]);t.length=0}l=0;for(n=u.bf.Fk.length;l<n;++l){B=u.bf.Fk[l];q=0;for(p=B.length;q<p;++q)t.push(Z(.02*(x.left+
B[q].x-z),.02*(x.top+B[q].y-r)));v.i=new pe;re(v.i,t);Hf(this.body,v);q=0;for(p=t.length;q<p;++q)he(t[q]);t.length=0}}else t.push(Z(.02*(x.left-z),.02*(x.top-r))),t.push(Z(.02*(x.right-z),.02*(x.top-r))),t.push(Z(.02*(x.right-z),.02*(x.bottom-r))),t.push(Z(.02*(x.left-z),.02*(x.bottom-r))),v.i=new pe,re(v.i,t),Hf(this.body,v);l=0;for(n=t.length;l<n;++l)he(t[l]);t.length=0}else{h=a.P;a.P=0;a.ba();a.Na();z=a.cb.tg()-a.x;r=a.cb.ug()-a.y;a.P=h;a.ba();a.Ga.Pg(u?-m:m,x?-l:l,0);q=a.Ga.Lb;n=a.Ga.Rd;t=[];
t.length=n;for(h=0;h<n;h++)t[h]=Z(q[2*h]-z,q[2*h+1]-r);u!==x&&t.reverse();z=Ni(t,m*l);for(h=0;h<n;h++)he(t[h]);if(z.length)for(h=0,m=z.length;h<m;h++){t=z[h];l=0;for(n=t.length;l<n;l++)r=t[l],r.x*=.02,r.y*=.02;v.i=new pe;re(v.i,t);Hf(this.body,v);l=0;for(n=t.length;l<n;l++)he(t[l])}else v.i=new pe,se(v.i,.01*m,.01*l),Hf(this.body,v)}else 1===h?(v.i=new pe,se(v.i,.01*m,.01*l)):v.i=new me(.01*Math.min(m,l)),Hf(this.body,v);a.Z.Yd=this.body;this.Un=a.width;this.Qn=a.height;if(b)for(Of(this.body,c),this.body.rk(g),
he(c),this.Bo(),t=this.xf.jf(),h=0,m=t.length;h<m;h++)v=t[h].Z.Yd.Se,v.Bo();d.length=0}};b.gd=function(){if(this.enabled){var a=this.r,b;0===this.behavior.Mw?b=this.j.Fh/60:(b=this.j.Xg(this.r),b>1/30&&(b=1/30));if(this.j.Sd>this.behavior.Tn&&0<this.j.Fh){this.hd.Uf(b,this.behavior.ik,this.behavior.Pj);for(b=this.hd.Fg.Qa($f);b;b=b.Ea())b.body.k.na(),b.body.B=0;this.behavior.Tn=this.j.Sd}if(this.tr||a.width!==this.Un||a.height!==this.Qn||a.jb!==this.Nn||a.fa!==this.On||a.Kf&&a.gr)this.Rm(),this.tr=
!1,this.Nn=a.jb,this.On=a.fa,a.Kf&&a.gr&&(a.gr=!1);b=a.P!==this.Ye;if(a.x!==this.kl||a.y!==this.ll){a.Na();var c=a.cb.tg(),d=a.cb.ug(),h=c-this.kl,m=d-this.ll,l=this.body,c=Z(.02*c,.02*d);Lf(l,c,l.Gg());Of(this.body,Z(h,m));this.Sn=!0;Pf(this.body,!0)}else this.Sn&&(this.Sn=!1,Of(this.body,Z(0,0)),h=this.body,m=Z(.02*a.cb.tg(),.02*a.cb.ug()),Lf(h,m,h.Gg()));b&&(this.body.lp(a.P),Pf(this.body,!0));h=this.body.F.position;b=h.x/.02;h=h.y/.02;m=this.body.Gg();if(b!==a.x||h!==a.y||m!==a.P)if(a.x=b,a.y=
h,a.P=m,a.ba(),a.Na(),b=a.cb.tg()-a.x,h=a.cb.ug()-a.y,0!==b||0!==h)a.x-=b,a.y-=h,a.ba();this.kl=a.x;this.ll=a.y;this.Ye=a.P}};b.Xk=function(a){return-1!==a&&this.r.be?0===a&&this.body?(this.body.F.position.x+this.body.m.N.x)/.02:this.r.be(a,!0):this.r.x};b.Yk=function(a){return-1!==a&&this.r.be?0===a&&this.body?(this.body.F.position.y+this.body.m.N.y)/.02:this.r.be(a,!1):this.r.y};c.V=new function(){};a.prototype.Eg=function(a,b,c){if(this.enabled){var d=this.Xk(c);c=this.Yk(c);this.body.Eg(Z(a,b),
Z(.02*d,.02*c))}};a.prototype.wm=function(a){this.enabled&&this.body.wm(G(a))};a.prototype.rk=function(a){this.enabled&&(this.body.rk(G(a)),Pf(this.body,!0))};b.au=function(a,b,c,d,h){if(this.enabled){var m=this.j.Yg(b);if(m&&m!=this.r&&m.Z.Yd){m.Z.Yd.Se.xf.add(this.r);var l=this.Xk(a),n=this.Yk(a),q,p;m.be?(q=m.be(c,!0),p=m.be(c,!1)):(q=m.x,p=m.y);c=l-q;a=n-p;b=new ji;m=m.Z.Yd;l=Z(.02*l,.02*n);q=Z(.02*q,.02*p);b.i=this.body;b.k=m;b.I.L(zd(b.i.F,l));b.U.L(zd(b.k.F,q));m=q.x-l.x;l=q.y-l.y;b.length=
Math.sqrt(m*m+l*l);b.G=0;b.B=0;b.length=.02*Math.sqrt(c*c+a*a);b.B=d;b.G=h;this.wd.push(Dg(this.hd,b))}}};b.cu=function(a,b){if(this.enabled){var c=this.j.Yg(b);if(c&&c!=this.r&&c.Z.Yd){c.Z.Yd.Se.xf.add(this.r);var d=this.Xk(a),h=this.Yk(a),m=new Ai;Bi(m,this.body,c.Z.Yd,Z(.02*d,.02*h));this.wd.push(Dg(this.hd,m))}}};b.bu=function(a,b,c,d){if(this.enabled&&(b=this.j.Yg(b))&&b!=this.r&&b.Z.Yd){b.Z.Yd.Se.xf.add(this.r);var h=this.Xk(a);a=this.Yk(a);var m=new Ai;Bi(m,this.body,b.Z.Yd,Z(.02*h,.02*a));
m.I=!0;m.Y=G(c);m.X=G(d);this.wd.push(Dg(this.hd,m))}};c.sb=new a;c.Ob=new function(){}})();function Si(a){this.j=a}
(function(){function a(){}function c(){}var b=Si.prototype;b.fb=function(a){this.behavior=a;this.j=a.j};b.fb.prototype.Ca=function(){};b.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j;this.ak=this.cm=this.$l=this.wn=this.Si=this.$i=this.di=this.ei=this.Wj=this.Dj=!1;this.td=null;this.Yn=-1;this.hh=this.gh=0;this.Sk=!1;this.Vh=this.se=0;this.Rk=!0;this.la=this.da=0};var d=b.Xa.prototype;d.ns=function(){this.jc=Math.cos(this.Yh);this.kc=Math.sin(this.Yh);this.yh=Math.cos(this.Yh-
Math.PI/2);this.zh=Math.sin(this.Yh-Math.PI/2);this.jc=Kb(this.jc);this.kc=Kb(this.kc);this.yh=Kb(this.yh);this.zh=Kb(this.zh);this.kn=this.qd;0>this.qd&&(this.jc*=-1,this.kc*=-1,this.qd=Math.abs(this.qd))};d.Ca=function(){this.mi=this.ka[0];this.pe=this.ka[1];this.Th=this.ka[2];this.yj=this.ka[3];this.kn=this.qd=this.ka[4];this.El=this.ka[5];this.Ym=0!==this.ka[6];this.Mn=this.ka[7]/1E3;this.Tt=1===this.ka[8];this.enabled=0!==this.ka[9];this.Di=!1;this.Ei=this.j.Bg(this.r);this.Zn=-1;this.Dh=0;this.Yh=
G(90);this.ns();var a=this;this.Tt&&!this.j.Ic&&(jQuery(document).keydown(function(b){a.ko(b)}),jQuery(document).keyup(function(b){a.lo(b)}));this.dd||(this.Lj=function(b){a.jo(b)});this.j.Cm(this.Lj);this.r.Z.isPlatformBehavior=!0};d.wc=function(){return{ii:this.wn,lfx:this.gh,lfy:this.hh,lfo:this.td?this.td.uid:-1,am:this.se,en:this.enabled,fall:this.Vh,ft:this.Rk,dx:this.da,dy:this.la,ms:this.mi,acc:this.pe,dec:this.Th,js:this.yj,g:this.qd,g1:this.kn,mf:this.El,wof:this.Di,woj:this.Ei?this.Ei.uid:
-1,ga:this.Yh,edj:this.Ym,cdj:this.Si,dj:this.$i,sus:this.Mn}};d.Qc=function(a){this.wn=a.ii;this.gh=a.lfx;this.hh=a.lfy;this.Yn=a.lfo;this.se=a.am;this.enabled=a.en;this.Vh=a.fall;this.Rk=a.ft;this.da=a.dx;this.la=a.dy;this.mi=a.ms;this.pe=a.acc;this.Th=a.dec;this.yj=a.js;this.qd=a.g;this.kn=a.g1;this.El=a.mf;this.Di=a.wof;this.Zn=a.woj;this.Yh=a.ga;this.Ym=a.edj;this.Si=a.cdj;this.$i=a.dj;this.Mn=a.sus;this.ak=this.cm=this.$l=this.di=this.ei=this.Wj=this.Dj=!1;this.Dh=0;this.ns()};d.Pe=function(){-1===
this.Yn?this.td=null:this.td=this.j.Yg(this.Yn);-1===this.Zn?this.Ei=null:this.Ei=this.j.Yg(this.Zn)};d.jo=function(a){this.td==a&&(this.td=null)};d.uh=function(){this.td=null;this.j.xr(this.Lj)};d.ko=function(a){switch(a.which){case 38:a.preventDefault();this.ei=!0;break;case 37:a.preventDefault();this.Dj=!0;break;case 39:a.preventDefault(),this.Wj=!0}};d.lo=function(a){switch(a.which){case 38:a.preventDefault();this.di=this.ei=!1;break;case 37:a.preventDefault();this.Dj=!1;break;case 39:a.preventDefault(),
this.Wj=!1}};d.vh=function(){this.ei=this.Wj=this.Dj=!1};d.i=function(){return 0>this.qd?-1:1};d.lq=function(){var a=null,b=null,c,d;c=this.r.x;d=this.r.y;this.r.x+=this.jc;this.r.y+=this.kc;this.r.ba();if(this.td&&this.j.Cd(this.r,this.td))return this.r.x=c,this.r.y=d,this.r.ba(),this.td;(a=this.j.xc(this.r))||0!==this.Vh||(b=this.j.Bg(this.r,!0));this.r.x=c;this.r.y=d;this.r.ba();if(a){if(this.j.Cd(this.r,a))return null;this.Sk=!1;return a}if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],
this.j.Cd(this.r,b[a])||d++;if(1<=d)return this.Sk=!0,b[0]}return null};d.gd=function(){};d.mr=function(){var a=this.j.Xg(this.r),b,c,d,h,m,l,n,q,p;this.ei||this.ak||(this.di=!1);var r=this.Dj||this.$l;d=this.Wj||this.cm;var t=(h=this.ei||this.ak)&&!this.di;this.ak=this.cm=this.$l=!1;if(this.enabled){this.wn&&(t=h=d=r=!1);h||(this.Dh=0);q=this.td;p=!1;this.Rk&&((this.j.xc(this.r)||this.j.Bg(this.r))&&this.j.he(this.r,-this.jc,-this.kc,4,!0),this.Rk=!1);!q||0!==this.la||q.y===this.hh&&q.x===this.gh||
(b=q.x-this.gh,c=q.y-this.hh,this.r.x+=b,this.r.y+=c,this.r.ba(),this.gh=q.x,this.hh=q.y,p=!0,this.j.xc(this.r)&&this.j.he(this.r,-b,-c,2.5*Math.sqrt(b*b+c*c)));var v=this.lq();if(c=this.j.xc(this.r))if(this.r.Z.inputPredicted)this.j.he(this.r,-this.jc,-this.kc,10,!1);else if(this.j.sr(this.r,Math.max(this.r.width,this.r.height)/2))this.j.xh(this.r,c);else return;v?(this.Si=this.$i=!1,0<this.la&&(this.Di||(this.j.xo(this.r,-this.jc,-this.kc,v),this.Di=!0),this.la=0),q!=v)?(this.td=v,this.gh=v.x,this.hh=
v.y,this.j.xh(this.r,v)):p&&(c=this.j.xc(this.r))&&(this.j.xh(this.r,c),0!==b&&(0<b?this.j.he(this.r,-this.yh,-this.zh):this.j.he(this.r,this.yh,this.zh)),this.j.he(this.r,-this.jc,-this.kc)):h||(this.Si=!0);if(v&&t||!v&&this.Ym&&h&&this.Si&&!this.$i)q=this.r.x,p=this.r.y,this.r.x-=this.jc,this.r.y-=this.kc,this.r.ba(),this.j.xc(this.r)?t=!1:(this.Dh=this.Mn,this.j.trigger(Si.prototype.V.bt,this.r),this.se=2,this.la=-this.yj,t=!0,v?this.di=!0:this.$i=!0),this.r.x=q,this.r.y=p,this.r.ba();v||(h&&0<
this.Dh?(this.la=-this.yj,this.Dh-=a):(this.td=null,this.la+=this.qd*a,this.la>this.El&&(this.la=this.El)),t&&(this.di=!0));this.Di=!!v;r==d&&(0>this.da?(this.da+=this.Th*a,0<this.da&&(this.da=0)):0<this.da&&(this.da-=this.Th*a,0>this.da&&(this.da=0)));r&&!d&&(this.da=0<this.da?this.da-(this.pe+this.Th)*a:this.da-this.pe*a);d&&!r&&(this.da=0>this.da?this.da+(this.pe+this.Th)*a:this.da+this.pe*a);this.da>this.mi?this.da=this.mi:this.da<-this.mi&&(this.da=-this.mi);r=!1;0!==this.da&&(q=this.r.x,p=this.r.y,
b=this.da*a*this.yh,c=this.da*a*this.zh,this.r.x+=this.yh*(1<this.da?1:-1)-this.jc,this.r.y+=this.zh*(1<this.da?1:-1)-this.kc,this.r.ba(),h=!1,m=this.j.xc(this.r),this.r.x=q+b,this.r.y=p+c,this.r.ba(),d=this.j.xc(this.r),!d&&v&&(d=this.j.Bg(this.r))&&(this.r.x=q,this.r.y=p,this.r.ba(),this.j.Cd(this.r,d)?(d=null,h=!1):h=!0,this.r.x=q+b,this.r.y=p+c,this.r.ba()),d?(b=Math.abs(this.da*a)+2,m||!this.j.he(this.r,-this.jc,-this.kc,b,h,d))?(this.j.xh(this.r,d),b=Math.max(Math.abs(this.da*a*2.5),30),this.j.he(this.r,
this.yh*(0>this.da?1:-1),this.zh*(0>this.da?1:-1),b,!1)?!v||h||this.Sk||(q=this.r.x,p=this.r.y,this.r.x+=this.jc,this.r.y+=this.kc,this.j.xc(this.r)?this.j.he(this.r,-this.jc,-this.kc,3,!1)||(this.r.x=q,this.r.y=p,this.r.ba()):(this.r.x=q,this.r.y=p,this.r.ba())):(this.r.x=q,this.r.y=p,this.r.ba()),h||(this.da=0)):!m&&!t&&Math.abs(this.la)<Math.abs(this.yj/4)&&(this.la=0,v||(r=!0)):(q=this.lq(),v&&!q?(c=Math.ceil(Math.abs(this.da*a))+2,q=this.r.x,p=this.r.y,this.r.x+=this.jc*c,this.r.y+=this.kc*c,
this.r.ba(),this.j.xc(this.r)||this.j.Bg(this.r)?this.j.he(this.r,-this.jc,-this.kc,c+2,!0):(this.r.x=q,this.r.y=p,this.r.ba())):q&&0===this.la&&this.j.xo(this.r,-this.jc,-this.kc,q)));if(0!==this.la){q=this.r.x;p=this.r.y;this.r.x+=this.la*a*this.jc;this.r.y+=this.la*a*this.kc;b=this.r.x;d=this.r.y;this.r.ba();c=this.j.xc(this.r);h=!1;if(!c&&0<this.la&&!v){if((h=0<this.Vh?null:this.j.Bg(this.r,!0))&&h.length){if(this.Ei){this.r.x=q;this.r.y=p;this.r.ba();n=m=0;for(l=h.length;m<l;m++)h[n]=h[m],this.j.Cd(this.r,
h[m])||n++;h.length=n;this.r.x=b;this.r.y=d;this.r.ba()}1<=h.length&&(c=h[0])}h=!!c}c&&(this.j.xh(this.r,c),this.Dh=0,b=h?Math.abs(this.la*a*2.5+10):Math.max(Math.abs(this.la*a*2.5+10),30),this.j.he(this.r,this.jc*(0>this.la?1:-1),this.kc*(0>this.la?1:-1),b,h,c)?(this.td=c,this.gh=c.x,this.hh=c.y,(this.Sk=h)&&(r=!0),this.la=0):(this.r.x=q,this.r.y=p,this.r.ba(),this.Di=!0,h||(this.la=0)))}3!==this.se&&0<this.la&&!v&&(this.j.trigger(Si.prototype.V.Xs,this.r),this.se=3);if(v||r)3===this.se||r||t&&0===
this.la?(this.j.trigger(Si.prototype.V.dt,this.r),this.se=0===this.da&&0===this.la?0:1):(0!==this.se&&0===this.da&&0===this.la&&(this.j.trigger(Si.prototype.V.it,this.r),this.se=0),1===this.se||0===this.da&&0===this.la||t||(this.j.trigger(Si.prototype.V.ht,this.r),this.se=1));0<this.Vh&&this.Vh--;this.Ei=this.j.Bg(this.r)}};a.prototype.bt=function(){return!0};a.prototype.Xs=function(){return!0};a.prototype.it=function(){return!0};a.prototype.ht=function(){return!0};a.prototype.dt=function(){return!0};
b.V=new a;c.prototype.nt=function(a){switch(a){case 0:this.$l=!0;break;case 1:this.cm=!0;break;case 2:this.ak=!0}};b.sb=new c;b.Ob=new function(){}})();function Ti(a){this.j=a}
(function(){var a=Ti.prototype;a.fb=function(a){this.behavior=a;this.j=a.j};a.fb.prototype.Ca=function(){};a.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j;this.mode=0};a=a.Xa.prototype;a.Ca=function(){this.mode=this.ka[0]};a.gd=function(){};a.Po=function(){this.r.Na();var a=this.r.ib,b=this.r.Q.Pb,d=!1;0===this.mode?(0>this.r.x&&(this.r.x=0,d=!0),0>this.r.y&&(this.r.y=0,d=!0),this.r.x>b.width&&(this.r.x=b.width,d=!0),this.r.y>b.height&&(this.r.y=b.height,d=!0)):(0>a.left&&
(this.r.x-=a.left,d=!0),0>a.top&&(this.r.y-=a.top,d=!0),a.right>b.width&&(this.r.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.r.y-=a.bottom-b.height,d=!0));d&&this.r.ba()}})();function Ui(a){this.j=a}
(function(){var a=Ui.prototype;a.fb=function(a){this.behavior=a;this.j=a.j};a.fb.prototype.Ca=function(){};a.Xa=function(a,b){this.type=a;this.behavior=a.behavior;this.r=b;this.j=a.j};a=a.Xa.prototype;a.Ca=function(){};a.gd=function(){this.r.Na();var a=this.r.ib,b=this.r.Q.Pb;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.j.Rf(this.r)}})();
function cd(){return[ed,id,fd,dd,hd,gd,Si,Ti,ld,jd,Ui,Ri,kd,U.prototype.V.Ks,fd.prototype.V.Ls,id.prototype.V.Bs,Si.prototype.sb.nt,fd.prototype.V.gp,id.prototype.V.Rs,dd.prototype.sb.ot,U.prototype.V.Es,U.prototype.sb.Cs,U.prototype.Ob.random,U.prototype.Ob.aw,ed.prototype.V.pk,dd.prototype.Ob.xt,dd.prototype.Ob.yt,dd.prototype.sb.Oc,dd.prototype.V.Ts,ld.prototype.sb.Fs,ed.prototype.sb.CallFunction,U.prototype.sb.vs,gd.prototype.sb.lt,U.prototype.V.jp,id.prototype.V.pt,id.prototype.V.Hs,U.prototype.sb.Gs]}
;
